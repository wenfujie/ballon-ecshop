(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8e9461fa"],{"0bfb":function(t,e,s){"use strict";var a=s("cb7c");t.exports=function(){var t=a(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},1125:function(t,e,s){"use strict";var a=s("1988"),i=s("a142"),n=s("f253"),r=s("1b10"),o=Object(i["i"])("area"),c=o[0],l=o[1];e["a"]=c({props:Object(a["a"])({},r["a"],{value:String,areaList:{type:Object,default:function(){return{}}},columnsNum:{type:[String,Number],default:3}}),data:function(){return{code:this.value,columns:[{values:[]},{values:[]},{values:[]}]}},computed:{province:function(){return this.areaList.province_list||{}},city:function(){return this.areaList.city_list||{}},county:function(){return this.areaList.county_list||{}},displayColumns:function(){return this.columns.slice(0,+this.columnsNum)}},watch:{value:function(){this.code=this.value,this.setValues()},areaList:{deep:!0,handler:function(){this.setValues()}},columnsNum:function(){var t=this;this.$nextTick(function(){t.setValues()})}},mounted:function(){this.setValues()},methods:{getList:function(t,e){var s=[];if("province"!==t&&!e)return s;var a=this[t];return s=Object.keys(a).map(function(t){return{code:t,name:a[t]}}),e&&("9"===e[0]&&"city"===t&&(e="9"),s=s.filter(function(t){return 0===t.code.indexOf(e)})),s},getIndex:function(t,e){var s="province"===t?2:"city"===t?4:6,a=this.getList(t,e.slice(0,s-2));"9"===e[0]&&"province"===t&&(s=1),e=e.slice(0,s);for(var i=0;i<a.length;i++)if(a[i].code.slice(0,s)===e)return i;return 0},onChange:function(t,e,s){this.code=e[s].code,this.setValues(),this.$emit("change",t,t.getValues(),s)},setValues:function(){var t=this.code||Object.keys(this.county)[0]||"",e=this.$refs.picker,s=this.getList("province"),a=this.getList("city",t.slice(0,2));e&&(e.setColumnValues(0,s),e.setColumnValues(1,a),a.length&&"00"===t.slice(2,4)&&(t=a[0].code),e.setColumnValues(2,this.getList("county",t.slice(0,4))),e.setIndexes([this.getIndex("province",t),this.getIndex("city",t),this.getIndex("county",t)]))},getValues:function(){return this.$refs.picker?this.$refs.picker.getValues().filter(function(t){return!!t}):[]},getArea:function(){var t=this.getValues(),e={code:"",country:"",province:"",city:"",county:""};if(!t.length)return e;var s=t.map(function(t){return t.name});return e.code=t[t.length-1].code,"9"===e.code[0]?(e.country=s[1]||"",e.province=s[2]||""):(e.province=s[0]||"",e.city=s[1]||"",e.county=s[2]||""),e},reset:function(){this.code="",this.setValues()}},render:function(t){var e=Object(a["a"])({},this.$listeners,{change:this.onChange});return t(n["a"],{ref:"picker",class:l(),attrs:{showToolbar:!0,valueKey:"name",title:this.title,loading:this.loading,columns:this.displayColumns,itemHeight:this.itemHeight,visibleItemCount:this.visibleItemCount,cancelButtonText:this.cancelButtonText,confirmButtonText:this.confirmButtonText},on:Object(a["a"])({},e)})}})},"1d82":function(t,e,s){},"1f54":function(t,e,s){"use strict";s("e7e5");var a=s("d399"),i=(s("96cf"),s("3b8d"));s("a481"),s("4917");function n(t){var e=t.match("<appid.*?>([\\s\\S]*)</appid>"),s=e[0].replace("<appid>","").replace("</appid>","").trim();return console.log("appid",s),s}function r(t,e,s){var a=n(t.requestStr);WeixinJSBridge.invoke("getBrandWCPayRequest",{appId:a||"wx45b40e5b82bd74d2",timeStamp:t.timeStamp,nonceStr:t.nonceStr,package:t.prepayId,signType:"MD5",paySign:t.paySign},function(t){"get_brand_wcpay_request:ok"==t.err_msg?e(200):s(-1)})}function o(t){var e=new Promise(function(e,s){0==t.payAmount?e(200):"undefined"==typeof WeixinJSBridge?document.addEventListener?document.addEventListener("WeixinJSBridgeReady",r(t,e,s),!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",r(t,e,s)),document.attachEvent("onWeixinJSBridgeReady",r(t,e,s))):r(t,e,s)});return e}e["a"]=function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e,s,i,n){var r,c,l;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=n||null,c={usrId:e.Storage.get("USER_INFO").usrId,paymentCode:"D_WEIXIN",tradeTypeCode:"JSAPI",paymentTypeCode:"D_FULL",shopCode:e.Storage.get("USER_INFO").shopCode,orderList:s,orderType:r,openId:e.Storage.get("WECHAT_INFO").openid,payAmount:i},console.log("payParam",c),t.next=5,e.$post("payment/orderPayment",c);case 5:if(l=t.sent,console.log("wxPayParam",l),"200"!==l.code){t.next=11;break}return t.abrupt("return",o(l));case 11:Object(a["a"])(l.message);case 12:case"end":return t.stop()}},t)}));return function(e,s,a,i){return t.apply(this,arguments)}}()},"1f87":function(t,e,s){"use strict";s("68ef"),s("1d82")},"28ff":function(t,e,s){"use strict";var a=s("ec26"),i=s.n(a);i.a},2994:function(t,e,s){"use strict";s("68ef"),s("c0c2")},"2bdd":function(t,e,s){"use strict";var a=s("a142"),i=s("543e"),n=s("db78"),r=s("023d"),o=Object(a["i"])("list"),c=o[0],l=o[1],u=o[2];e["a"]=c({model:{prop:"loading"},props:{error:Boolean,loading:Boolean,finished:Boolean,errorText:String,loadingText:String,finishedText:String,immediateCheck:{type:Boolean,default:!0},offset:{type:Number,default:300},direction:{type:String,default:"down"}},mounted:function(){this.scroller=Object(r["c"])(this.$el),this.handler(!0),this.immediateCheck&&this.$nextTick(this.check)},destroyed:function(){this.handler(!1)},activated:function(){this.handler(!0)},deactivated:function(){this.handler(!1)},watch:{loading:function(){this.$nextTick(this.check)},finished:function(){this.$nextTick(this.check)}},methods:{check:function(){if(!(this.loading||this.finished||this.error)){var t=this.$el,e=this.scroller,s=Object(r["e"])(e);if(s&&"none"!==window.getComputedStyle(t).display&&null!==t.offsetParent){var a=this.offset,i=this.direction;n()&&(this.$emit("input",!0),this.$emit("load"))}}function n(){if(t===e){var n=Object(r["d"])(t);if("up"===i)return n<=a;var o=n+s;return e.scrollHeight-o<=a}if("up"===i)return Object(r["d"])(e)-Object(r["a"])(t)<=a;var c=Object(r["a"])(t)+Object(r["e"])(t)-Object(r["a"])(e);return c-s<=a}},clickErrorText:function(){this.$emit("update:error",!1),this.$nextTick(this.check)},handler:function(t){this.binded!==t&&(this.binded=t,(t?n["b"]:n["a"])(this.scroller,"scroll",this.check))}},render:function(t){return t("div",{class:l()},["down"===this.direction&&this.slots(),this.loading&&t("div",{class:l("loading"),key:"loading"},[this.slots("loading")||[t(i["a"],{class:l("loading-icon")}),t("span",{class:l("loading-text")},[this.loadingText||u("loading")])]]),this.finished&&this.finishedText&&t("div",{class:l("finished-text")},[this.finishedText]),this.error&&this.errorText&&t("div",{on:{click:this.clickErrorText},class:l("error-text")},[this.errorText]),"up"===this.direction&&this.slots()])}})},"2e72":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"w100 h100"},[s("div",{staticClass:"flex-vbox w100 h100"},[s("div",{staticClass:"flex-auto overflow-scroll content"},[s("ordState",{attrs:{data:t.data}}),s("logis",{attrs:{data:t.data,store:t.store,logis:t.logis,area:t.area,switchBackMode:t.switchBackMode,"show-area-list":t.showAreaList,"show-store-list":t.showStoreList,"show-logis-list":t.showLogisList},on:{"update:showAreaList":function(e){t.showAreaList=e},"update:showStoreList":function(e){t.showStoreList=e},"update:showLogisList":function(e){t.showLogisList=e}}}),s("goods",{attrs:{data:t.data}})],1),s("div",{staticClass:"flex-between pd"},[t.btnName?s("button",{staticClass:"flex-auto flex-center h100px white",class:t.btnStyle,on:{click:function(e){t.btnEvent(t.btnName)}}},[t._v(t._s(t.btnName))]):t._e(),t.btnModify?s("button",{staticClass:"flex-auto flex-center h100px white",class:t.btnModifyStyle,on:{click:function(e){t.btnEvent(t.btnModify)}}},[t._v(t._s(t.btnModify))]):t._e()])]),s("van-popup",{attrs:{position:"top"},model:{value:t.showAreaList,callback:function(e){t.showAreaList=e},expression:"showAreaList"}},[s("van-area",{attrs:{"area-list":t.cityList},on:{confirm:t.selectArea,cancel:t.cancelAreaPopup}})],1),s("wheelPicker",{attrs:{"label-key":"dptName","list-data":t.storeList},on:{confirm:t.selectStore},model:{value:t.showStoreList,callback:function(e){t.showStoreList=e},expression:"showStoreList"}}),s("wheelPicker",{attrs:{"label-key":"shippingName","list-data":t.logisList},on:{confirm:t.selectLogis},model:{value:t.showLogisList,callback:function(e){t.showLogisList=e},expression:"showLogisList"}})],1)},i=[],n=(s("7f7f"),s("d697")),r=s("4752"),o={data:{},store:{},area:[],logis:{},btnName:null,btnStyle:"bg-blue",btnModify:null,btnModifyStyle:"bg-blue",params:{},cityList:[],areaList:[],storeList:[],logisList:[],showAreaList:!1,showStoreList:!1,showLogisList:!1,showLogisInfo:!1,showPayBtn:!1,returnWayCode:"kdth",ordStateMap:r["a"]},c=s("c765"),l={components:c["a"],data:function(){return o},methods:{initState:function(){Object(n["d"])(this)},selectArea:function(t){Object(n["g"])(this,t)},cancelAreaPopup:function(){this.showAreaList=!1},selectStore:function(t){Object(n["i"])(this,t)},selectLogis:function(t){Object(n["h"])(this,t)},switchBackMode:function(t){Object(n["j"])(this,t)},btnEvent:function(t){Object(n["a"])(this,t)}},created:function(){this.initState()},beforeDestroy:function(){this.data={},this.btnName=null,this.btnModify=null,this.showLogisList=!1},beforeRouteLeave:function(t,e,s){"addressList"!=t.name&&(this.Storage.set("EXPRE",{}),this.logis={},this.area={}),s()}},u=l,d=(s("6fd0"),s("2877")),h=Object(d["a"])(u,a,i,!1,null,"086e5ace",null);e["default"]=h.exports},3846:function(t,e,s){s("9e1e")&&"g"!=/./g.flags&&s("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:s("0bfb")})},"45e8":function(t,e,s){"use strict";var a=s("a320"),i=s.n(a);i.a},4752:function(t,e,s){"use strict";e["a"]={D_UNCONFIRMEAPPLY:"待审核",D_UNRETURN:"待寄回",D_CONFIRMEDAPPLY:"待寄回",D_REFUSED:"已拒绝",D_FINISHAPPLY:"已完成",D_ONDISPOSE:"已寄回",D_CANCELED:"已取消",D_UNCONFIRMEDRE:"待审核",D_CONFIRMEDRE:"待寄回",D_REDONE:"已完成",D_CANCELLATION:"已关闭",D_UNRECIVE:"已寄回",D_UNSEND:"待寄回",D_UNRECEIVE:"已寄回",D_HADERCEIVE:"处理中",D_QUALITYTEST:"处理中",D_HASRETUEN:"已关闭",D_RET_CHACE:"已关闭",D_INSTOCK:"已完成",D_RECIVED:"待处理",D_REPAIRING:"维修中",D_REPAIRED:"维修完成",D_SERVICED:"已完成",D_SERVICANCEL:"已关闭",D_SERUNPAY:"待支付",D_RET_FAILE:"处理中",D_RET_ING:"处理中"}},"510b":function(t,e,s){"use strict";var a=s("a142"),i="#07c160",n=s("ad06"),r=Object(a["i"])("steps"),o=r[0],c=r[1];e["a"]=o({props:{icon:String,title:String,active:Number,iconClass:String,description:String,direction:{type:String,default:"horizontal"},activeColor:{type:String,default:i},activeIcon:{type:String,default:"checked"}},data:function(){return{steps:[]}},render:function(t){var e=this.icon,s=this.title,a=this.description,i=this.slots,r=(i("icon")||e)&&t("div",{class:c("icon")},[i("icon")||t(n["a"],{attrs:{name:e},class:this.iconClass})]),o=t("div",{class:c("message")},[t("div",{class:c("title")},[s]),t("div",{class:[c("desc"),"van-ellipsis"]},[a])]);return t("div",{class:c([this.direction])},[(s||a)&&t("div",{class:c("status")},[r,o,i("message-extra")]),t("div",{class:c("items",{alone:!s&&!a})},[i()])])}})},"58e6":function(t,e,s){"use strict";var a=s("a142"),i=s("db78"),n=s("3875"),r=s("023d"),o=s("543e"),c=Object(a["i"])("pull-refresh"),l=c[0],u=c[1],d=c[2],h=["pulling","loosing","success"];e["a"]=l({mixins:[n["a"]],props:{disabled:Boolean,successText:String,pullingText:String,loosingText:String,loadingText:String,value:{type:Boolean,required:!0},successDuration:{type:Number,default:500},animationDuration:{type:Number,default:300},headHeight:{type:Number,default:50}},data:function(){return{status:"normal",height:0,duration:0}},computed:{untouchable:function(){return"loading"===this.status||"success"===this.status||this.disabled}},watch:{value:function(t){var e=this;this.duration=this.animationDuration,!t&&this.successText?(this.status="success",setTimeout(function(){e.setStatus(0)},this.successDuration)):this.setStatus(t?this.headHeight:0,t)}},mounted:function(){this.scrollEl=Object(r["c"])(this.$el)},methods:{onTouchStart:function(t){!this.untouchable&&this.getCeiling()&&(this.duration=0,this.touchStart(t))},onTouchMove:function(t){this.untouchable||(this.touchMove(t),!this.ceiling&&this.getCeiling()&&(this.duration=0,this.startY=t.touches[0].clientY,this.deltaY=0),this.ceiling&&this.deltaY>=0&&"vertical"===this.direction&&(this.setStatus(this.ease(this.deltaY)),Object(i["c"])(t)))},onTouchEnd:function(){!this.untouchable&&this.ceiling&&this.deltaY&&(this.duration=this.animationDuration,"loosing"===this.status?(this.setStatus(this.headHeight,!0),this.$emit("input",!0),this.$emit("refresh")):this.setStatus(0))},getCeiling:function(){return this.ceiling=0===Object(r["d"])(this.scrollEl),this.ceiling},ease:function(t){var e=this.headHeight;return t<e?t:t<2*e?Math.round(e+(t-e)/2):Math.round(1.5*e+(t-2*e)/4)},setStatus:function(t,e){this.height=t;var s=e?"loading":0===t?"normal":t<this.headHeight?"pulling":"loosing";s!==this.status&&(this.status=s)}},render:function(t){var e=this.status,s=this[e+"Text"]||d(e),a={transition:this.duration+"ms",transform:this.height?"translate3d(0,"+this.height+"px, 0)":""},i=this.slots(e)||[-1!==h.indexOf(e)&&t("div",{class:u("text")},[s]),"loading"===e&&t("div",{class:u("loading")},[t(o["a"]),t("span",[s])])];return t("div",{class:u()},[t("div",{class:u("track"),style:a,on:{touchstart:this.onTouchStart,touchmove:this.onTouchMove,touchend:this.onTouchEnd,touchcancel:this.onTouchEnd}},[t("div",{class:u("head")},[i]),this.slots()])])}})},6297:function(t,e,s){},6762:function(t,e,s){"use strict";var a=s("5ca1"),i=s("c366")(!0);a(a.P,"Array",{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),s("9c6c")("includes")},6859:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.isReady?s("div",{staticClass:"logis",class:[t.direction?"show-more-logis":"hidden-logis"]},[t.type?t._e():[s("div",{staticClass:"fs36B text-center mgT30"},[t._v(t._s(t.title))]),s("p",{staticClass:"title"},[t._v(t._s(t.returnShippingName)+"，"+t._s(t.returnShipCode))])],s("van-steps",{attrs:{direction:"vertical",active:0,"active-color":"#2BA4F3"}},t._l(t.sliceList,function(e,a){return s("van-step",{key:a},[s("h3",[t._v(t._s(e.acceptStation))]),s("p",[t._v(t._s(e.acceptTime))])])})),t.traceList.length>2?s("div",{staticClass:"fs28 text-center pdTb10 show-logis",on:{click:function(e){t.toggle()}}},[s("i",{staticClass:"iconfont icon-xialaxuan",class:{rotatingUp:t.direction,rotatingDown:!t.direction}})]):t._e()],2):t._e()},i=[],n=(s("96cf"),s("3b8d")),r=(s("77f8"),s("dc0f")),o=(s("1f87"),s("510b")),c=(s("c5f6"),s("bf3c"),{props:{data:{},type:{type:Number},title:{type:String,default:"物流信息"},returnShipCode:{type:String,default:""},returnShippingName:{type:String,default:""}},data:function(){return{logis:{},traceList:[],sliceList:[],actionName:"展开",direction:!1,isReady:!1}},components:{"van-steps":o["a"],"van-step":r["a"]},methods:{getLogisInfo:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(){var e,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e={expressCode:this.data.expressCode,logisticCode:this.data.expressNo},t.next=3,this.$post("third-party/getLogis",e);case 3:s=t.sent,this.traceList=s.traceList,this.sliceList=this.traceList.slice(0,2),this.isReady=!0;case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),toggle:function(){this.sliceList.length<=2?(this.sliceList=this.traceList,this.actionName="收起",this.direction=!0):(this.sliceList=this.traceList.slice(0,2),this.direction=!1,this.actionName="展开")},initData:function(){this.direction=!0,"kdps"===this.data.shippingWayCode&&this.data.expressNo&&this.data.expressCode?this.getLogisInfo():this.isReady=!1}},created:function(){this.initData()},watch:{data:function(){this.initData()}}}),l=c,u=(s("7865"),s("2877")),d=Object(u["a"])(l,a,i,!1,null,"f5493852",null);e["a"]=d.exports},"6ab3":function(t,e,s){},"6b54":function(t,e,s){"use strict";s("3846");var a=s("cb7c"),i=s("0bfb"),n=s("9e1e"),r="toString",o=/./[r],c=function(t){s("2aba")(RegExp.prototype,r,t,!0)};s("79e5")(function(){return"/a/b"!=o.call({source:"a",flags:"b"})})?c(function(){var t=a(this);return"/".concat(t.source,"/","flags"in t?t.flags:!n&&t instanceof RegExp?i.call(t):void 0)}):o.name!=r&&c(function(){return o.call(this)})},"6f1a":function(t,e,s){},"6fd0":function(t,e,s){"use strict";var a=s("fdc7"),i=s.n(a);i.a},"77f8":function(t,e,s){"use strict";s("68ef"),s("ae39")},7865:function(t,e,s){"use strict";var a=s("f058"),i=s.n(a);i.a},"7e8a":function(t,e,s){"use strict";var a=s("873f"),i=s.n(a);i.a},"873f":function(t,e,s){},9775:function(t,e,s){"use strict";var a=s("6f1a"),i=s.n(a);i.a},"9b91":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"scrollview",staticClass:"scrollView"},[s("div",{ref:"content",staticClass:"content"},[t._t("default")],2)])},i=[],n=s("1fba"),r={name:"ScrollView",props:{options:{type:Object,default:null}},data:function(){return{}},methods:{initScroll:function(){var t=this;if(this.scroll)this.scroll.refresh();else{var e={preventDefault:!1,bounce:!1,probeType:3};e=this.options?Object.assign(this.options,e):e,this.scroll=new n["a"](this.$refs.scrollview,e),this.scroll.on("scrollStart",function(){setTimeout(function(){t.scroll.options.preventDefault=!0,t.scroll.refresh()},0)}),this.scroll.on("scrollEnd",function(){t.scroll.options.preventDefault=!1,t.scroll.refresh()})}},getChildrenHeight:function(t){for(var e=t.children,s=0,a=0;a<e.length;a++)s+=e[a].offsetHeight;return s}},created:function(){var t=this;this.$nextTick(function(){t.initScroll()})},mounted:function(){}},o=r,c=(s("28ff"),s("2877")),l=Object(c["a"])(o,a,i,!1,null,null,null);e["a"]=l.exports},a320:function(t,e,s){},ab71:function(t,e,s){"use strict";s("68ef"),s("6ab3")},ae39:function(t,e,s){},bf3c:function(t,e,s){"use strict";s("ac6a"),s("456d"),s("6b54"),s("4917");var a=s("d225"),i=s("b0b4"),n=function(){function t(){Object(a["a"])(this,t)}return Object(i["a"])(t,null,[{key:"typeOf",value:function(t){return{}.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}},{key:"isObject",value:function(t){return"object"===this.typeOf(t)}},{key:"isNumber",value:function(t){return"number"===this.typeOf(t)}},{key:"isArray",value:function(t){return"array"===this.typeOf(t)}},{key:"isBoolean",value:function(t){return"boolean"===this.typeOf(t)}},{key:"isRegexp",value:function(t){return"regexp"===this.typeOf(t)}},{key:"isJson",value:function(t){return"json"===this.typeOf(t)}},{key:"isString",value:function(t){return"string"===this.typeOf(t)}},{key:"isMath",value:function(t){return"math"===this.typeOf(t)}},{key:"isDate",value:function(t){return"date"===this.typeOf(t)}},{key:"isError",value:function(t){return"error"===this.typeOf(t)}},{key:"isEmpty",value:function(t){return null===t||("undefined"===typeof t||(this.isArray(t)||this.isString(t)?0===t.length:this.isObject(t)?0===Object.keys(t).length:void 0))}}]),t}();e["a"]=n},c0c2:function(t,e,s){},c765:function(t,e,s){"use strict";s("e7e5");var a=s("d399"),i=(s("db2c"),s("1125")),n=(s("2994"),s("2bdd")),r=(s("8a58"),s("e41f")),o=(s("ab71"),s("58e6")),c=(s("be7f"),s("565f")),l=(s("d1cf"),s("ee83")),u=s("9b91"),d=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.data?s("div",{staticClass:"mgT20 pdT30"},[t._l(t.data.goodsList,function(e,a){return s("div",{key:a,staticClass:"flex-box mgB30"},[s("div",{staticClass:"img-box"},[s("img",{attrs:{src:t.getImg(e.thumb,"75*75"),onerror:"errImg(event)"}})]),s("div",{staticClass:"flex-lave fs32"},[s("div",{staticClass:"fw-bold mgB15"},[t._v(t._s(e.goodsName))]),s("div",{staticClass:"fw-bold mgB15"},[t._v("￥ "+t._s(e.averagePrice))]),s("div",{staticClass:"flex-between fs28 grey99"},[s("span",[t._v(t._s(e.colorName)+" "+t._s(e.sizeName))]),s("span",[t._v("x"+t._s(e.ordQty))])])])])}),s("div",{staticClass:"fs32"},[s("div",{staticClass:"mgB30"},[t._v("售后类型: "+t._s(t.data.returnTypeName))]),s("div",{staticClass:"mgB30"},[t._v("售后原因: "+t._s(t.data.returnsReason))]),t.isRefund&&t.data.goodsList?s("div",{staticClass:"mgB30"},[t._v("退款金额: ￥"+t._s(t.data.applyMoney))]):t._e(),t.isReturn?s("div",{staticClass:"mgB30"},[t._v("\n            退货数量: "+t._s(t.data.applyAmountQty)+"\n            "),t.data.goodsList?s("span",{staticClass:"refund"},[t._v("预计退款: ￥"+t._s(t._f("fixed2")(t.data.applyMoney)))]):t._e()]):t._e(),t.isChange?s("div",{staticClass:"flex-box"},[s("div",[t._v("换货商品:")]),s("div",{staticClass:"mgL20"},t._l(t.data.changeGoodsList,function(e,a){return s("div",{key:a,staticClass:"mgB30"},[s("span",[t._v(t._s(e.colorName))]),s("span",{staticClass:"mgL30"},[t._v(t._s(e.sizeName))]),s("span",{staticClass:"mgL30"},[t._v("x"+t._s(e.amount))])])}))]):t._e(),s("div",{staticClass:"mgB30"},[t._v("售后说明: "+t._s(t.data.reasonMemo||"无"))]),s("div",[t._v("\n            上传图片:\n            "),t.data.pictList&&0==t.data.pictList.length?s("span",[t._v("无")]):t._e()])]),s("div",{staticClass:"imgs mgB30"},t._l(t.data.pictList,function(e,a){return s("img",{key:a,attrs:{src:t.getImg(e.pictUrl,"75*75"),onerror:"errImg(event)"}})}))],2):t._e()},h=[],f=s("bf3c"),p={name:"goods",props:{data:{type:Object,default:null}},data:function(){return{isRefund:!1,isReturn:!1,isChange:!1,isRepair:!1}},methods:{initCurType:function(){switch(this.data.returnTypeCode){case"D_ONLYDRAWBACK":this.isRefund=!0;break;case"D_CHANGEPART":this.isChange=!0;break;case"D_REPAIR":this.isRepair=!0;break;case"D_RETURNSALES":this.isReturn=!0;break}}},watch:{data:function(){this.initCurType()}}},v=p,b=(s("7e8a"),s("2877")),g=Object(b["a"])(v,d,h,!1,null,"47b38b20",null),m=g.exports,y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.renderSelf?s("div",{staticClass:"logis-wrap"},[s("div",{staticClass:"text-center fs32B mgT30"},[t._v(t._s(t.title))]),s("div",{staticClass:"mgTb30 borderB1c pdB30"},[t.data.reciveWayCode?t._e():s("div",[s("div",{staticClass:"mgTb30 flex-center fs28"},[s("div",{staticClass:"w50 flex-between"},[s("div",{class:{selected:t.state},on:{click:function(e){t.select("kdth")}}},[t._v("快递寄回")]),s("div",{class:{selected:!t.state},on:{click:function(e){t.select("mdth")}}},[t._v("退回门店")])])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.state,expression:"state"}],staticClass:"mgTb20"},[s("div",{staticClass:"flex-box fs28 mgB20"},[s("div",{staticClass:"w20"},[t._v("收货人:")]),s("div",{staticClass:"flex-auto flex-between"},[s("div",{staticClass:"name"},[t._v(t._s(t.data.expressRecipient))]),s("div",{staticClass:"phone"},[t._v(t._s(t.phone))])])]),s("div",{staticClass:"flex-box fs28"},[s("div",{staticClass:"w20"},[t._v("收货地址:")]),s("div",{staticClass:"flex-auto"},[t._v(t._s(t.data.changeShopAddress))])]),s("div",{staticClass:"mgT20"},[s("div",{staticClass:"flex-box fs32 mgB20"},[s("div",{staticClass:"w30 flex-vcenter"},[t._v("快递单号")]),s("div",{staticClass:"input-box w100 flex-vcenter border1c pdLr10"},[s("input",{directives:[{name:"inputfix",rawName:"v-inputfix"},{name:"model",rawName:"v-model",value:t.kdInfo.expressNo,expression:"kdInfo.expressNo"}],staticClass:"flex-auto fs28",attrs:{type:"text",placeholder:"请填写快递单号"},domProps:{value:t.kdInfo.expressNo},on:{blur:function(e){e.preventDefault(),t.saveExpressCode()},input:function(e){e.target.composing||t.$set(t.kdInfo,"expressNo",e.target.value)}}})])]),s("div",{staticClass:"flex-box fs32"},[s("div",{staticClass:"w30 flex-vcenter"},[t._v("物流公司")]),s("div",{staticClass:"input-box w100 flex-vcenter border1c pdLr10",on:{click:function(e){t.selectLogis()}}},[s("div",{staticClass:"flex-auto fs28"},[t._v(t._s(t.logis.shippingName||"请选择物流公司"))]),s("i",{staticClass:"iconfont icon-youfan grey99"})])])])]),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.state,expression:"!state"}],staticClass:"mgTb20"},[s("div",{staticClass:"flex-box fs32 mgB20"},[s("div",{staticClass:"w30 flex-vcenter"},[t._v("所在地区")]),s("div",{staticClass:"input-box w100 flex-vcenter border1c pdLr10",on:{click:function(e){t.selectArea()}}},[s("div",{staticClass:"flex-auto fs28"},[t._v(t._s(t.selectedArea||"请选择地区"))]),s("i",{staticClass:"iconfont icon-youfan grey99"})])]),s("div",{staticClass:"flex-box fs32"},[s("div",{staticClass:"w30 flex-vcenter"},[t._v("选择门店")]),s("div",{staticClass:"input-box w100 flex-vcenter border1c pdLr10",on:{click:function(e){t.selectShop()}}},[s("div",{staticClass:"flex-auto fs28"},[t._v(t._s(t.store.dptName||"请选择退回的门店"))]),s("i",{staticClass:"iconfont icon-youfan grey99"})])])])]),t.showMdAddr?s("div",{staticClass:"mgTb30 pd20 borderDash grey66 fs28"},[s("div",{staticClass:"mgB20 fs32 grey66"},[t._v("门店地址")]),s("div",{staticClass:"mgB20 flex-box"},[s("div",{staticClass:"w20"},[t._v("门店名称:")]),s("div",{staticClass:"flex-auto flex-between"},[s("div",[t._v(t._s(t.store.dptName))]),s("div",[t._v(t._s(t.store.personMobile||t.store.phone))])])]),s("div",{staticClass:"flex-box"},[s("div",{staticClass:"w20"},[t._v("收货地址:")]),s("div",{staticClass:"flex-auto"},[t._v(t._s(t.selectedStoreAddr))])])]):t._e(),t.data.reciveWayCode?s("div",["kdth"==t.data.reciveWayCode?s("div",{staticClass:"mgTb20 fs28"},[s("div",{staticClass:"mgB20"},[t._v("快递寄回")]),s("div",{staticClass:"flex-box"},[s("div",{staticClass:"w30"},[t._v(t._s(t.data.shipPingName)+" :")]),s("div",{staticClass:"flex-auto"},[t._v(t._s(t.data.expressCode))])])]):t._e(),"mdth"==t.data.reciveWayCode?s("div",{staticClass:"mgTb20 fs28"},[s("div",{staticClass:"mgB20"},[t._v("退回门店")]),s("div",{staticClass:"flex-box"},[s("div",[t._v(t._s(t.data.changeShopName)+" :")]),s("div",{staticClass:"flex-auto pdL20"},[t._v(t._s(t.data.changeShopAddress))])])]):t._e()]):t._e()]),"kdth"==t.data.reciveWayCode||!t.data.reciveWayCode&&t.state?s("div",{staticClass:"flex-box borderB1c",on:{click:function(e){t.selectAddr()}}},[s("div",{staticClass:"flex-auto"},[s("div",{staticClass:"pdB20 fs28"},[s("div",{staticClass:"mgB20 text-center fs32B"},[t._v("我的收货地址")]),s("div",{staticClass:"flex-box"},[s("div",{staticClass:"mgR20"},[t._v(t._s(t.addrInfo.cargousrName))]),s("div",{staticClass:"flex-auto"},[t._v(t._s(t.addrInfo.cargoMobile))])]),s("div",{staticClass:"mgTb20"},[t._v(t._s(t.addrInfo.address))])])]),t.data.reciveWayCode?t._e():s("div",{staticClass:"flex-center"},[s("i",{staticClass:"iconfont icon-youfan grey99"})])]):t._e(),t.repairedFinish?s("div",[s("logis",{attrs:{title:"商家发出",returnShippingName:t.data.returnShippingName,returnShipCode:t.data.returnShipCode,data:t.logisic}})],1):t._e()]):t._e()},C=[],x=(s("7f7f"),s("ac6a"),s("96cf"),s("3b8d")),_=(s("6762"),s("6098")),k=s("4752"),w=s("6859"),S={props:{data:{},area:{},store:{},logis:{},switchBackMode:{type:Function},showLogisList:!1,showStoreList:!1,showAreaList:!1},data:function(){return{userInfo:{},addrInfo:{},logisic:{shippingWayCode:"kdps",expressCode:"",expressNo:""},state:{type:Boolean,default:!0},title:"",kdInfo:{expressNo:"",company:""},mdInfo:{name:"",phone:"",area:{},store:{}},renderSelf:!1,showMdAddr:!1,repairedFinish:!1,showlayer:!1,ordStateMap:k["a"],selectedArea:"",selectedStore:""}},methods:{initState:function(){var t=this.ordStateMap[this.data.applyStatusCode],e=this.data.returnTypeName;switch(this.renderContrl(t,e),this.initKdInfo(),e){case"换货":this.title="换货物流";break;case"返修":this.title="返修物流",this.logisic.expressNo=this.data.returnShipCode,this.logisic.expressCode=this.data.returnShippingCode;break;case"退货退款":this.title="退货物流";break;default:this.title=null,this.renderSelf=!1}},renderContrl:function(t,e){var s=["待审核","待支付","已取消","已关闭","已拒绝"],a=["待寄回"],i=["维修完成","已完成"];if(s.includes(t))this.renderSelf=!1;else if(a.includes(t))this.renderSelf=!0;else{if(this.afterFill(),"返修"!=e)return;i.includes(t)&&(this.repairedFinish=!0)}},beforFill:function(){this.renderSelf=!0},afterFill:function(){this.renderSelf=!0,this.data.shipPingCode||(this.showMdAddr=!1)},noRenderSelf:function(){this.renderSelf=!1},setAddrInfo:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:addrInfo,e=t.cargousrName,s=t.cargoMobile,a=t.destDesc,i=t.address,n=t.id;return this.$route.params.addressId=n,{cargousrName:e,cargoMobile:s,address:a?a+i:i}},initAddr:function(){var t=Object(x["a"])(regeneratorRuntime.mark(function t(){var e,s,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=this.$route.params.addrInfo,"待寄回"!==this.ordStateMap[this.data.applyStatusCode]){t.next=13;break}if(!f["a"].isEmpty(e)){t.next=10;break}return s={vipUsrId:this.Storage.get("USER_INFO").usrId},t.next=6,Object(_["getAddrList"])(s).then(function(t){var e=t.filter(function(t){if(1==t.defaultFlag)return t})[0];return e||(e=t[0]),e});case 6:a=t.sent,this.addrInfo=this.setAddrInfo(a),t.next=11;break;case 10:this.addrInfo=this.setAddrInfo(e);case 11:t.next=18;break;case 13:if(this.data.addressInfo){t.next=15;break}return t.abrupt("return");case 15:this.addrInfo.cargousrName=this.data.addressInfo.cargousrname,this.addrInfo.cargoMobile=this.data.addressInfo.cargomobile,this.addrInfo.address=this.data.addressInfo.cargoaddress;case 18:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),initKdInfo:function(){var t,e,s=this.Storage.get("EXPRE");s&&(t=s.expressNo,e=s.company),this.kdInfo.expressNo=t||"",this.kdInfo.company=e||""},select:function(t){this.state=!this.state,this.switchBackMode(t),this.state?(this.Storage.set("usrinfo",{}),this.mdInfo.name=null,this.mdInfo.phone=null):(this.Storage.set("EXPRE",{}),this.kdInfo.expressNo=null)},selectLogis:function(){this.showlayer=!0,this.$emit("update:showLogisList",this.showlayer)},selectArea:function(){this.showlayer=!0,this.$emit("update:showAreaList",this.showlayer)},selectShop:function(){0===this.area.length?Object(a["a"])("请先选择门店所在地区"):f["a"].isEmpty(this.$parent.storeList)?Object(a["a"])("您所在地区无线下门店"):(this.showlayer=!0,this.$emit("update:showStoreList",this.showlayer))},selectAddr:function(){this.data.reciveWayCode||this.$router.push({name:"addressList",query:{fromPage:"postSale"}})},saveExpressCode:function(){this.Storage.set("EXPRE",this.kdInfo)},saveUsrInfo:function(){this.Storage.set("usrinfo",this.mdInfo)}},watch:{area:function(t){var e=this;this.selectedArea="",t.forEach(function(t,s){e.selectedArea+=s<2?t.name+"-":t.name})},store:function(t){f["a"].isEmpty(t)?this.showMdAddr=!1:this.showMdAddr=!0},data:function(t){this.initState(),this.initAddr()}},components:{logis:w["a"]},computed:{selectedStoreAddr:function(){var t=this.store.provinceName+this.store.cityName+this.store.districtName+this.store.address;return t},phone:function(){return f["a"].isEmpty(this.data.expressPhone)?f["a"].isEmpty(this.data.expressMobile)?null:this.data.expressMobile:this.data.expressPhone}}},I=S,N=(s("9775"),Object(b["a"])(I,y,C,!1,null,"426dc85e",null)),L=N.exports,O=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"list-item-wrapper"},[s("div",{staticClass:"list",on:{click:function(e){t.viewDetail()}}},[s("div",{staticClass:"left-box"},[s("img",{attrs:{src:t.getImg(t.data.pictUrl,"87*87"),onerror:"errImg(event)"}})]),s("div",{staticClass:"middle-box"},[s("div",{staticClass:"fs32B mgB10",class:t.titleColor},[t._v("\n                状态:\n                "),s("span",{},[t._v(t._s(t.stateNameMap[t.data.applyStatusCode]))])]),s("div",{staticClass:"fs28 mgB8",class:t.globalStyle},[t._v("\n                售后类型:\n                "+t._s(t.data.returnTypeName)+"\n            ")]),s("div",{staticClass:"fs28 mgB8 h32",class:t.globalStyle},[t.showMoney?s("div",[s("span",[t._v(t._s(t.moneyName)+":")]),s("span",{class:t.moneyColor},[t._v(t._s(t.Rmb)+t._s(t._f("fixed2")(t.money)))])]):t._e()]),s("div",{staticClass:"fs28 grey99"},[t._v(t._s(t.data.applyTime))])]),s("div",{staticClass:"right-box"},[t.btnName?s("button",{staticClass:"button fs28 flex-center mgB20",class:t.btnStyle,on:{click:function(e){e.stopPropagation(),t.btnClick(t.btnName)}}},[t._v(t._s(t.btnName))]):t._e(),t.btnModify?s("button",{staticClass:"button fs28 flex-center",class:t.btnModifyStyle,on:{click:function(e){e.stopPropagation(),t.btnClick(t.btnModify)}}},[t._v(t._s(t.btnModify))]):t._e()])])])},R=[],E=s("d697"),j=s("1f54"),A={props:{data:{},reload:{type:Function}},data:function(){return{stateNameMap:k["a"],curStateName:"",curTypeName:"",btnName:null,btnStyle:"bg-gray",btnModify:null,btnModifyStyle:"bg-blue",money:0,moneyName:"退款金额",moneyColor:"",globalStyle:"",titleColor:"",Rmb:"￥",showMoney:!0}},methods:{init:function(){switch(this.btnName=null,this.btnModify=null,this.curStateName=this.stateNameMap[this.data.applyStatusCode],this.curTypeName=this.data.returnTypeName,this.curTypeName){case"返修":this.moneyColor="red",this.moneyName="返修费用",this.Rmb="-￥",this.data.repairPrice?this.money=this.data.repairPrice:this.showMoney=!1;break;case"换货":this.showMoney=!1;break;case"仅退款":this.moneyColor="green",this.money=this.data.applyMoney;break;case"退货退款":this.moneyColor="green",this.money=this.data.applyMoney;break;default:this.money=0,this.Rmb="￥"}switch(this.curStateName){case"待审核":this.btnName="取消申请",this.btnModify="修改申请";break;case"待寄回":this.btnName="填写物流",this.btnStyle="bg-blue";break;case"待支付":this.btnName="支付费用",this.btnStyle="bg-blue";break;case"已完成":this.globalStyle="grey99",this.moneyColor="";break;case"已关闭":this.globalStyle="grey99",this.titleColor="grey99",this.moneyColor="";break;case"已拒绝":this.btnName=null,this.btnStyle="bg-blue";break;default:this.btnName=null,this.btnModify=null,this.btnStyle="bg-gray"}},fillLogis:function(){Object(E["c"])(this,"postSaleDetail"),console.log("填写物流")},pay:function(){var t=this,e=this.data.reapplycode,s=this.data.repairPrice,i="D_PAY_REPAIR";Object(j["a"])(this,e,s,i).then(function(){Object(a["a"])("支付成功"),t.reload()},function(){})},btnClick:function(t){var e=this;switch(t){case"取消申请":Object(E["b"])(this).then(function(t){e.curStateName="已关闭",e.btnName=null,e.btnModify=null,e.globalStyle="grey99",e.titleColor="grey99",e.moneyColor="grey99",e.reload(),console.log("执行回调")},function(t){Object(a["a"])("取消失败")});break;case"重新申请":Object(E["f"])(this);break;case"修改申请":Object(E["e"])(this);break;case"填写物流":this.fillLogis();break;case"支付费用":this.pay();break}},viewDetail:function(){Object(E["c"])(this,"postSaleDetail")}},created:function(){this.init()},watch:{data:function(){this.init()}}},D=A,T=(s("f4e5"),Object(b["a"])(D,O,R,!1,null,"1a816fbe",null)),M=T.exports,B=s("e632"),$=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.data?s("div",[s("div",{staticClass:"fs36 text-center mgTb20 blue"},[t._v(t._s(t.ordStateMap[t.data.applyStatusCode]))]),t.reasonInfo?s("div",{class:["refuseInfo",{"text-change-line":"D_REFUSED"==t.data.applyStatusCode}]},[t._v(t._s(t.reasonInfo))]):t._e(),s("div",{staticClass:"fs32 pdTb20 borderB1c"},[s("div",{staticClass:"mgB30"},[t._v("申请单编号："+t._s(t.data.reApplycode))]),s("div",{staticClass:"mgB30"},[t._v("原订单号: "+t._s(t.data.billCode))]),s("div",{staticClass:"mgB30"},[t._v("申请时间："+t._s(t.data.applyTime))]),t.data.ticketMoney?s("div",{staticClass:"mgB30"},[t._v("\n            "+t._s(t.repairDesc)+"\n            "),s("span",{staticClass:"green"},[t._v("￥"+t._s(t.data.ticketMoney))]),t.data.payMemo?s("span",{staticClass:"grey"},[t._v(" ( "+t._s(t.data.payMemo)+" )")]):t._e()]):t._e()])]):t._e()},P=[],W=s("f26a"),F={props:{data:{}},data:function(){return{reasonInfo:"",repairDesc:"",showRepairPrice:!1,showReasonInfo:!1,ordStateMap:k["a"]}},methods:{init:function(){switch(this.reasonInfo=null,this.data.returnTypeName){case"仅退款":this.refunds(),console.log("仅退款");break;case"退货退款":this.returnGood(),console.log("退货退款");break;case"返修":this.repaired(),console.log("返修");break;case"换货":this.changeGood(),console.log("换货");break}},refunds:function(){switch(this.ordStateMap[this.data.applyStatusCode]){case"待审核":this.reasonInfo=null;break;case"处理中":this.reasonInfo=null;break;case"已完成":this.reasonInfo="退款资金已原路返回，以实际到账为准";break;case"已关闭":this.reasonInfo=null;break;case"已拒绝":this.reasonInfo="拒绝原因: "+this.data.refuseReason;break;default:this.reasonInfo=null}},returnGood:function(){switch(this.ordStateMap[this.data.applyStatusCode]){case"待审核":this.reasonInfo=null;break;case"待寄回":this.reasonInfo="请寄回并填写物流信息";break;case"已寄回":this.reasonInfo="处理中";break;case"已完成":this.reasonInfo="退款资金已原路返回，以实际到账为准";break;case"已关闭":this.reasonInfo=null;break;case"已拒绝":this.reasonInfo="拒绝原因: "+this.data.refuseReason;break;default:this.reasonInfo=null}},repaired:function(){switch(this.ordStateMap[this.data.applyStatusCode]){case"待审核":this.reasonInfo=null;break;case"待支付":this.reasonInfo="请先支付返修费用",this.repairDesc="返修费用: ";break;case"待寄回":this.reasonInfo="请寄回并填写物流信息",this.repairDesc="已支付返修费用";break;case"已寄回":this.reasonInfo="等待维修中",this.repairDesc="已支付返修费用";break;case"待处理":this.reasonInfo="等待维修中",this.repairDesc="已支付返修费用";break;case"维修中":this.reasonInfo="维修中",this.repairDesc="已支付返修费用";break;case"维修完成":this.repairDesc="已支付返修费用";break;case"已完成":this.repairDesc="已支付返修费用";break;case"已关闭":this.repairDesc=this.data.ticketMoney?"已支付返修费用":null,this.reasonInfo=null;break;case"已取消":this.reasonInfo=null;break;case"已拒绝":this.reasonInfo="拒绝原因: "+this.data.refuseReason;break;default:this.reasonInfo=null}},changeGood:function(){switch(this.ordStateMap[this.data.applyStatusCode]){case"待审核":this.reasonInfo=null;break;case"待寄回":this.reasonInfo="请寄回并填写物流信息";break;case"已寄回":this.reasonInfo="处理中";break;case"已完成":this.reasonInfo=null;break;case"已关闭":this.reasonInfo=null;break;case"已拒绝":this.reasonInfo="拒绝原因: "+this.data.refuseReason;break;default:this.reasonInfo=null}},getArea:function(){var t=Object(x["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(W["getDestnation"])();case 2:e=t.sent,console.log("area",e);case 4:case"end":return t.stop()}},t)}));function e(){return t.apply(this,arguments)}return e}()},created:function(){var t=this;this.$nextTick(function(){t.init()})},watch:{data:function(){this.init()}}},U=F,V=(s("45e8"),Object(b["a"])(U,$,P,!1,null,"7c422d5a",null)),H=V.exports;e["a"]={logis:L,goods:m,ScrollView:u["a"],WheelPicker:B["a"],ItemList:M,ordState:H,"van-datetime-picker":l["a"],"van-field":c["a"],"van-pull-refresh":o["a"],"van-popup":r["a"],"van-list":n["a"],"van-area":i["a"],"van-toast":a["a"]}},d697:function(t,e,s){"use strict";s.d(e,"c",function(){return u}),s.d(e,"b",function(){return h}),s.d(e,"f",function(){return f}),s.d(e,"e",function(){return p}),s.d(e,"d",function(){return C}),s.d(e,"g",function(){return x}),s.d(e,"i",function(){return _}),s.d(e,"h",function(){return k}),s.d(e,"j",function(){return S}),s.d(e,"a",function(){return L});s("e7e5");var a=s("d399"),i=(s("e17f"),s("2241")),n=(s("7f7f"),s("96cf"),s("3b8d")),r=s("f26a"),o=s("bf3c4"),c=s("bf3c"),l=s("1f54"),u=function(t,e){t.$router.push({name:e,params:Object.assign(t.data,{curStateName:t.curStateName,curTypeName:t.curTypeName})})},d=function(t){return new Promise(function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(s,a){var i,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return i={reApplyCode:""},"postSaleList"===t.$route.name?i.reApplyCode=t.data.reapplycode:i.reApplyCode=v(t).reapplycode,e.next=4,t.$put("postSale/cancelApply",i);case 4:n=e.sent,s(n);case 6:case"end":return e.stop()}},e)}));return function(t,s){return e.apply(this,arguments)}}())},h=function(t){return new Promise(function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(s,n){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:i["a"].confirm({title:"取消申请",message:"您确定要取消该售后申请单吗？"}).then(function(){d(t).then(function(t){200===t.statusCode?(Object(a["a"])("取消成功"),s(t)):(Object(a["a"])("取消失败"),console.log("取消失败"),n(-1))})});case 1:case"end":return e.stop()}},e)}));return function(t,s){return e.apply(this,arguments)}}())},f=function(t){var e=t.data.goodsList[0],s=Object.assign(e,{applyNum:t.data.applyAmountQty,reApplyCode:null,shopCode:t.data.shopCode||""});t.$router.push({name:"postSaleApply",params:s})},p=function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(e){var s,i,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return s=e.data.goodsList[0],t.next=3,e.$get("postSale/getApplyNum",{rtlOrdDtId:s.saleOrdDtId}).then(function(t){return t},function(t){Object(a["a"])("获取可申请数量失败")});case 3:i=t.sent,n=Object.assign(s,{applyNum:e.data.applyAmountQty+i.applyNum,reApplyCode:e.data.reApplycode||e.data.reapplycode,shopCode:e.data.shopCode||""}),e.$router.push({name:"postSaleApply",params:n});case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),v=function(t){var e=t.$route.params.reapplycode;return e?(t.Storage.set("reapplycode",{code:e}),{reapplycode:e}):{reapplycode:t.Storage.get("reapplycode").code}},b=function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(e){var s,a,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return s=v(e),a={reApplyCode:s.reapplycode},t.next=4,e.$get("postSale/getPostSaleDetail",a);case 4:return i=t.sent,t.abrupt("return",Object.assign(i.data,{curStateName:s.curStateName,curTypeName:s.curTypeName}));case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),g=function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(e,s){var a,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a={code:s,pageNo:1,pageSize:10},t.next=3,Object(r["getShopList"])(a);case 3:return i=t.sent,t.abrupt("return",i.list);case 5:case"end":return t.stop()}},t)}));return function(e,s){return t.apply(this,arguments)}}(),m=function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(e){var s,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return s={pageNum:1,pageSize:0,effFlag:1},t.next=3,e.$get("postSale/getExpressCompanies",s);case 3:return a=t.sent,t.abrupt("return",a.data);case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),y=function(){return o["a"]},C=function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,b(e);case 2:return e.data=t.sent,t.next=5,y();case 5:return e.cityList=t.sent,t.next=8,m(e);case 8:e.logisList=t.sent,e.btnName=null,e.btnModify=null,e.returnWayCode="kdth",t.t0=e.ordStateMap[e.data.applyStatusCode],t.next="待审核"===t.t0?15:"待支付"===t.t0?19:"待寄回"===t.t0?22:"已寄回"===t.t0?25:"待处理"===t.t0?27:"已取消"===t.t0?29:"已拒绝"===t.t0?31:"已关闭"===t.t0?34:"已完成"===t.t0?36:38;break;case 15:return e.btnName="取消申请",e.btnStyle="bg-gray",e.btnModify="修改申请",t.abrupt("break",41);case 19:return e.btnName="立即支付",e.btnStyle="bg-blue",t.abrupt("break",41);case 22:return e.btnName="提交",e.btnStyle="bg-blue",t.abrupt("break",41);case 25:return e.btnName=null,t.abrupt("break",41);case 27:return e.btnName=null,t.abrupt("break",41);case 29:return e.btnName=null,t.abrupt("break",41);case 31:return e.btnName=null,e.btnStyle="bg-blue",t.abrupt("break",41);case 34:return e.btnName=null,t.abrupt("break",41);case 36:return e.btnName=null,t.abrupt("break",41);case 38:e.btnName=null,e.btnStyle="bg-blue",e.btnModify=null;case 41:return t.next=43,g(e);case 43:e.storeList=t.sent,e.bthLock=!1;case 45:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),x=function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(e,s){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e.area=s,e.store={},t.prev=2,t.next=5,g(e,s[2].code);case 5:e.storeList=t.sent,e.showAreaList=!1,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](2),alert("请求失败",t.t0);case 12:case"end":return t.stop()}},t,null,[[2,9]])}));return function(e,s){return t.apply(this,arguments)}}(),_=function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(e,s){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e.store=s,e.showStoreList=!1;case 2:case"end":return t.stop()}},t)}));return function(e,s){return t.apply(this,arguments)}}(),k=function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(e,s){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e.logis=s;case 1:case"end":return t.stop()}},t)}));return function(e,s){return t.apply(this,arguments)}}(),w=function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(e){var s,i,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:s=e.data.reApplycode,i=e.data.ticketMoney,n="D_PAY_REPAIR",Object(l["a"])(e,s,i,n).then(function(){Object(a["a"])("支付成功"),e.initState()},function(){});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),S=function(t,e){t.returnWayCode=e,t.store={},t.logis={}},I=function(t,e){switch(t.returnWayCode){case"kdth":return e.expressCode?c["a"].isEmpty(e.shippingId)?(Object(a["a"])("请选择物流公司"),!1):(e.shopId=t.Storage.get("USER_INFO").shopId,!0):(Object(a["a"])("请填写快递单号"),!1);case"mdth":return e.shippingId=null,console.log("vm.area",t.area),c["a"].isEmpty(t.area)?(Object(a["a"])("请选择地区"),!1):c["a"].isEmpty(e.shopId)?(Object(a["a"])("请选择门店地址"),!1):(e.addressId=null,!0)}},N=function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(e){var s,i,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e.bthLock){t.next=11;break}if(e.bthLock=!0,s=e.$route.params.addressId,i={reApplyCode:e.data.reApplycode,returnWayCode:e.returnWayCode,shippingId:e.logis.shippingId,addressId:s,expressCode:e.Storage.get("EXPRE").expressNo||null,shopId:e.store.id},I(e,i)){t.next=7;break}return e.bthLock=!1,t.abrupt("return");case 7:return t.next=9,e.$post("postSale/savePostSaleLogisWx",i);case 9:n=t.sent,1==n?(Object(a["a"])("提交成功"),C(e),e.store={},e.logis={},e.Storage.set("EXPRE",{})):(Object(a["a"])("提交失败"),e.bthLock=!1);case 11:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),L=function(t,e){switch(e){case"取消申请":h(t).then(function(){C(t)});break;case"重新申请":f(t);break;case"修改申请":p(t);break;case"提交":N(t);break;case"立即支付":w(t);break}}},db2c:function(t,e,s){"use strict";s("68ef"),s("a526")},dc0f:function(t,e,s){"use strict";var a=s("a142"),i=s("ad06"),n=Object(a["i"])("step"),r=n[0],o=n[1];e["a"]=r({beforeCreate:function(){var t=this.$parent.steps,e=this.$parent.slots().indexOf(this.$vnode);t.splice(-1===e?t.length:e,0,this)},beforeDestroy:function(){var t=this.$parent.steps.indexOf(this);t>-1&&this.$parent.steps.splice(t,1)},computed:{status:function(){var t=this.$parent.steps.indexOf(this),e=this.$parent.active;return t<e?"finish":t===e?"process":void 0}},render:function(t){var e,s=this.status,a=this.$parent,n=a.activeIcon,r=a.activeColor,c=a.direction,l="process"===s&&{color:r};return t("div",{class:["van-hairline",o([c,(e={},e[s]=s,e)])]},[t("div",{class:o("title"),style:l},[this.slots()]),t("div",{class:o("circle-container")},["process"!==s?t("i",{class:o("circle")}):this.slots("active-icon")||t(i["a"],{attrs:{name:n},style:{color:r}})]),t("div",{class:o("line")})])}})},e632:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("van-popup",{attrs:{position:"top","show-toolbar":"true"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[t.show?s("van-picker",{attrs:{"value-key":t.labelKey,"show-toolbar":!0,columns:t.listData,"default-index":t.sIndex},on:{confirm:t.onConfirm,cancel:t.onCancel}}):t._e()],1)},i=[],n=(s("c5f6"),s("5f5f"),s("f253")),r=(s("8a58"),s("e41f")),o={components:{"van-popup":r["a"],"van-picker":n["a"]},props:{value:[Boolean],listData:[Array,Object],labelKey:String,defaultIndex:{type:[String,Number],default:0}},data:function(){return{show:this.value,sIndex:+this.defaultIndex}},methods:{onConfirm:function(t,e){this.sIndex=e,this.$emit("input",!1),this.$emit("confirm",t,e)},onCancel:function(){this.$emit("input",!1)},setDefault:function(t){}},watch:{value:function(t){this.show=t},show:function(t){t||this.$emit("input",t)}}},c=o,l=s("2877"),u=Object(l["a"])(c,a,i,!1,null,"519a47d4",null);e["a"]=u.exports},ec26:function(t,e,s){},f058:function(t,e,s){},f4e5:function(t,e,s){"use strict";var a=s("6297"),i=s.n(a);i.a},fdc7:function(t,e,s){}}]);