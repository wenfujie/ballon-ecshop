(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8d33a004"],{1125:function(e,t,i){"use strict";var s=i("1988"),o=i("a142"),n=i("f253"),r=i("1b10"),a=Object(o["i"])("area"),c=a[0],d=a[1];t["a"]=c({props:Object(s["a"])({},r["a"],{value:String,areaList:{type:Object,default:function(){return{}}},columnsNum:{type:[String,Number],default:3}}),data:function(){return{code:this.value,columns:[{values:[]},{values:[]},{values:[]}]}},computed:{province:function(){return this.areaList.province_list||{}},city:function(){return this.areaList.city_list||{}},county:function(){return this.areaList.county_list||{}},displayColumns:function(){return this.columns.slice(0,+this.columnsNum)}},watch:{value:function(){this.code=this.value,this.setValues()},areaList:{deep:!0,handler:function(){this.setValues()}},columnsNum:function(){var e=this;this.$nextTick(function(){e.setValues()})}},mounted:function(){this.setValues()},methods:{getList:function(e,t){var i=[];if("province"!==e&&!t)return i;var s=this[e];return i=Object.keys(s).map(function(e){return{code:e,name:s[e]}}),t&&("9"===t[0]&&"city"===e&&(t="9"),i=i.filter(function(e){return 0===e.code.indexOf(t)})),i},getIndex:function(e,t){var i="province"===e?2:"city"===e?4:6,s=this.getList(e,t.slice(0,i-2));"9"===t[0]&&"province"===e&&(i=1),t=t.slice(0,i);for(var o=0;o<s.length;o++)if(s[o].code.slice(0,i)===t)return o;return 0},onChange:function(e,t,i){this.code=t[i].code,this.setValues(),this.$emit("change",e,e.getValues(),i)},setValues:function(){var e=this.code||Object.keys(this.county)[0]||"",t=this.$refs.picker,i=this.getList("province"),s=this.getList("city",e.slice(0,2));t&&(t.setColumnValues(0,i),t.setColumnValues(1,s),s.length&&"00"===e.slice(2,4)&&(e=s[0].code),t.setColumnValues(2,this.getList("county",e.slice(0,4))),t.setIndexes([this.getIndex("province",e),this.getIndex("city",e),this.getIndex("county",e)]))},getValues:function(){return this.$refs.picker?this.$refs.picker.getValues().filter(function(e){return!!e}):[]},getArea:function(){var e=this.getValues(),t={code:"",country:"",province:"",city:"",county:""};if(!e.length)return t;var i=e.map(function(e){return e.name});return t.code=e[e.length-1].code,"9"===t.code[0]?(t.country=i[1]||"",t.province=i[2]||""):(t.province=i[0]||"",t.city=i[1]||"",t.county=i[2]||""),t},reset:function(){this.code="",this.setValues()}},render:function(e){var t=Object(s["a"])({},this.$listeners,{change:this.onChange});return e(n["a"],{ref:"picker",class:d(),attrs:{showToolbar:!0,valueKey:"name",title:this.title,loading:this.loading,columns:this.displayColumns,itemHeight:this.itemHeight,visibleItemCount:this.visibleItemCount,cancelButtonText:this.cancelButtonText,confirmButtonText:this.confirmButtonText},on:Object(s["a"])({},t)})}})},"18a0":function(e,t){!function(t,i){e.exports=i(t)}(window,function(e,t){function i(t,i,s){e.WeixinJSBridge?WeixinJSBridge.invoke(t,o(i),function(e){a(t,e,s)}):l(t,s)}function s(t,i,s){e.WeixinJSBridge?WeixinJSBridge.on(t,function(e){s&&s.trigger&&s.trigger(e),a(t,e,i)}):l(t,s||i)}function o(e){return e=e||{},e.appId=M.appId,e.verifyAppId=M.appId,e.verifySignType="sha1",e.verifyTimestamp=M.timestamp+"",e.verifyNonceStr=M.nonceStr,e.verifySignature=M.signature,e}function n(e){return{timeStamp:e.timestamp+"",nonceStr:e.nonceStr,package:e.package,paySign:e.paySign,signType:e.signType||"SHA1"}}function r(e){return e.postalCode=e.addressPostalCode,delete e.addressPostalCode,e.provinceName=e.proviceFirstStageName,delete e.proviceFirstStageName,e.cityName=e.addressCitySecondStageName,delete e.addressCitySecondStageName,e.countryName=e.addressCountiesThirdStageName,delete e.addressCountiesThirdStageName,e.detailInfo=e.addressDetailInfo,delete e.addressDetailInfo,e}function a(e,t,i){"openEnterpriseChat"==e&&(t.errCode=t.err_code),delete t.err_code,delete t.err_desc,delete t.err_detail;var s=t.errMsg;s||(s=t.err_msg,delete t.err_msg,s=c(e,s),t.errMsg=s),(i=i||{})._complete&&(i._complete(t),delete i._complete),s=t.errMsg||"",M.debug&&!i.isInnerInvoke&&alert(JSON.stringify(t));var o=s.indexOf(":");switch(s.substring(o+1)){case"ok":i.success&&i.success(t);break;case"cancel":i.cancel&&i.cancel(t);break;default:i.fail&&i.fail(t)}i.complete&&i.complete(t)}function c(e,t){var i=e,s=v[i];s&&(i=s);var o="ok";if(t){var n=t.indexOf(":");"confirm"==(o=t.substring(n+1))&&(o="ok"),"failed"==o&&(o="fail"),-1!=o.indexOf("failed_")&&(o=o.substring(7)),-1!=o.indexOf("fail_")&&(o=o.substring(5)),"access denied"!=(o=(o=o.replace(/_/g," ")).toLowerCase())&&"no permission to execute"!=o||(o="permission denied"),"config"==i&&"function not exist"==o&&(o="ok"),""==o&&(o="fail")}return i+":"+o}function d(e){if(e){for(var t=0,i=e.length;t<i;++t){var s=e[t],o=m[s];o&&(e[t]=o)}return e}}function l(e,t){if(!(!M.debug||t&&t.isInnerInvoke)){var i=v[e];i&&(e=i),t&&t._complete&&delete t._complete,console.log('"'+e+'",',t||"")}}function u(e){if(!(S||k||M.debug||w<"6.0.2"||N.systemType<0)){var t=new Image;N.appId=M.appId,N.initTime=P.initEndTime-P.initStartTime,N.preVerifyTime=P.preVerifyEndTime-P.preVerifyStartTime,O.getNetworkType({isInnerInvoke:!0,success:function(e){N.networkType=e.networkType;var i="https://open.weixin.qq.com/sdk/report?v="+N.version+"&o="+N.isPreVerifyOk+"&s="+N.systemType+"&c="+N.clientVersion+"&a="+N.appId+"&n="+N.networkType+"&i="+N.initTime+"&p="+N.preVerifyTime+"&u="+N.url;t.src=i}})}}function h(){return(new Date).getTime()}function p(t){y&&(e.WeixinJSBridge?t():C.addEventListener&&C.addEventListener("WeixinJSBridgeReady",t,!1))}function f(){O.invoke||(O.invoke=function(t,i,s){e.WeixinJSBridge&&WeixinJSBridge.invoke(t,o(i),s)},O.on=function(t,i){e.WeixinJSBridge&&WeixinJSBridge.on(t,i)})}function g(e){if("string"==typeof e&&e.length>0){var t=e.split("?")[0],i=e.split("?")[1];return t+=".html",void 0!==i?t+"?"+i:t}}if(!e.jWeixin){var m={config:"preVerifyJSAPI",onMenuShareTimeline:"menu:share:timeline",onMenuShareAppMessage:"menu:share:appmessage",onMenuShareQQ:"menu:share:qq",onMenuShareWeibo:"menu:share:weiboApp",onMenuShareQZone:"menu:share:QZone",previewImage:"imagePreview",getLocation:"geoLocation",openProductSpecificView:"openProductViewWithPid",addCard:"batchAddCard",openCard:"batchViewCard",chooseWXPay:"getBrandWCPayRequest",openEnterpriseRedPacket:"getRecevieBizHongBaoRequest",startSearchBeacons:"startMonitoringBeacons",stopSearchBeacons:"stopMonitoringBeacons",onSearchBeacons:"onBeaconsInRange",consumeAndShareCard:"consumedShareCard",openAddress:"editAddress"},v=function(){var e={};for(var t in m)e[m[t]]=t;return e}(),C=e.document,I=C.title,b=navigator.userAgent.toLowerCase(),_=navigator.platform.toLowerCase(),S=!(!_.match("mac")&&!_.match("win")),k=-1!=b.indexOf("wxdebugger"),y=-1!=b.indexOf("micromessenger"),L=-1!=b.indexOf("android"),x=-1!=b.indexOf("iphone")||-1!=b.indexOf("ipad"),w=function(){var e=b.match(/micromessenger\/(\d+\.\d+\.\d+)/)||b.match(/micromessenger\/(\d+\.\d+)/);return e?e[1]:""}(),P={initStartTime:h(),initEndTime:0,preVerifyStartTime:0,preVerifyEndTime:0},N={version:1,appId:"",initTime:0,preVerifyTime:0,networkType:"",isPreVerifyOk:1,systemType:x?1:L?2:-1,clientVersion:w,url:encodeURIComponent(location.href)},M={},E={_completes:[]},D={state:0,data:{}};p(function(){P.initEndTime=h()});var z=!1,A=[],O={config:function(e){M=e,l("config",e);var t=!1!==M.check;p(function(){if(t)i(m.config,{verifyJsApiList:d(M.jsApiList)},function(){E._complete=function(e){P.preVerifyEndTime=h(),D.state=1,D.data=e},E.success=function(e){N.isPreVerifyOk=0},E.fail=function(e){E._fail?E._fail(e):D.state=-1};var e=E._completes;return e.push(function(){u()}),E.complete=function(t){for(var i=0,s=e.length;i<s;++i)e[i]();E._completes=[]},E}()),P.preVerifyStartTime=h();else{D.state=1;for(var e=E._completes,s=0,o=e.length;s<o;++s)e[s]();E._completes=[]}}),f()},ready:function(e){0!=D.state?e():(E._completes.push(e),!y&&M.debug&&e())},error:function(e){w<"6.0.2"||(-1==D.state?e(D.data):E._fail=e)},checkJsApi:function(e){var t=function(e){var t=e.checkResult;for(var i in t){var s=v[i];s&&(t[s]=t[i],delete t[i])}return e};i("checkJsApi",{jsApiList:d(e.jsApiList)},(e._complete=function(e){if(L){var i=e.checkResult;i&&(e.checkResult=JSON.parse(i))}e=t(e)},e))},onMenuShareTimeline:function(e){s(m.onMenuShareTimeline,{complete:function(){i("shareTimeline",{title:e.title||I,desc:e.title||I,img_url:e.imgUrl||"",link:e.link||location.href,type:e.type||"link",data_url:e.dataUrl||""},e)}},e)},onMenuShareAppMessage:function(e){s(m.onMenuShareAppMessage,{complete:function(t){"favorite"===t.scene?i("sendAppMessage",{title:e.title||I,desc:e.desc||"",link:e.link||location.href,img_url:e.imgUrl||"",type:e.type||"link",data_url:e.dataUrl||""}):i("sendAppMessage",{title:e.title||I,desc:e.desc||"",link:e.link||location.href,img_url:e.imgUrl||"",type:e.type||"link",data_url:e.dataUrl||""},e)}},e)},onMenuShareQQ:function(e){s(m.onMenuShareQQ,{complete:function(){i("shareQQ",{title:e.title||I,desc:e.desc||"",img_url:e.imgUrl||"",link:e.link||location.href},e)}},e)},onMenuShareWeibo:function(e){s(m.onMenuShareWeibo,{complete:function(){i("shareWeiboApp",{title:e.title||I,desc:e.desc||"",img_url:e.imgUrl||"",link:e.link||location.href},e)}},e)},onMenuShareQZone:function(e){s(m.onMenuShareQZone,{complete:function(){i("shareQZone",{title:e.title||I,desc:e.desc||"",img_url:e.imgUrl||"",link:e.link||location.href},e)}},e)},updateTimelineShareData:function(e){i("updateTimelineShareData",{title:e.title,link:e.link,imgUrl:e.imgUrl},e)},updateAppMessageShareData:function(e){i("updateAppMessageShareData",{title:e.title,desc:e.desc,link:e.link,imgUrl:e.imgUrl},e)},startRecord:function(e){i("startRecord",{},e)},stopRecord:function(e){i("stopRecord",{},e)},onVoiceRecordEnd:function(e){s("onVoiceRecordEnd",e)},playVoice:function(e){i("playVoice",{localId:e.localId},e)},pauseVoice:function(e){i("pauseVoice",{localId:e.localId},e)},stopVoice:function(e){i("stopVoice",{localId:e.localId},e)},onVoicePlayEnd:function(e){s("onVoicePlayEnd",e)},uploadVoice:function(e){i("uploadVoice",{localId:e.localId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},downloadVoice:function(e){i("downloadVoice",{serverId:e.serverId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},translateVoice:function(e){i("translateVoice",{localId:e.localId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},chooseImage:function(e){i("chooseImage",{scene:"1|2",count:e.count||9,sizeType:e.sizeType||["original","compressed"],sourceType:e.sourceType||["album","camera"]},(e._complete=function(e){if(L){var t=e.localIds;try{t&&(e.localIds=JSON.parse(t))}catch(e){}}},e))},getLocation:function(e){},previewImage:function(e){i(m.previewImage,{current:e.current,urls:e.urls},e)},uploadImage:function(e){i("uploadImage",{localId:e.localId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},downloadImage:function(e){i("downloadImage",{serverId:e.serverId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},getLocalImgData:function(e){!1===z?(z=!0,i("getLocalImgData",{localId:e.localId},(e._complete=function(e){if(z=!1,A.length>0){var t=A.shift();wx.getLocalImgData(t)}},e))):A.push(e)},getNetworkType:function(e){var t=function(e){var t=e.errMsg;e.errMsg="getNetworkType:ok";var i=e.subtype;if(delete e.subtype,i)e.networkType=i;else{var s=t.indexOf(":"),o=t.substring(s+1);switch(o){case"wifi":case"edge":case"wwan":e.networkType=o;break;default:e.errMsg="getNetworkType:fail"}}return e};i("getNetworkType",{},(e._complete=function(e){e=t(e)},e))},openLocation:function(e){i("openLocation",{latitude:e.latitude,longitude:e.longitude,name:e.name||"",address:e.address||"",scale:e.scale||28,infoUrl:e.infoUrl||""},e)},getLocation:function(e){e=e||{},i(m.getLocation,{type:e.type||"wgs84"},(e._complete=function(e){delete e.type},e))},hideOptionMenu:function(e){i("hideOptionMenu",{},e)},showOptionMenu:function(e){i("showOptionMenu",{},e)},closeWindow:function(e){i("closeWindow",{},e=e||{})},hideMenuItems:function(e){i("hideMenuItems",{menuList:e.menuList},e)},showMenuItems:function(e){i("showMenuItems",{menuList:e.menuList},e)},hideAllNonBaseMenuItem:function(e){i("hideAllNonBaseMenuItem",{},e)},showAllNonBaseMenuItem:function(e){i("showAllNonBaseMenuItem",{},e)},scanQRCode:function(e){i("scanQRCode",{needResult:(e=e||{}).needResult||0,scanType:e.scanType||["qrCode","barCode"]},(e._complete=function(e){if(x){var t=e.resultStr;if(t){var i=JSON.parse(t);e.resultStr=i&&i.scan_code&&i.scan_code.scan_result}}},e))},openAddress:function(e){i(m.openAddress,{},(e._complete=function(e){e=r(e)},e))},openProductSpecificView:function(e){i(m.openProductSpecificView,{pid:e.productId,view_type:e.viewType||0,ext_info:e.extInfo},e)},addCard:function(e){for(var t=e.cardList,s=[],o=0,n=t.length;o<n;++o){var r=t[o],a={card_id:r.cardId,card_ext:r.cardExt};s.push(a)}i(m.addCard,{card_list:s},(e._complete=function(e){var t=e.card_list;if(t){for(var i=0,s=(t=JSON.parse(t)).length;i<s;++i){var o=t[i];o.cardId=o.card_id,o.cardExt=o.card_ext,o.isSuccess=!!o.is_succ,delete o.card_id,delete o.card_ext,delete o.is_succ}e.cardList=t,delete e.card_list}},e))},chooseCard:function(e){i("chooseCard",{app_id:M.appId,location_id:e.shopId||"",sign_type:e.signType||"SHA1",card_id:e.cardId||"",card_type:e.cardType||"",card_sign:e.cardSign,time_stamp:e.timestamp+"",nonce_str:e.nonceStr},(e._complete=function(e){e.cardList=e.choose_card_info,delete e.choose_card_info},e))},openCard:function(e){for(var t=e.cardList,s=[],o=0,n=t.length;o<n;++o){var r=t[o],a={card_id:r.cardId,code:r.code};s.push(a)}i(m.openCard,{card_list:s},e)},consumeAndShareCard:function(e){i(m.consumeAndShareCard,{consumedCardId:e.cardId,consumedCode:e.code},e)},chooseWXPay:function(e){i(m.chooseWXPay,n(e),e)},openEnterpriseRedPacket:function(e){i(m.openEnterpriseRedPacket,n(e),e)},startSearchBeacons:function(e){i(m.startSearchBeacons,{ticket:e.ticket},e)},stopSearchBeacons:function(e){i(m.stopSearchBeacons,{},e)},onSearchBeacons:function(e){s(m.onSearchBeacons,e)},openEnterpriseChat:function(e){i("openEnterpriseChat",{useridlist:e.userIds,chatname:e.groupName},e)},launchMiniProgram:function(e){i("launchMiniProgram",{targetAppId:e.targetAppId,path:g(e.path),envVersion:e.envVersion},e)},miniProgram:{navigateBack:function(e){e=e||{},p(function(){i("invokeMiniProgramAPI",{name:"navigateBack",arg:{delta:e.delta||1}},e)})},navigateTo:function(e){p(function(){i("invokeMiniProgramAPI",{name:"navigateTo",arg:{url:e.url}},e)})},redirectTo:function(e){p(function(){i("invokeMiniProgramAPI",{name:"redirectTo",arg:{url:e.url}},e)})},switchTab:function(e){p(function(){i("invokeMiniProgramAPI",{name:"switchTab",arg:{url:e.url}},e)})},reLaunch:function(e){p(function(){i("invokeMiniProgramAPI",{name:"reLaunch",arg:{url:e.url}},e)})},postMessage:function(e){p(function(){i("invokeMiniProgramAPI",{name:"postMessage",arg:e.data||{}},e)})},getEnv:function(t){p(function(){t({miniprogram:"miniprogram"===e.__wxjs_environment})})}}},T=1,F={};return C.addEventListener("error",function(e){if(!L){var t=e.target,i=t.tagName,s=t.src;if(("IMG"==i||"VIDEO"==i||"AUDIO"==i||"SOURCE"==i)&&-1!=s.indexOf("wxlocalresource://")){e.preventDefault(),e.stopPropagation();var o=t["wx-id"];if(o||(o=T++,t["wx-id"]=o),F[o])return;F[o]=!0,wx.ready(function(){wx.getLocalImgData({localId:s,success:function(e){t.src=e.localData}})})}}},!0),C.addEventListener("load",function(e){if(!L){var t=e.target,i=t.tagName;if(t.src,"IMG"==i||"VIDEO"==i||"AUDIO"==i||"SOURCE"==i){var s=t["wx-id"];s&&(F[s]=!1)}}},!0),t&&(e.wx=e.jWeixin=O),O}})},"1b10":function(e,t,i){"use strict";i.d(t,"a",function(){return s});var s={title:String,loading:Boolean,showToolbar:Boolean,cancelButtonText:String,confirmButtonText:String,visibleItemCount:{type:Number,default:5},itemHeight:{type:Number,default:44}}},"20fb":function(e,t,i){"use strict";var s=i("a142"),o=Object(s["i"])("stepper"),n=o[0],r=o[1];t["a"]=n({props:{value:null,integer:Boolean,disabled:Boolean,inputWidth:String,asyncChange:Boolean,disableInput:Boolean,min:{type:[String,Number],default:1},max:{type:[String,Number],default:1/0},step:{type:[String,Number],default:1},defaultValue:{type:[String,Number],default:1}},data:function(){var e=this.range(Object(s["c"])(this.value)?this.value:this.defaultValue);return e!==+this.value&&this.$emit("input",e),{currentValue:e}},computed:{minusDisabled:function(){return this.disabled||this.currentValue<=this.min},plusDisabled:function(){return this.disabled||this.currentValue>=this.max}},watch:{value:function(e){e!==this.currentValue&&(this.currentValue=this.format(e))},currentValue:function(e){this.$emit("input",e),this.$emit("change",e)}},methods:{format:function(e){return e=String(e).replace(/[^0-9.-]/g,""),""===e?0:this.integer?Math.floor(e):+e},range:function(e){return Math.max(Math.min(this.max,this.format(e)),this.min)},onInput:function(e){var t=e.target.value,i=this.format(t);this.asyncChange?(e.target.value=this.currentValue,this.$emit("input",i),this.$emit("change",i)):(+t!==i&&(e.target.value=i),this.currentValue=i)},onChange:function(e){if(this[e+"Disabled"])this.$emit("overlimit",e);else{var t="minus"===e?-this.step:+this.step,i=Math.round(100*(this.currentValue+t))/100;this.asyncChange?(this.$emit("input",i),this.$emit("change",i)):this.currentValue=this.range(i),this.$emit(e)}},onFocus:function(e){this.$emit("focus",e)},onBlur:function(e){this.currentValue=this.range(this.currentValue),this.$emit("blur",e),0===this.currentValue&&(e.target.value=this.currentValue)}},render:function(e){var t=this,i=function(e){return function(){t.onChange(e)}};return e("div",{class:r()},[e("button",{class:r("minus",{disabled:this.minusDisabled}),on:{click:i("minus")}}),e("input",{attrs:{type:"number",disabled:this.disabled||this.disableInput},class:r("input"),domProps:{value:this.currentValue},style:{width:this.inputWidth},on:{input:this.onInput,focus:this.onFocus,blur:this.onBlur}}),e("button",{class:r("plus",{disabled:this.plusDisabled}),on:{click:i("plus")}})])}})},"265f":function(e,t,i){"use strict";var s=i("5e61"),o=i.n(s);o.a},3846:function(e,t,i){i("9e1e")&&"g"!=/./g.flags&&i("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:i("0bfb")})},4128:function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"container",on:{click:function(e){e.stopPropagation()}}},[i("ul",{staticClass:"detail"},[e.mainFabricName?i("li",[e._v("主面料—"+e._s(e.mainFabricName))]):e._e(),e._l(e.partList,function(t,s){return i("li",[e._v("\n            "+e._s(t.partName)+"—"+e._s(t.fabricName)+"\n        ")])}),e._l(e.embList.embpt,function(t,s){return i("li",{staticClass:"emb-print-part"},[i("div",[i("span",[e._v("绣花—"+e._s(t.regionName))]),t.embprice?i("p",[e._v("￥"+e._s(e._f("$goldDivide")(t.embprice)))]):e._e()]),i("img",{attrs:{src:e.getImg(t.embFileUrl,"60*60"),onerror:"errImg(event)"}})])}),e._l(e.embList.print,function(t,s){return i("li",{staticClass:"emb-print-part"},[i("div",[i("span",[e._v("印花—"+e._s(t.regionName))]),t.prtprice?i("p",[e._v("￥"+e._s(e._f("$goldDivide")(t.prtprice)))]):e._e()]),i("img",{attrs:{src:e.getImg(t.embPrintPictUrl,"60*60"),onerror:"errImg(event)"}})])}),e._l(e.embList.emb,function(t,s){return i("li",{staticClass:"emb-part"},[i("p",[e._v("绣字—"+e._s(t.regionName))]),i("p",[i("span",[e._v(e._s(t.fontsName)+":")]),i("span",{style:{color:t.colorNumberHx}},[e._v(e._s(t.content))])]),t.embprice?i("p",[e._v("￥"+e._s(e._f("$goldDivide")(t.embprice)))]):e._e()])})],2)])},o=[],n=(i("ac6a"),{components:{},data:function(){return{}},props:{partList:{type:Array,default:[]},mainFabricName:{type:String,default:""},fromPage:{type:String,default:""}},computed:{embList:function(){var e=this,t={emb:[],embpt:[],print:[]};return console.log(this.partList,"partListpartList"),this.partList.forEach(function(i){"shoppingCart"===e.fromPage?(e.$set(i,"salePrice",i.price),e.$set(i,"fabricName",i.fabricname),e.$set(i,"partName",i.partname),i.rtlCartDttEmbDto&&(i.rtlCartDttEmbDto.regionName=i.regionName,i.rtlCartDttEmbDto.fontsName=i.rtlCartDttEmbDto.ictEmbFontsHdName,i.rtlCartDttEmbDto.content=i.rtlCartDttEmbDto.embValue,i.rtlCartDttEmbDto.embprice=i.rtlCartDttEmbDto.salePrice,t.emb.push(i.rtlCartDttEmbDto)),i.rtlCartDttEmbptDto&&(i.rtlCartDttEmbptDto.regionName=i.regionName,i.rtlCartDttEmbptDto.embFileUrl=i.rtlCartDttEmbptDto.fileUrl,i.rtlCartDttEmbptDto.embprice=i.rtlCartDttEmbptDto.salePrice,t.embpt.push(i.rtlCartDttEmbptDto)),i.rtlCartDttPrintDto&&(i.rtlCartDttPrintDto.regionName=i.regionName,i.rtlCartDttPrintDto.embPrintPictUrl=i.rtlCartDttPrintDto.fileUrl,i.rtlCartDttPrintDto.prtprice=i.rtlCartDttPrintDto.salePrice,t.print.push(i.rtlCartDttPrintDto))):"orderSettle"===e.fromPage?(i.emb.length&&(i.emb[0].regionName=i.regionName,t.emb.push(i.emb[0])),i.ept.length&&(i.ept[0].regionName=i.regionName,t.embpt.push(i.ept[0])),i.prt.length&&(i.prt[0].regionName=i.regionName,t.print.push(i.prt[0]))):(i.emb&&i.emb.length&&(i.emb[0].regionName=i.regionName,i.emb[0].fontsName=i.emb[0].ictEmbfontsHdName,i.emb[0].embprice=i.emb[0].price,t.emb.push(i.emb[0])),i.embPrint&&i.embPrint.length&&(i.embPrint[0].regionName=i.regionName,i.embPrint[0].embprice=i.embPrint[0].price,i.embPrint[0].embFileUrl=i.embPrint[0].embPrintPictUrl,t.embpt.push(i.embPrint[0])),i.prtPrint&&i.prtPrint.length&&(i.prtPrint[0].regionName=i.regionName,t.print.push(i.prtPrint[0])))}),console.log("即将打印data=====》",t),t}},methods:{},created:function(){}}),r=n,a=(i("f8f0"),i("2877")),c=Object(a["a"])(r,s,o,!1,null,"64c4f428",null);t["a"]=c.exports},"5e61":function(e,t,i){},"5f5f":function(e,t,i){"use strict";i("68ef"),i("a526")},"6b54":function(e,t,i){"use strict";i("3846");var s=i("cb7c"),o=i("0bfb"),n=i("9e1e"),r="toString",a=/./[r],c=function(e){i("2aba")(RegExp.prototype,r,e,!0)};i("79e5")(function(){return"/a/b"!=a.call({source:"a",flags:"b"})})?c(function(){var e=s(this);return"/".concat(e.source,"/","flags"in e?e.flags:!n&&e instanceof RegExp?o.call(e):void 0)}):a.name!=r&&c(function(){return a.call(this)})},7744:function(e,t,i){"use strict";var s=i("1988"),o=i("2638"),n=i.n(o),r=i("a142"),a=i("dfaf"),c=i("ba31"),d=i("48f4"),l=i("ad06"),u=Object(r["i"])("cell"),h=u[0],p=u[1];function f(e,t,i,s){var o=t.icon,a=t.size,u=t.title,h=t.label,f=t.value,g=t.isLink,m=t.arrowDirection,v=i.title||Object(r["c"])(u),C=i["default"]||Object(r["c"])(f),I=i.label||Object(r["c"])(h),b=I&&e("div",{class:[p("label"),t.labelClass]},[i.label?i.label():h]),_=v&&e("div",{class:[p("title"),t.titleClass],style:t.titleStyle},[i.title?i.title():e("span",[u]),b]),S=C&&e("div",{class:[p("value",{alone:!i.title&&!u}),t.valueClass]},[i["default"]?i["default"]():e("span",[f])]),k=i.icon?i.icon():o&&e(l["a"],{class:p("left-icon"),attrs:{name:o}}),y=i["right-icon"],L=y?y():g&&e(l["a"],{class:p("right-icon"),attrs:{name:m?"arrow-"+m:"arrow"}}),x=function(e){Object(c["a"])(s,"click",e),Object(d["a"])(s)},w={center:t.center,required:t.required,borderless:!t.border,clickable:g||t.clickable};return a&&(w[a]=a),e("div",n()([{class:p(w),on:{click:x}},Object(c["b"])(s)]),[k,_,S,L,i.extra&&i.extra()])}f.props=Object(s["a"])({},a["a"],d["c"],{clickable:Boolean,arrowDirection:String}),t["a"]=h(f)},"8a58":function(e,t,i){"use strict";i("68ef"),i("4d75")},a526:function(e,t,i){},adb4:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"settlement"},[i("div",{staticClass:"delivery-box"},[i("p",[e._v("配送方式")]),e._l(e.deliveryType,function(t){return i("div",{key:t.id,staticClass:"van-checkbox",on:{click:function(i){e.choseDelivery(t)}}},[i("i",{staticClass:"van-checkbox__icon",class:{checked:e.delivery===t.shipCode}}),i("p",{staticClass:"checkbox-label"},[e._v(e._s(t.shipName))])])})],2),i("div",{staticClass:"address-box"},["kdps"===e.delivery?i("div",[i("h5",{staticClass:"address-title"},[e._v("收货信息")]),!0===e.hasAddr?i("div",{staticClass:"address-content",on:{click:e.toAddress}},[i("div",{staticClass:"default-cell"},[i("label",[e._v("收货人：")]),i("p",[e._v(e._s(e.addressMsg.cargousrName))])]),i("div",{staticClass:"default-cell"},[i("label",[e._v("联系方式：")]),i("p",[e._v(e._s(e.addressMsg.cargoPhone))])]),i("div",{staticClass:"default-cell"},[i("label",[e._v("收货地址：")]),i("p",[e._v(e._s(e.addressMsg.destDesc+e.addressMsg.address))])]),e._m(0)]):e._e(),!1===e.hasAddr?i("div",{staticClass:"address-content"},[i("div",{staticClass:"detail-cell"},[i("div",{staticClass:"cell-title"},[e._v("姓名")]),i("div",{staticClass:"cell-content"},[i("input",{directives:[{name:"inputfix",rawName:"v-inputfix"},{name:"model",rawName:"v-model",value:e.addressMsg.cargousrName,expression:"addressMsg.cargousrName"}],attrs:{type:"text"},domProps:{value:e.addressMsg.cargousrName},on:{input:function(t){t.target.composing||e.$set(e.addressMsg,"cargousrName",t.target.value)}}})])]),i("div",{staticClass:"detail-cell"},[i("div",{staticClass:"cell-title"},[e._v("联系方式")]),i("div",{staticClass:"cell-content",class:{"warn-tip":!0!==e.checkPhone}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.addressMsg.cargoMobile,expression:"addressMsg.cargoMobile"},{name:"inputfix",rawName:"v-inputfix"}],attrs:{maxlength:"11"},domProps:{value:e.addressMsg.cargoMobile},on:{change:function(t){e.checkPhoneNum(e.addressMsg.cargoMobile)},input:function(t){t.target.composing||e.$set(e.addressMsg,"cargoMobile",t.target.value)}}})])]),i("div",{staticClass:"detail-cell"},[i("div",{staticClass:"cell-title"},[e._v("地区")]),i("div",{staticClass:"cell-content area",on:{click:function(t){e.showAreaList=!0}}},[i("span",[e._v(e._s(e.addressMsg.province?e.addressMsg.province+e.addressMsg.district+e.addressMsg.city:"省市区"))])])]),i("div",{staticClass:"detail-cell"},[i("div",{staticClass:"cell-title"},[e._v("详细地址")]),i("div",{staticClass:"cell-content"},[i("input",{directives:[{name:"inputfix",rawName:"v-inputfix"},{name:"model",rawName:"v-model",value:e.addressMsg.address,expression:"addressMsg.address"}],attrs:{type:"text"},domProps:{value:e.addressMsg.address},on:{input:function(t){t.target.composing||e.$set(e.addressMsg,"address",t.target.value)}}})])])]):e._e()]):e._e(),"mdzq"===e.delivery?i("div",[i("div",{staticClass:"address-content"},[i("div",{staticClass:"detail-cell"},[i("div",{staticClass:"cell-title"},[e._v("姓名")]),i("div",{staticClass:"cell-content"},[i("input",{directives:[{name:"inputfix",rawName:"v-inputfix"},{name:"model",rawName:"v-model",value:e.pickupMsg.name,expression:"pickupMsg.name"}],attrs:{type:"text",placeholder:"请填写取货人姓名"},domProps:{value:e.pickupMsg.name},on:{input:function(t){t.target.composing||e.$set(e.pickupMsg,"name",t.target.value)}}})])]),i("div",{staticClass:"detail-cell"},[i("div",{staticClass:"cell-title"},[e._v("联系方式")]),i("div",{staticClass:"cell-content",class:{"warn-tip":!0!==e.checkPhone}},[i("input",{directives:[{name:"inputfix",rawName:"v-inputfix"},{name:"model",rawName:"v-model",value:e.pickupMsg.phone,expression:"pickupMsg.phone"}],attrs:{maxlength:"11",placeholder:"请填写联系电话"},domProps:{value:e.pickupMsg.phone},on:{change:function(t){e.checkPhoneNum(e.pickupMsg.phone)},input:function(t){t.target.composing||e.$set(e.pickupMsg,"phone",t.target.value)}}})])]),i("div",{staticClass:"detail-cell"},[i("div",{staticClass:"cell-title"},[e._v("取货地区")]),i("div",{staticClass:"cell-content area",on:{click:function(t){e.showAreaList=!0}}},[i("span",[e._v(e._s(e.pickupMsg.province?e.pickupMsg.province+e.pickupMsg.district+e.pickupMsg.city:"请选择取货地址"))])])]),i("div",{staticClass:"detail-cell"},[i("div",{staticClass:"cell-title"},[e._v("取货门店")]),i("div",{staticClass:"cell-content area",on:{click:e.checkStore}},[i("span",[e._v(e._s(e.pickupMsg.storeNameText))])])])])]):e._e()]),i("p",{staticClass:"settlement-title"},[e._v("商品清单("+e._s(e.shoppingCartList.length)+")")]),i("div",{staticClass:"goods-list"},e._l(e.shoppingCartList,function(t,s){return i("div",{key:s,staticClass:"goods-item"},[i("div",{staticClass:"goods-cover"},[i("img",{attrs:{src:e.getImg(t.url,"150*150"),alt:"",onerror:"errImg(event)"}}),1===t.orderFlag?i("div",{staticClass:"diy-icon"}):e._e()]),i("div",{staticClass:"goods-info"},[i("p",{staticClass:"goods-name"},[e._v(e._s(t.goodsName))]),i("div",{staticClass:"goods-price"},[i("div",{staticClass:"price-box"},[i("p",{staticClass:"sale-price"},[e._v("￥"+e._s(e._f("Fix2")(t.dealPrice)))])]),i("div",{staticClass:"count-box"},[i("p",[e._v("x"+e._s(t.amount))])])]),1===t.orderFlag&&t.partList.length>0?i("div",{staticClass:"goods-sku-box"},[t.partList.length>0?i("p",{staticClass:"goods-type",class:{act:!0===t.showSku},on:{click:function(i){e.skuToggle(t)}}},[e._v("\n                        定制清单"),i("i",{staticClass:"show-arrow iconfont icon-xialaxuan"})]):e._e(),i("custom-dialog",{directives:[{name:"show",rawName:"v-show",value:!0===t.showSku,expression:"item.showSku === true"}],attrs:{fromPage:"orderSettle",mainFabricName:t.mainFabricName,partList:t.partList}})],1):e._e(),0===t.orderFlag?i("div",{staticClass:"goods-sku-box"},[i("div",{staticClass:"goods-sku-content"},[i("ul",{staticClass:"item-list"},[i("li",[i("p",[e._v("颜色：")]),i("p",[e._v(e._s(t.colorName))])]),i("li",[i("p",[e._v("尺码：")]),i("p",[e._v(e._s(t.sizeName))])])])])]):e._e()])])})),e.sendList&&e.sendList.length>0?i("div",{staticClass:"goods-send-container"},[i("p",{staticClass:"title"},[e._v("赠品 ("+e._s(e.totalSendNum)+")")]),e._l(e.sendList,function(t,s){return i("ul",{key:t.goodsCode},e._l(t.giftGroup,function(o,n){return i("div",[e._l(o.gifts,function(t){return"指定"!==o.groupType?i("li",{staticClass:"goodsList gift"},[i("div",{staticClass:"send"},[i("div",{staticClass:"image-main"},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.getImg(t.url,"120*120"),expression:"getImg(goods.url, '120*120')"}],key:t.url,staticClass:"image"}),e._m(1,!0)]),i("div",{staticClass:"goodsList-middle"},[i("p",{staticClass:"name overflow"},[e._v("\n                                "+e._s(t.goodsName)+"\n                            ")]),i("p",{staticClass:"size-color"},[e._v(e._s(t.sizeName)+"/"+e._s(t.colorName))])]),i("div",{staticClass:"goodsList-right"},[i("p",{staticClass:"price"},[e._v("¥0")]),i("p",{staticClass:"num"},[e._v("x "+e._s(t.amount))])])])]):e._e()}),o.gifts.length>0&&"指定"===o.groupType?i("li",{staticClass:"goodsList gift"},[o.choseGoods.goodsName?i("div",{staticClass:"send"},[i("div",{staticClass:"image-main"},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.getImg(o.choseGoods.url,"120*120"),expression:"getImg(giftGroupItem.choseGoods.url, '120*120')"}],key:o.choseGoods.url,staticClass:"image"}),e._m(2,!0)]),i("div",{staticClass:"goodsList-middle"},[i("p",{staticClass:"name overflow"},[e._v("\n                                "+e._s(o.choseGoods.goodsName?o.choseGoods.goodsName:"请选择赠送商品的类型")+"\n                            ")]),o.choseGoods.sizeName&&o.choseGoods.colorName?i("p",{staticClass:"size-color overflow",on:{click:function(t){e.skuChose(o,s)}}},[e._v("\n                                "+e._s(o.choseGoods.sizeName)+"/"+e._s(o.choseGoods.colorName)+" "),i("i",{staticClass:"iconfont icon-youfan"})]):e._e()]),i("div",{staticClass:"goodsList-right"},[i("p",{staticClass:"price"},[e._v("¥0")]),o.choseGoods.amount?i("p",{staticClass:"num"},[e._v("x\n                                "+e._s(o.choseGoods.amount))]):e._e()])]):i("div",{staticClass:"un-send",on:{click:function(t){e.skuChose(o,s)}}},[i("div",{staticClass:"un-send-left"},[e._v("\n                            "+e._s(t.saleTheme)+"\n                        ")]),e._m(3,!0)])]):e._e()],2)}))})],2):e._e(),i("p",{staticClass:"settlement-title"},[e._v("其他")]),i("div",{staticClass:"others-wrapper"},[i("div",{staticClass:"other-part"},[i("div",{staticClass:"other-title"},[i("label",[e._v("商品总额")]),i("div",{staticClass:"fr"},[i("span",{staticClass:"other-title-value"},[e._v("￥"+e._s(e._f("Fix2")(e.totalGold)))])])])]),i("div",{staticClass:"other-part"},[i("div",{staticClass:"other-title",class:{act:!0===e.showCartList}},[i("label",[e._v("会员卡")]),i("div",{staticClass:"fr",on:{click:e.openCartList}},[i("span",{staticClass:"other-title-value"},[e._v("- ￥"+e._s(e._f("Fix2")(e.vipPrice)))]),e._m(4)])]),i("ul",{directives:[{name:"show",rawName:"v-show",value:!0===e.showCartList,expression:"showCartList === true"}],staticClass:"coupon-list"},[e._l(e.cardList,function(t){return i("li",{key:t.id,class:{act:t.id===e.cardId},on:{click:function(i){e.selectedVipCard(t)}}},[i("div",{staticClass:"coupon-name"},[i("span",[e._v(e._s(t.vipLevelName))])]),e._m(5,!0)])}),i("li",{class:{act:-1==e.cardId},on:{click:function(t){e.selectedVipCard({id:-1})}}},[i("div",{staticClass:"coupon-name"},[e._v("不使用")]),e._m(6)])],2)]),i("div",{staticClass:"other-part"},[i("div",{staticClass:"other-title",class:{act:!0===e.showDisCoupon}},[i("label",[e._v("折扣券")]),i("div",{staticClass:"fr",on:{click:function(t){e.showDisCoupon=!e.showDisCoupon}}},[i("span",{staticClass:"other-title-value"},[e._v("- ￥"+e._s(e._f("Fix2")(e.disCouponPrice)))]),e._m(7)])]),i("ul",{directives:[{name:"show",rawName:"v-show",value:!0===e.showDisCoupon,expression:"showDisCoupon === true"}],staticClass:"coupon-list"},[e._l(e.disCouponList,function(t){return i("li",{class:{act:e.disCouponId===t.cardId},on:{click:function(i){e.useCoupon(t.cardId,0)}}},[i("div",{staticClass:"coupon-name"},[e._v(e._s(t.couponName))]),i("div",[e.disCouponId===t.cardId?i("span",[e._v("- ￥"+e._s(e._f("Fix2")(e.disCouponPrice)))]):e._e(),e._m(8,!0)])])}),i("li",{class:{act:""===e.disCouponId},on:{click:function(t){e.useCoupon("",0)}}},[i("div",{staticClass:"coupon-name"},[e._v("不使用")]),i("div",[""===e.disCouponId?i("span",[e._v("- ￥"+e._s(e._f("Fix2")(e.disCouponPrice)))]):e._e(),e._m(9)])])],2)]),i("div",{staticClass:"other-part"},[i("div",{staticClass:"other-title",class:{act:!0===e.showCashCoupon}},[i("label",[e._v("抵用券")]),i("div",{staticClass:"fr",on:{click:function(t){e.showCashCoupon=!e.showCashCoupon}}},[!1===e.useStoredCard?i("span",{staticClass:"other-title-value"},[e._v("- ￥"+e._s(e._f("Fix2")(e.cashCouponPrice)))]):e._e(),!0===e.useStoredCard?i("span",{staticClass:"other-title-value"},[e._v("- ￥"+e._s(e._f("Fix2")(e.storedValueCardPrice)))]):e._e(),e._m(10)])]),i("ul",{directives:[{name:"show",rawName:"v-show",value:!0===e.showCashCoupon,expression:"showCashCoupon === true"}],staticClass:"coupon-list"},[e._l(e.cashCouponList,function(t){return i("li",{class:{act:e.cashCouponId===t.cardId&&!t.disabled,disabledCash:t.disabled},on:{click:function(i){e.useCoupon(t.cardId,1,t.cardClassDto.classCode,t)}}},[i("div",{staticClass:"coupon-name"},[e._v(e._s(t.couponName))]),i("div",[e.cashCouponId===t.cardId&&"001"===t.cardClassDto.classCode?i("span",[e._v("- ￥"+e._s(e._f("Fix2")(e.storedValueCardPrice)))]):e._e(),e.cashCouponId===t.cardId&&"001"!==t.cardClassDto.classCode?i("span",[e._v("- ￥"+e._s(e._f("Fix2")(e.cashCouponPrice)))]):e._e(),e._m(11,!0)])])}),i("li",{class:{act:""===e.cashCouponId},on:{click:function(t){e.useCoupon("",1)}}},[i("div",{staticClass:"coupon-name"},[e._v("不使用")]),i("div",[""===e.cashCouponId?i("span",[e._v("- ￥"+e._s(e._f("Fix2")(e.cashCouponPrice)))]):e._e(),e._m(12)])])],2)]),e.otherGold?i("div",{staticClass:"other-part"},[i("p",{staticClass:"other-title"},[e._v("促销优惠\n                "),i("span",{staticClass:"show-arrow"},[e._v("-￥"+e._s(e._f("$goldDivide")(e._f("Fix2")(e.otherGold))))])])]):e._e(),"kdps"===e.delivery?i("div",{staticClass:"other-part"},[i("p",{staticClass:"other-title"},[e._v("运费\n                "),e.transFee&&e.transFee>0?i("span",{staticClass:"show-arrow"},[e._v("￥"+e._s(e._f("Fix2")(e.transFee)))]):e._e(),!e.transFee||e.transFee<=0?i("span",{staticClass:"show-arrow"},[e._v("包邮")]):e._e()])]):e._e(),e.visiblePoint?i("div",{staticClass:"other-part"},[i("div",{staticClass:"other-title"},[i("label",[e._v("使用"+e._s(e.pointInfo.point||0)+"积分")]),i("div",{staticClass:"fr"},[i("span",{staticClass:"other-title-value"},[e._v("- ￥"+e._s(e._f("$goldDivide")(e._f("Fix2")(e.pointInfo.pointPirce||0))))]),i("van-switch",{attrs:{size:"15px","active-color":"#2ba4f3"},on:{change:e.pointChange},model:{value:e.switchFlag,callback:function(t){e.switchFlag=t},expression:"switchFlag"}})],1)])]):e._e(),!0===e.invoiceStatus&&e.totalPrice>0?i("div",{staticClass:"other-part"},[i("div",{staticClass:"other-title"},[i("label",[e._v("发票")]),!1===e.invoiceStatus?i("div",{staticClass:"fr"},[i("span",{staticClass:"other-title-value"},[e._v("不开发票")])]):e._e(),!0===e.invoiceStatus?i("div",{staticClass:"fr",on:{click:e.setInvoice}},[e.invoiceData.type?e._e():i("span",{staticClass:"other-title-value"},[e._v("未选择发票")]),e.invoiceData.type?i("span",{staticClass:"other-title-value"},[e._v(e._s(e.invoiceData.type)+" "+e._s(e.invoiceData.title))]):e._e(),e._m(13)]):e._e()])]):e._e(),i("div",{staticClass:"other-part"},[i("div",{staticClass:"other-box"},[i("label",[e._v("订单备注：")]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.memo,expression:"memo"},{name:"inputfix",rawName:"v-inputfix"}],staticClass:"order-memo",attrs:{maxlength:"50"},domProps:{value:e.memo},on:{input:function(t){t.target.composing||(e.memo=t.target.value)}}})])])]),i("div",{staticClass:"goods-actions"},[i("div",{staticClass:"carts-info"},[i("div",{staticClass:"total-price"},[e._v("合计：￥"),i("span",[e._v(e._s(e._f("Fix2")("kdps"===e.delivery?(e.totalPrice+e.transFee).toFixed(2):e.totalPrice)))])])]),i("div",{staticClass:"buy-button",on:{click:e.saveOrder}},[e._v("立即付款")])]),i("van-popup",{attrs:{position:"top","visible-item-count":"3"},model:{value:e.showAreaList,callback:function(t){e.showAreaList=t},expression:"showAreaList"}},[i("van-area",{attrs:{"area-list":e.areaList},on:{confirm:e.areaChange,cancel:function(t){e.showAreaList=!1}}})],1),i("van-popup",{attrs:{position:"top"},model:{value:e.showStoreList,callback:function(t){e.showStoreList=t},expression:"showStoreList"}},[i("van-picker",{attrs:{columns:e.storeList,"show-toolbar":""},on:{cancel:function(t){e.showStoreList=!1},confirm:e.selectStore}})],1),i("van-popup",{staticClass:"sku-popup",attrs:{position:"bottom",overlay:!0},model:{value:e.isShowSku,callback:function(t){e.isShowSku=t},expression:"isShowSku"}},[i("order-sku-dialog-comp",{attrs:{goodsInfo:e.skuPopupList,colorActiveIndex:e.colorActiveIndex,sizeActiveIndex:e.sizeActiveIndex,isShowSku:e.isShowSku,flag:3,sendActiveItem:e.sendActiveItem},on:{"update:goodsInfo":function(t){e.skuPopupList=t},"update:colorActiveIndex":function(t){e.colorActiveIndex=t},"update:sizeActiveIndex":function(t){e.sizeActiveIndex=t},"update:isShowSku":function(t){e.isShowSku=t},onSelectColor:e.onSelectColor}})],1)],1)},o=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("i",{staticClass:"select-address-btn iconfont icon-youfan"})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{staticClass:"title-image"},[i("span",[e._v("赠品")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{staticClass:"title-image"},[i("span",[e._v("赠品")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"un-send-right"},[e._v("\n                            选择赠品"),i("i",{staticClass:"iconfont icon-youfan"})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{staticClass:"show-arrow"},[i("i",{staticClass:"iconfont icon-xialaxuan"})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("span",{staticClass:"select-box"},[i("i",{staticClass:"iconfont icon-queding"})])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("span",{staticClass:"select-box"},[i("i",{staticClass:"iconfont icon-queding"})])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{staticClass:"show-arrow"},[i("i",{staticClass:"iconfont icon-xialaxuan"})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{staticClass:"select-box"},[i("i",{staticClass:"iconfont icon-queding"})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{staticClass:"select-box"},[i("i",{staticClass:"iconfont icon-queding"})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{staticClass:"show-arrow"},[i("i",{staticClass:"iconfont icon-xialaxuan"})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{staticClass:"select-box"},[i("i",{staticClass:"iconfont icon-queding"})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{staticClass:"select-box"},[i("i",{staticClass:"iconfont icon-queding"})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{staticClass:"show-arrow wait"},[i("i",{staticClass:"iconfont icon-xialaxuan"})])}],n=(i("55dd"),i("c5f6"),i("6b54"),i("a481"),i("e17f"),i("2241")),r=(i("96cf"),i("3b8d")),a=(i("e7e5"),i("d399")),c=(i("7f7f"),i("ac6a"),i("68ef"),i("d9d2"),i("2638")),d=i.n(c),l=i("a142"),u=i("543e"),h={value:null,loading:Boolean,disabled:Boolean,activeColor:String,inactiveColor:String,activeValue:{type:null,default:!0},inactiveValue:{type:null,default:!1},size:{type:String,default:"30px"}},p=i("ba31"),f=Object(l["i"])("switch"),g=f[0],m=f[1];function v(e,t,i,s){var o=t.value,n=t.loading,r=t.disabled,a=t.activeValue,c=t.inactiveValue,l=o===a,h={fontSize:t.size,backgroundColor:l?t.activeColor:t.inactiveColor},f=function(){if(!r&&!n){var e=l?c:a;Object(p["a"])(s,"input",e),Object(p["a"])(s,"change",e)}};return e("div",d()([{class:m({on:l,disabled:r}),style:h,on:{click:f}},Object(p["b"])(s)]),[e("div",{class:m("node")},[n&&e(u["a"],{class:m("loading")})])])}v.props=h;var C=g(v),I=(i("5f5f"),i("f253")),b=(i("8a58"),i("e41f")),_=(i("db2c"),i("1125")),S=(i("afaa"),i("1988")),k=i("7744"),y=Object(l["i"])("switch-cell"),L=y[0],x=y[1];function w(e,t,i,s){return e(k["a"],d()([{attrs:{center:!0,title:t.title,border:t.border},class:x()},Object(p["b"])(s)]),[e(C,{props:Object(S["a"])({},t),on:Object(S["a"])({},s.listeners)})])}w.props=Object(S["a"])({},h,{title:String,border:Boolean,size:{type:String,default:"24px"}});var P=L(w),N=i("2b61"),M=i("bf3c4"),E=(i("18a0"),i("22ce")),D=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"container"},[i("div",{directives:[{name:"show",rawName:"v-show",value:0==e.showBigPic,expression:"showBigPic==false"}],staticClass:"sku-dialog"},[i("i",{staticClass:"iconfont icon-guanbi sku-dialog-close",on:{click:function(t){e.close()}}}),i("div",{staticClass:"sku-dialog-detail"},[i("div",{staticClass:"sku-dialog-info"},[i("div",{staticClass:"info-left"},[i("img",{attrs:{src:e.getImg(e.goodsImg,"186*186"),onerror:"errImg(event)"},on:{click:function(t){e.enlarge()}}})]),i("div",{staticClass:"info-right"},[i("div",[i("p",{staticClass:"info overflow-two"},[e.colorItem.colorName||e.sizeItem.sizeName||e.currentSend&&e.currentSend.goodsName?i("span",[e._v("\n                                已选择:\n                            ")]):e.colorItem.colorName&&e.sizeItem.sizeName?e._e():i("span",[e._v("请选择")]),e.currentSend&&null!==e.currentSend.goodsName?i("span",[e._v(e._s(e.currentSend.goodsName)+" ")]):e._e(),null!==e.colorItem.colorName?i("span",[e._v(e._s(e.colorItem.colorName)+" ")]):e._e(),null!==e.sizeItem.sizeName?i("span",[e._v(e._s(e.sizeItem.sizeName))]):e._e()])])])]),i("div",{staticClass:"chose"},[i("div",{staticClass:"chose-color-size"},[i("div",{staticClass:"color"},[i("div",{staticClass:"left"},[e._v("赠品")]),i("ul",{staticClass:"right goodImg"},e._l(e.goodsInfo,function(t,s){return i("li",[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.getImg(t.url,"120*120"),expression:"getImg(item.url, '120*120')"}],class:{active:e.currentSendIndex===s},on:{click:function(i){e.sendClick(t,s)}}}),e._m(0,!0)])}))]),e.currentSend&&e.currentSend.colorList.length>0?i("div",{staticClass:"color"},[i("div",{staticClass:"left"},[e._v("颜色")]),i("div",{staticClass:"right"},e._l(e.currentSend.colorList,function(t,s){return i("span",{staticClass:"btn",class:[{active:t.active},{none:!1===t.none}],on:{click:function(i){e.colorActive(t,s)}}},[e._v("\n                                "+e._s(t.colorName)+"\n                            ")])}))]):e._e(),e.currentSend&&e.currentSend.sizeList.length>0?i("div",{staticClass:"size"},[i("div",{staticClass:"left"},[e._v("尺码")]),i("div",{staticClass:"right"},e._l(e.currentSend.sizeList,function(t,s){return i("span",{staticClass:"btn",class:[{active:t.active},{none:!1===t.none}],on:{click:function(i){e.sizeActive(t,s)}}},[e._v("\n                                "+e._s(t.sizeName)+"\n                            ")])}))]):e._e()])]),i("p",{staticClass:"btn-sure",on:{click:function(t){e.orderSure()}}},[i("span",[e._v("确定")])])])]),i("div",{directives:[{name:"show",rawName:"v-show",value:1==e.showBigPic,expression:"showBigPic==true"}],staticClass:"enlarge-boxs",on:{click:e.ishowPic}},[i("van-popup",{staticClass:"enlarge-detail",attrs:{overlay:!0},model:{value:e.showBigPic,callback:function(t){e.showBigPic=t},expression:"showBigPic"}},[i("img",{attrs:{src:e.getImg(e.goodsImg)}})])],1)])},z=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{staticClass:"title-image"},[i("span",[e._v("赠品")])])}],A=(i("f06a"),i("20fb")),O=i("7212"),T=(i("dfa4"),{props:{goodsInfo:{type:"",default:function(){return""}},colorActiveIndex:{type:Number,default:null},sizeActiveIndex:{type:Number,default:null},isShowSku:{type:Boolean,default:!1},sendActiveItem:{type:Object},btnStatus:{type:Boolean,default:!0}},components:{"van-popup":b["a"],"van-stepper":A["a"],swiper:O["swiper"],swiperSlide:O["swiperSlide"]},data:function(){return{colorItem:"",sizeItem:"",goodsImg:"",num:1,maxNum:10,currentSend:"",currentSendIndex:null,showBigPic:!1}},created:function(){this._reData()},mounted:function(){},methods:{enlarge:function(){this.showBigPic=!0},ishowPic:function(){this.showBigPic=!1},close:function(){this.$emit("update:isShowSku",!1)},colorActive:function(e,t){var i=this;if(e.none){var s=!1,o="";this.currentSend.colorList.forEach(function(o,n){o.colorCode===e.colorCode?(e.active=!e.active,e.active?i.colorItem=e:(s=!0,i.colorItem=""),i.$set(i.currentSend.colorList,t,e)):o.active=!1});for(var n=0;n<this.currentSend.colorAndSizeList.length;n++)if(this.currentSend.colorAndSizeList[n].colorId===e.colorId){o=this.currentSend.colorAndSizeList[n].sizeChildList;break}for(var r=0;r<this.currentSend.sizeList.length;r++)for(var c=0;c<o.length;c++){if(this.currentSend.sizeList[r].sizeCode===o[c].sizeCode&&o[c].skuQty>0){this.currentSend.sizeList[r].none=!0;break}this.currentSend.sizeList[r].none=!1}if(!this.sizeItem){for(var d=!1,l=0;l<this.currentSend.colorList.length;l++)this.currentSend.colorList[l].active&&(d=!0);if(d)for(var u=0;u<this.currentSend.sizeList.length;u++)this.currentSend.sizeList[u].active&&(this.currentSend.sizeList[u].active=!0)}this._setSizeItemAndColorItemNone(),s?this.$emit("update:colorActiveIndex",-1):this.$emit("update:colorActiveIndex",t)}else Object(a["a"])("该商品暂无库存~")},sizeActive:function(e,t){var i=this;if(e.none){var s=!1;if(this.currentSend.sizeList.forEach(function(o,n){o.sizeCode===e.sizeCode?(e.active=!e.active,e.active?i.sizeItem=e:(s=!0,i.sizeItem=""),i.$set(i.currentSend.sizeList,t,e)):o.active=!1}),this.sizeItem){for(var o=0;o<this.currentSend.colorAndSizeList.length;o++)for(var n=0;n<this.currentSend.colorAndSizeList[o].sizeChildList.length;n++){if(this.currentSend.colorAndSizeList[o].sizeChildList[n].sizeCode===e.sizeCode&&this.currentSend.colorAndSizeList[o].sizeChildList[n].skuQty>0){this.currentSend.colorAndSizeList[o].none=!0,this.maxNum=this.currentSend.colorAndSizeList[o].sizeChildList[n].skuQty;break}this.currentSend.colorAndSizeList[o].none=!1}for(var r=0;r<this.currentSend.colorList.length;r++)for(var c=0;c<this.currentSend.colorAndSizeList.length;c++){if(this.currentSend.colorAndSizeList[c].colorCode===this.currentSend.colorList[r].colorCode&&this.currentSend.colorAndSizeList[c].none){this.currentSend.colorList[r].none=!0;break}this.currentSend.colorList[r].none=!1}}this._setSizeItemAndColorItemNone();for(var d=!1,l=0;l<this.currentSend.colorList.length;l++)if(this.currentSend.colorList[l].active){d=!0;break}if(!d){for(var u=[],h=0;h<this.currentSend.colorList.length;h++)this.currentSend.colorList[h].none&&u.push(this.currentSend.colorList[h].colorCode);var p=[];u.forEach(function(e){i.currentSend.colorAndSizeList.forEach(function(t){t.colorCode===e&&t.sizeChildList.forEach(function(e){p.push(e)})})});for(var f=objCombine(p,"sizeCode"),g=0;g<this.currentSend.sizeList.length;g++)for(var m=0;m<f.length;m++){if(f[m].sizeCode===this.currentSend.sizeList[g].sizeCode){this.currentSend.sizeList[g].none=!0;break}this.currentSend.sizeList[g].none=!1}}s?this.$emit("update:sizeActiveIndex",-1):this.$emit("update:sizeActiveIndex",t)}else Object(a["a"])("该商品暂无库存~")},_setSizeItemAndColorItemNone:function(){this.sizeItem||this.colorItem||(this.currentSend.sizeList.forEach(function(e){e.none=!0}),this.currentSend.colorList.forEach(function(e){e.none=!0})),!this.sizeItem&&this.colorItem&&this.currentSend.colorList.forEach(function(e){e.none=!0}),this.sizeItem&&!this.colorItem&&this.currentSend.sizeList.forEach(function(e){e.none=!0})},orderSure:function(){if(this._isActive())Object(a["a"])("请选择颜色和尺码~");else{var e=this.currentSend.colorList[this.colorActiveIndex],t=this.currentSend.sizeList[this.sizeActiveIndex];this.$emit("onSelectColor",e,t,this.currentSend),this.close()}},_reData:function(){this.goodsInfo.forEach(function(e){e.colorList.forEach(function(e){e.active=!1}),e.sizeList.forEach(function(e){e.active=!1})})},_isAllSelect:function(){for(var e=!1,t=!1,i=0;i<this.goodsInfo.colorList.length;i++)if(this.goodsInfo.colorList[i].active){e=!0;break}for(var s=0;s<this.goodsInfo.sizeList.length;s++)if(this.goodsInfo.sizeList[s].active){t=!0;break}if(e&&t);else if(!e&&!t){for(var o=0;o<this.goodsInfo.colorList.length;o++)this.goodsInfo.colorList[o].none=!0;for(var n=0;n<this.goodsInfo.sizeList.length;n++)this.goodsInfo.sizeList[n].none=!0}},_isActive:function(){var e=!1,t=!1;if(this.currentSend){for(var i=0;i<this.currentSend.sizeList.length;i++)this.currentSend.sizeList[i].active&&(e=!0);for(var s=0;s<this.currentSend.colorList.length;s++)this.currentSend.colorList[s].active&&(t=!0)}return!e||!t},sendClick:function(e,t){this.goodsImg=e.url,this.currentSend=e,this.currentSendIndex=t,this.colorItem="",this.sizeItem="",this.currentSend.colorList.forEach(function(e){e.active=!1,e.none=!0}),this.currentSend.sizeList.forEach(function(e){e.active=!1,e.none=!0})},_reSendSelect:function(){if(this.sendActiveItem&&this.sendActiveItem.colorCode&&this.sendActiveItem.sizeCode){for(var e=0;e<this.goodsInfo.length;e++)if(this.sendActiveItem.goodsCode===this.goodsInfo[e].goodsCode){this.sendClick(this.goodsInfo[e],e);for(var t=0;t<this.goodsInfo[e].colorList.length;t++)if(this.goodsInfo[e].colorList[t].colorCode===this.sendActiveItem.colorCode){this.colorActive(this.goodsInfo[e].colorList[t],t);break}for(var i=0;i<this.goodsInfo[e].sizeList.length;i++)if(this.goodsInfo[e].sizeList[i].sizeCode===this.sendActiveItem.sizeCode){this.sizeActive(this.goodsInfo[e].sizeList[i],i);break}break}}else this.currentSend="",this.currentSendIndex=null}},watch:{goodsInfo:function(){this._reData(),this._reSendSelect()},"goodsInfo.colorList":function(){this._isAllSelect()},"goodsInfo.sizeList":function(){this._isAllSelect()},sendActiveItem:function(){this._reSendSelect()}}}),F=T,V=(i("265f"),i("2877")),R=Object(V["a"])(F,D,z,!1,null,"363ba75c",null),B=R.exports,j=i("4128"),G={components:{"van-switch-cell":P,"van-area":_["a"],"van-popup":b["a"],"van-picker":I["a"],"van-switch":C,orderSkuDialogComp:B,CustomDialog:j["a"]},data:function(){return{orderHdId:"",delivery:"",deliveryType:[],hasAddr:!1,showAreaList:!1,checkPhone:!0,addressMsg:{},pickupMsg:{name:"",phone:"",province:"",district:"",city:"",addressId:null,storeId:null,storeName:"请选择取货门店",storeNameText:"请选择取货门店"},areaList:M["a"],showStoreList:!1,storeList:[],shoppingCartList:[],transFee:0,discount:"",memo:null,invoiceStatus:!1,totalPrice:0,vipPrice:"",disCouponPrice:"",cashCouponPrice:"",disCouponList:[],cashCouponList:[],disCouponId:"",cashCouponId:"",showDisCoupon:!1,showCashCoupon:!1,storedValueCardPrice:"",useStoredCard:!1,invoiceData:{},btnLock:!1,assignGiftIndex:-1,showCartList:!1,cardId:-1,cardList:[],disabledCart:!1,userPointInfo:{},disabledPoint:!1,showPointFlag:0,switchFlag:!0,pointInfo:{},price:{},isShowSku:!1,sendList:[],skuPopupList:"",colorActiveIndex:null,sizeActiveIndex:null,sendActiveItem:{},totalSendNum:0}},computed:{visiblePoint:function(){return 1==this.showPointFlag&&!this.disabledPoint},usePointFlag:function(){return this.switchFlag?1:0},activeCoupon:function(){var e=[];return this.cashCouponId&&e.push(this.cashCouponId),this.disCouponId&&e.push(this.disCouponId),e=e.length>0?e.join(","):"",e},otherGold:function(){return(this.totalGold-this.totalPrice).toFixed(2)-this.preferentialPrice},totalGold:function(){var e=0;return this.shoppingCartList.forEach(function(t){e+=t.dealPrice*t.amount}),e},preferentialPrice:function(){var e=this.price.vipPrice+this.price.cashCouponPrice+this.price.disCouponPrice+(this.price.pointPirce||0)+this.price.storedValueCardPrice;return+e.toFixed(2)||0},promotionArr:function(){var e=[];return this.sendList&&this.sendList.length>0&&this.sendList.forEach(function(t){t.giftGroup&&t.giftGroup.length>0&&t.giftGroup.forEach(function(t){"指定"!==t.groupType&&t.gifts.forEach(function(t){e.push(t)}),"指定"===t.groupType&&t.choseCode&&e.push(t.choseGoods)})}),(!e||e.length<=0)&&(e=null),console.log("promotePartDto",e),e},checkoutPromotionSelect:function(){var e=0,t=0;return this.sendList.forEach(function(i){i.giftGroup&&i.giftGroup.length>0&&i.giftGroup.forEach(function(i){"指定"===i.groupType&&(e++,i.choseCode&&t++)})}),e==t}},methods:{pointChange:function(e){this.disabledPoint||this.getDiscount()},openCartList:function(){this.showCartList=!this.showCartList},selectedVipCard:function(e){this.cardId!==e.id&&(this.cardId=e.id,this.useCoupon("",0),this.useCoupon("",1),this.getCouponsList(),this.getDiscount())},getAddr:function(){var e=this;this.addressMsg={};var t=N["a"].get("settlementAddr");if(t)this.addressMsg=t,this.hasAddr=!0,this.getTransFee();else{var i=!1,s={vipUsrId:N["a"].get("USER_INFO").usrId};E["k"].getAddrList(s).then(function(t){if(t&&t.length>0){e.hasAddr=!0;for(var s=0;s<t.length;s++){if(1===t[s].defaultFlag)return e.addressMsg=t[s],e.getTransFee(),void(i=!0);i=!1}i||(e.addressMsg=t[0]||{},e.getTransFee())}},function(e){})}},areaChange:function(e){var t=this;if("kdps"===this.delivery)this.addressMsg.province=e[0].name,this.addressMsg.district=e[1].name,this.addressMsg.city=e[2].name,this.addressMsg.addressId=e[2].code,this.addressMsg.districtCode=e[2].code,console.log("this.addressMsg.addressId",this.addressMsg.addressId),this.getTransFee();else{this.pickupMsg.province=e[0].name,this.pickupMsg.district=e[1].name,this.pickupMsg.city=e[2].name,this.pickupMsg.addressId=e[2].code,this.pickupMsg.storeId=null,this.pickupMsg.storeName="请选择取货门店",this.pickupMsg.storeNameText="请选择取货门店";var i={code:this.pickupMsg.addressId,pageNo:1,pageSize:50};E["a"].getShopList(i).then(function(e){e.list.length<1&&(t.pickupMsg.storeName="该地区暂无可取货的门店",t.pickupMsg.storeNameText="该地区暂无可取货的门店"),e.list.forEach(function(e){e.text=e.dptName,e.addressText=e.address}),t.storeList=e.list})}this.showAreaList=!1},checkPhoneNum:function(e){var t=/^1(((5[0-35-9][0-9])|(7([0678])[0-9])|([3489][0-9]{2}))[0-9]{7})$/;t.test(e)?this.checkPhone=!0:this.checkPhone=!1},checkStore:function(){this.storeList.length>0?this.showStoreList=!0:Object(a["a"])("该地区暂无可取货的门店~")},selectStore:function(e,t){this.pickupMsg.storeId=e.id,this.pickupMsg.storeName=e.addressText,this.pickupMsg.storeNameText=e.text,this.showStoreList=!1},skuToggle:function(e){e.showSku=!e.showSku},getTransFee:function(){var e=this,t={usrId:N["a"].get("USER_INFO").usrId,companyId:N["a"].get("USER_INFO").companyId,id:this.orderHdId,destCode:this.addressMsg.addressId?this.addressMsg.addressId:this.addressMsg.districtCode};this.addressMsg.destId&&(t.destId=this.addressMsg.destId),E["g"].getFreight(t).then(function(t){e.transFee=t})},getPage:function(){var e=this,t={ctmUsrId:N["a"].get("USER_INFO").usrId,cookieId:N["a"].get("USER_INFO").cookieId,rtlCartTempHdId:this.orderHdId||this.$route.query.orderHdId,busContsCode:baseConstant.busContsCode,shopCode:N["a"].get("USER_INFO").shopCode},i=[],s=[],o={},n=[];E["g"].getSettlementInfo(t).then(function(t){t.skuList.forEach(function(e){1===e.orderFlag&&(e.showSku=!1,e.partList.forEach(function(e){e.emb.length>0&&(o.name=e.regionName,o.url=e.emb[0].embPictUrl,o.content=e.emb[0].content,o.price=e.emb[0].embprice,i.push(o),o={}),e.ept.length>0&&(o.name=e.regionName,o.url=e.ept[0].embPrintPictUrl,o.price=e.ept[0].embprice,s.push(o),o={}),e.prt.length>0&&(o.name=e.regionName,o.url=e.prt[0].embPrintPictUrl,o.price=e.prt[0].prtprice,n.push(o),o={})}),e.embs=i,e.epts=s,e.prt=n,i=[],s=[],n=[])}),e.shoppingCartList=t.skuList}).then(function(){N["a"].get("store")||(e.getDiscount(),e.getCouponsList())})},getShipType:function(){var e=this,t={effFlag:1,policyTypeCode:"D_SALERETAIL"},i=N["a"].get("orderDelivery");E["g"].getShipType(t).then(function(t){if(t.forEach(function(t){"kdps"!==t.shipCode&&"mdzq"!==t.shipCode||e.deliveryType.push(t)}),null!==i&&i.type)e.delivery=i.type;else{e.delivery=e.deliveryType[0].shipCode,e.deliveryType.forEach(function(t){-1!==t.shipCode.indexOf("kdps")&&(e.delivery=t.shipCode)});var s={};s.type=e.delivery,N["a"].set("orderDelivery",s)}})},choseDelivery:function(e){this.delivery=e.shipCode;var t=N["a"].get("orderDelivery");if(t&&null!==t)t.type=this.delivery,N["a"].set("orderDelivery",t);else{var i={};i.type=this.delivery,N["a"].set("orderDelivery",i)}},getInvoice:function(){var e=this,t={};E["e"].canSetInvoice(t).then(function(t){"D_INV_ORDSAVE"===t.invoiceStateCode?e.invoiceStatus=!0:e.invoiceStatus=!1})},saveAddress:function(){if(console.log("---",this.hasAddr,this.delivery),!1===this.hasAddr&&"kdps"===this.delivery){var e={address:this.addressMsg.address,cargousrName:this.addressMsg.cargousrName,cargoMobile:this.addressMsg.cargoMobile,cargoPhone:this.addressMsg.cargoMobile,destCode:this.addressMsg.districtCode?this.addressMsg.districtCode:this.addressMsg.addressId,defaultFlag:1};E["k"].changeAddrInfo(e).then(function(){})}},getGoodsStucks:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t,i,s){var o,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return o=!1,n={busContsCode:baseConstant.busContsCode,goodsCode:t.goodsCode,colorCode:t.colorCode,sizeCode:t.sizeCode,shopCode:N["a"].get("USER_INFO").shopCode,onlineHdId:s,groupId:i},e.next=4,E["d"].getGoodsStock(n).then(function(e){t.num?t.num<=e.skuList[0].skuQty&&(o=!0):t.amount<=e.skuList[0].skuQty&&(o=!0)});case 4:return e.abrupt("return",o);case 5:case"end":return e.stop()}},e)}));function t(t,i,s){return e.apply(this,arguments)}return t}(),saveOrder:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){var t,i,s,o,c,d,l,u,h,p,f,g,m,v=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!0!==this.btnLock){e.next=2;break}return e.abrupt("return");case 2:if(this.btnLock=!0,this,console.log("this.deliveryType",this.deliveryType),t="",this.deliveryType.forEach(function(e){e.shipCode===v.delivery&&(t=e.id)}),i={},s=[],""!==this.disCouponId&&s.push(this.disCouponId),""!==this.cashCouponId&&s.push(this.cashCouponId),"kdps"!==this.delivery){e.next=21;break}if(this.addressMsg.addressId||(this.addressMsg.addressId=this.addressMsg.districtCode),this.addressMsg.addressId&&this.addressMsg.address&&this.addressMsg.cargoMobile&&this.addressMsg.cargousrName){e.next=18;break}return console.log(this.addressMsg),Object(a["a"])("请先完善收货信息~"),this.btnLock=!1,e.abrupt("return");case 18:i={billId:this.orderHdId,busContsCode:baseConstant.busContsCode,shopCode:N["a"].get("USER_INFO").shopCode,shopId:N["a"].get("USER_INFO").shopId,ctmUsrId:N["a"].get("USER_INFO").usrId,sourceCode:"D_ORDWEIN",receiptWayCode:this.delivery,receiptWayId:t,buyUsrMobile:this.addressMsg.cargoMobile,cargoAddr:this.addressMsg.address,cargoDestrictCode:this.addressMsg.districtCode?this.addressMsg.districtCode:this.addressMsg.addressId,cargoMobile:this.addressMsg.cargoMobile,cargoUsrName:this.addressMsg.cargousrName,cartList:this.shoppingCartList,ctmMessage:this.memo,promotionList:s,pointFlag:this.usePointFlag},e.next=31;break;case 21:if("mdzq"!==this.delivery){e.next=31;break}if(this.pickupMsg.phone&&this.pickupMsg.addressId&&this.pickupMsg.name){e.next=26;break}return Object(a["a"])("请先完善取货信息~"),this.btnLock=!1,e.abrupt("return");case 26:if(null!==this.pickupMsg.storeId){e.next=30;break}return Object(a["a"])("取货门店不能为空~"),this.btnLock=!1,e.abrupt("return");case 30:i={billId:this.orderHdId,busContsCode:baseConstant.busContsCode,shopCode:N["a"].get("USER_INFO").shopCode,shopId:N["a"].get("USER_INFO").shopId,sourceCode:"D_ORDWEIN",buyUsrMobile:this.pickupMsg.phone,cargoAddr:this.pickupMsg.storeName,cargoDestrictCode:this.pickupMsg.addressId,cargoMobile:this.pickupMsg.phone,cargoUsrName:this.pickupMsg.name,cartList:this.shoppingCartList,ctmUsrId:N["a"].get("USER_INFO").usrId,ctmMessage:this.memo,receiptWayCode:this.delivery,receiptWayId:t,recptDptId:this.pickupMsg.storeId,promotionList:s,pointFlag:this.usePointFlag};case 31:if(i.vipCardHdId=this.cardId||null,o=!1,!(this.sendList&&this.sendList.length>0)){e.next=87;break}c=0;case 35:if(!(c<this.sendList.length)){e.next=50;break}d=0;case 37:if(!(d<this.sendList[c].giftGroup.length)){e.next=47;break}if(l=this.sendList[c].giftGroup[d],o||"指定"!==l.groupType){e.next=44;break}if(l.choseGoods.goodsCode&&void 0!==l.choseGoods.goodsCode){e.next=44;break}return Object(a["a"])("请选择赠品"),this.btnLock=!1,e.abrupt("return");case 44:d++,e.next=37;break;case 47:c++,e.next=35;break;case 50:u=0;case 51:if(!(u<this.sendList.length)){e.next=84;break}h=0;case 53:if(!(h<this.sendList[u].giftGroup.length)){e.next=81;break}if(p=this.sendList[u].giftGroup[h],o||"指定"===p.groupType){e.next=69;break}f=0;case 57:if(!(f<p.gifts.length)){e.next=69;break}return e.next=60,this.getGoodsStucks(p.gifts[f],this.sendList[u].giftGroup[h].groupId,this.sendList[u].salePmHdId);case 60:if(g=e.sent,!1!==g){e.next=66;break}if(o=!0,!o){e.next=66;break}return n["a"].confirm({title:"提示",message:"赠品库存不足，是否继续购买？"}).then(Object(r["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return v.sendList=[],e.next=3,v.getDiscount();case 3:v.price.gifts&&v.price.gifts.length>0&&(v.sendList=v._giftCommonData(v.price.gifts)),v.handleEmitBill(i),v.btnLock=!1;case 6:case"end":return e.stop()}},e)}))).catch(Object(r["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return v.sendList=[],e.next=3,v.getDiscount();case 3:v.price.gifts&&v.price.gifts.length>0&&(v.sendList=v._giftCommonData(v.price.gifts)),v.btnLock=!1;case 5:case"end":return e.stop()}},e)}))),e.abrupt("break",69);case 66:f++,e.next=57;break;case 69:if(o||"指定"!==p.groupType){e.next=78;break}return e.next=72,this.getGoodsStucks(p.choseGoods,this.sendList[u].giftGroup[h].groupId,this.sendList[u].salePmHdId);case 72:if(m=e.sent,!1!==m){e.next=78;break}if(o=!0,!o){e.next=78;break}return n["a"].confirm({title:"提示",message:"赠品库存不足，是否继续购买？"}).then(Object(r["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return v.sendList=[],e.next=3,v.getDiscount();case 3:v.price.gifts&&v.price.gifts.length>0&&(Object(a["a"])("请重新选择赠品~"),v.sendList=v._giftCommonData(v.price.gifts)),v.btnLock=!1;case 5:case"end":return e.stop()}},e)}))).catch(Object(r["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return v.sendList=[],e.next=3,v.getDiscount();case 3:v.price.gifts&&v.price.gifts.length>0&&(v.sendList=v._giftCommonData(v.price.gifts)),v.btnLock=!1;case 5:case"end":return e.stop()}},e)}))),e.abrupt("break",81);case 78:h++,e.next=53;break;case 81:u++,e.next=51;break;case 84:o||this.handleEmitBill(i),e.next=88;break;case 87:this.handleEmitBill(i);case 88:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),handleEmitBill:function(e){var t=this,i=this,s=[];this.sendList&&this.sendList.length>0&&this.sendList.forEach(function(e){e.giftGroup.forEach(function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:"指定"!==t.groupType&&t.gifts.forEach(function(e){s.push(e)}),"指定"===t.groupType&&t.choseCode&&s.push(t.choseGoods);case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())}),s.length<=0&&(s=null),null!==s&&(e.promotePartDto=s),E["g"].saveOrder(e).then(function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(s){var o,n,r,c;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(console.log("订单号",s),t.totalPrice>0&&t.invoiceData.data&&void 0!==t.invoiceData.data&&null!==t.invoiceData.data&&(o=t.invoiceData.data,o.billCode=s,E["e"].putInvoice(o).then(function(){}).then(function(){N["a"].remove("invoiceData"),N["a"].remove("orderDelivery")})),n=0,n="kdps"===t.delivery?t.totalPrice+t.transFee:t.totalPrice,t.saveAddress(),!(n<=0)){e.next=11;break}return r={operType:"FRONT_PAY",billCode:s,ownCompanyId:N["a"].get("COMPANYID").company_id},e.next=9,E["g"].lockZero(r).then(function(e){Object(a["a"])("购买成功~"),i.$router.replace({name:"waitShip",query:{billCode:s}})});case 9:e.next=14;break;case 11:return c={usrId:N["a"].get("USER_INFO").usrId,paymentCode:"D_WEIXIN",tradeTypeCode:"JSAPI",paymentTypeCode:"D_FULL",shopCode:N["a"].get("USER_INFO").shopCode,orderList:s,openId:N["a"].get("WECHAT_INFO").openid,payAmount:n.toFixed(2)},e.next=14,E["h"].payOrder(c).then(function(e){if("undefined"==typeof WeixinJSBridge)document.addEventListener?document.addEventListener("WeixinJSBridgeReady",onBridgeReady,!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",onBridgeReady),document.attachEvent("onWeixinJSBridgeReady",onBridgeReady));else if("200"===e.code){var t="",o=e.requestStr.indexOf("<appid>"),n=e.requestStr.indexOf("</appid>");t=e.requestStr.substring(o+7,n)?e.requestStr.substring(o+7,n).toString():"wx45b40e5b82bd74d2",WeixinJSBridge.invoke("getBrandWCPayRequest",{appId:t||"wx45b40e5b82bd74d2",timeStamp:e.timeStamp,nonceStr:e.nonceStr,package:e.prepayId,signType:"MD5",paySign:e.paySign},function(e){"get_brand_wcpay_request:ok"==e.err_msg?(i.btnLock=!1,window.setTimeout(function(){i.$router.replace({name:"waitShip",query:{billCode:s,ordStatusCode:"D_ORDSSHIPPING"}})},1e3),Object(a["a"])("订单提交成功~")):"get_brand_wcpay_request:cancel"==e.err_msg?(i.btnLock=!1,i.$router.replace({name:"waitPay",query:{billCode:s,ordStatusCode:"D_ORDSPAYING"}})):(i.btnLock=!1,alert("支付出错了"))})}}).then(function(){i.btnLock=!1});case 14:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),function(e){i.btnLock=!1,e.errorMsg&&Object(a["a"])(e.errorMsg)}).then(function(){N["a"].remove("settlementAddr"),N["a"].remove("orderDelivery"),N["a"].remove("invoiceData"),i.btnLock=!1})},getCouponsList:function(){var e=this,t={shopId:N["a"].get("USER_INFO").shopId,rtlOrdInterHdId:this.orderHdId,scopeId:0,vipCardHdId:this.cardId||null};E["m"].getOrderCouponsList(t).then(function(t){e.disCouponList=[],e.cashCouponList=[],t.forEach(function(t){t.discount?e.disCouponList.push(t):e.cashCouponList.push(t)})})},getDiscount:function(e,t){var i=this,s=t;"number"!==typeof s&&(s=this.showPointFlag);var o={rtlOrdInterHdId:this.orderHdId,cardIds:e||this.activeCoupon,shopId:N["a"].get("USER_INFO").shopId,pointFlag:s,vipCardHdId:this.cardId||null,busContsCode:baseConstant.busContsCode};E["m"].getOrderDiscount(o).then(function(e){i.price=e;var s=e.salePrice.toFixed(2);if(i.totalPrice=1*s,i.vipPrice=Number(e.vipPrice).toFixed(2),i.disCouponPrice=Number(e.disCouponPrice).toFixed(2),i.cashCouponPrice=Number(e.cashCouponPrice).toFixed(2),i.storedValueCardPrice=Number(e.storedValueCardPrice).toFixed(2),i.price.point&&(i.pointInfo={point:i.price.point,pointPirce:i.price.pointPirce}),i.showPointFlag&&"number"!==typeof t){var o=i.price.salePrice+(i.price.pointPirce?i.price.pointPirce:0);!i.price.pointPirce||o<i.userPointInfo.prPointValue*i.userPointInfo.minPoint?i.switchFlag?(i.switchFlag=!1,i.disabledPoint=!0,i.getDiscount("",0)):(i.disabledPoint=!0,i.getDiscount("",0)):i.switchFlag||(i.disabledPoint=!1,i.$nextTick(function(){i.getDiscount("",i.switchFlag?1:0)}))}i.sendList=[],void 0!==i.price.gifts&&null!==i.price.gifts&&i.price.gifts.length>0&&(i.sendList=i._giftCommonData(i.price.gifts),i.totalSend())})},_giftCommonData:function(e){var t=[];return e.forEach(function(i){i.giftGroup.forEach(function(i){i.groupType,i.groupType,"指定"===i.groupType&&(i.choseCode="",i.choseGoods={},i.showArr=!1),i.gifts.forEach(function(i){i.salePmHdId=e[0].salePmHdId;var s={};if(0===t.length)s.goodsCode=i.goodsCode,s.skuId=i.skuId,s.num=i.amount,t.push(s);else{for(var o=!1,n=0;n<t.length;n++)if(t[n].goodsCode===i.goodsCode&&t[n].skuId===i.skuId){t[n].num+=i.amount,o=!0;break}o||(s.goodsCode=i.goodsCode,s.skuId=i.skuId,s.num=i.amount,t.push(s))}})})}),e.forEach(function(e){e.giftGroup.forEach(function(e){e.gifts.forEach(function(e){t.forEach(function(t,i){t.goodsCode===e.goodsCode&&t.skuId===e.skuId&&(e.num=t.num)})})})}),e},onSelectColor:function(e,t,i){var s=this,o={};i.colorAndSizeList.forEach(function(s){s.colorCode===e.colorCode&&s.sizeChildList.forEach(function(e){e.sizeCode===t.sizeCode&&(o.amount=e.skuQty,o.skuId=e.skuId,o.salePmHdId=e.salePmHdId,o.giftId=e.giftId,e.url?o.url=e.url:o.url=i.url)})}),o.partHdId=i.partHdId,this.sendList.forEach(function(i,n){i.giftGroup.forEach(function(i,r){for(var a=0;a<i.gifts.length;a++){var c=i.gifts[a];if(c.colorCode===e.colorCode&&c.sizeCode===t.sizeCode&&n===s.sendListIndex){i.choseCode="",i.choseGoods={},i.choseCode=e.classCode,i.choseGoods.goodsCode=e.goodsCode,i.choseGoods.goodsName=e.goodsName,i.choseGoods.colorCode=e.colorCode,i.choseGoods.colorId=e.colorId,i.choseGoods.colorName=e.colorName,i.choseGoods.sizeCode=t.sizeCode,i.choseGoods.sizeId=t.sizeId,i.choseGoods.sizeName=t.sizeName,i.choseGoods.amount=o.amount,i.choseGoods.skuId=o.skuId,i.choseGoods.salePmHdId=o.salePmHdId,i.choseGoods.url=o.url,i.choseGoods.partHdId=o.partHdId,i.choseGoods.giftId=o.giftId;break}}})}),this.totalSend(),this.$emit("update:sendList",this.sendList)},skuChose:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t,i){var s,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:console.log(t),console.log(i),this.isShowSku=!this.isShowSku,this.sendListIndex=i,t.choseGoods.goodsCode?this.sendActiveItem=t.choseGoods:this.sendActiveItem={},s=[],t.gifts.forEach(function(e,t){var i={colorList:[],sizeList:[],colorAndSizeList:[],salePrice:0};i.goodsCode=e.goodsCode,i.partHdId=e.partHdId,i.goodsName=e.goodsName,i.url=e.url,s.push(i)}),o=objCombine(s,"goodsCode"),o.forEach(function(e){var i=[],s=[];t.gifts.forEach(function(t){if(e.goodsCode===t.goodsCode){var o={};o.colorCode=t.colorCode,o.colorId=t.colorId,o.colorName=t.colorName,o.colorSortSeq=t.colorSortSeq,o.classCode=t.classCode,o.goodsCode=t.goodsCode,o.goodsName=t.goodsName,o.urls=[],o.none=!0,i.push(o);var n={};n.sizeCode=t.sizeCode,n.sizeId=t.sizeId,n.sizeName=t.sizeName,n.sizeSortSeq=t.sizeSortSeq,n.none=!0,s.push(n)}});var o=objCombine(i,"colorCode"),n=objCombine(s,"sizeCode");e.colorList=o.sort(compare("colorSortSeq")),e.sizeList=n.sort(compare("sizeSortSeq"))}),o.forEach(function(e){e.colorList.forEach(function(t,i){var s={};s.colorCode=t.colorCode,s.colorId=t.colorId,s.colorName=t.colorName,e.colorAndSizeList.push(s),e.colorAndSizeList[i].sizeChildList=[]})}),o.forEach(function(e,i){e.colorAndSizeList.forEach(function(i){t.gifts.forEach(function(t,s){if(t.goodsCode===e.goodsCode&&t.colorCode===i.colorCode){var o={};o.sizeCode=t.sizeCode,o.sizeName=t.sizeName,o.skuId=t.skuId,o.skuQty=t.amount,o.salePmHdId=t.salePmHdId,o.url=t.url,o.giftId=t.giftId,i.sizeChildList.push(o)}})})}),this.skuPopupList=o;case 12:case"end":return e.stop()}},e,this)}));function t(t,i){return e.apply(this,arguments)}return t}(),totalSend:function(){var e=0;this.sendList.forEach(function(t){t.giftGroup.forEach(function(t){"指定"!==t.groupType?t.gifts.forEach(function(t){e+=t.amount}):t.choseCode&&(e+=t.choseGoods.amount)})}),this.totalSendNum=e},useCoupon:function(e,t,i,s){var o=this;if(!s||!s.disabled){var n=[];1===t?(this.useStoredCard="001"===i,this.cashCouponId!==e&&(this.cashCouponId=e,this.cashCouponId&&n.push(this.cashCouponId),this.disCouponId&&n.push(this.disCouponId),n=n.length>0?n.join(","):"",this.getDiscount(n))):0===t&&(console.log("kahao",e),this.disCouponId!==e&&(this.disCouponId=e,this.cashCouponId&&n.push(this.cashCouponId),this.disCouponId&&n.push(this.disCouponId),n=n.join(","),e?this.getUsableTickets(e).then(function(e){var t=[];e.storeList&&e.storeList.length&&(t=t.concat(e.storeList)),e.cashList&&e.cashList.length&&(t=t.concat(e.cashList)),o.cashCouponList.forEach(function(e,i){if(e.cardId)if(t&&t.length)for(var s=0;s<t.length;s++){if(e.cardId==t[s]){e.disabled=!1;break}t.length==s+1&&(console.log("item",e),e.disabled=!0,o.cashCouponId==e.cardId&&(o.cashCouponId=""))}else e.disabled=!0,o.cashCouponId=""})}):this.cashCouponList.forEach(function(e,t){e.disabled=!1}),this.getDiscount(n)))}},getUsableTickets:function(e){var t={rtlOrdInterHdId:this.orderHdId,vipCardHdId:this.cardId||null,cardIds:e+""||""};return E["m"].getCanUseCouponsList(t)},setInvoice:function(){!1!==this.invoiceStatus&&(this.setStore(),this.$router.push("/invoice-type?fromPage=settlement"))},toAddress:function(){this.setStore(),this.$router.push("/address-list?fromPage=settlement")},setStore:function(){N["a"].set("store",{pickupMsg:this.pickupMsg,disCouponId:this.disCouponId,disCouponPrice:this.disCouponPrice,cashCouponId:this.cashCouponId,disCouponList:this.disCouponList,cashCouponList:this.cashCouponList,cashCouponPrice:this.cashCouponPrice,vipPrice:this.vipPrice,showCashCoupon:this.showCashCoupon,showDisCoupon:this.showDisCoupon,memo:this.memo,totalPrice:this.totalPrice,assignGiftIndex:this.assignGiftIndex,sendList:this.sendList,cardList:this.cardList,cardId:this.cardId,userPointInfo:this.userPointInfo,showPointFlag:this.showPointFlag,disabledPoint:this.disabledPoint,switchFlag:this.switchFlag,pointInfo:this.pointInfo,price:this.price})},chosePromotion:function(e,t,i){this.assignGiftIndex=i,e.choseCode=t.classCode,e.choseGoods=t,e.showArr=!1,this.sendList=JSON.parse(JSON.stringify(this.sendList)),console.log(e,"===",t.classCode)},getCartList:function(){var e={shopCode:N["a"].get("USER_INFO").shopCode};return E["k"].memberCartList(e)}},created:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.orderHdId=this.$route.query.orderHdId,this.invoiceData=N["a"].get("invoiceData")||{},t=N["a"].get("store"),console.log("即将打印store=====》",t),!t){e.next=29;break}this.pickupMsg=t.pickupMsg,this.disCouponId=t.disCouponId,this.disCouponList=t.disCouponList,this.disCouponPrice=t.disCouponPrice,this.cashCouponId=t.cashCouponId,this.cashCouponList=t.cashCouponList,this.cashCouponPrice=t.cashCouponPrice,this.vipPrice=t.vipPrice,this.showCashCoupon=t.showCashCoupon,this.showDisCoupon=t.showDisCoupon,this.memo=t.memo,this.totalPrice=t.totalPrice,this.sendList=t.sendList,this.assignGiftIndex=t.assignGiftIndex,this.cardList=t.cardList,this.cardId=t.cardId,this.userPointInfo=t.userPointInfo,this.showPointFlag=t.showPointFlag,this.disabledPoint=t.disabledPoint,this.switchFlag=t.switchFlag,this.pointInfo=t.pointInfo,this.price=t.price,e.next=39;break;case 29:return e.next=31,this.getCartList();case 31:return this.cardList=e.sent,this.cardList&&this.cardList.length?this.cardId=this.cardList[0].id:this.cardId=-1,e.next=35,E["k"].getMinIntegral({shopId:N["a"].get("USER_INFO").shopId,busContsCode:baseConstant.busContsCode});case 35:this.userPointInfo=e.sent,this.userPointInfo.minPoint=this.userPointInfo.minPoint?this.userPointInfo.minPoint:0,1==this.userPointInfo.effFlag&&1==this.userPointInfo.integralFlag&&this.userPointInfo.moreThanMin&&"number"===typeof this.userPointInfo.prPointValue?this.showPointFlag=1:this.showPointFlag=0,this.switchFlag=1==this.showPointFlag;case 39:this.getShipType(),this.getAddr(),this.getInvoice(),this.getPage();case 43:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),watch:{visiblePoint:function(e){e&&(this.switchFlag=!0)}},beforeRouteEnter:function(e,t,i){"/invoice-type"!==t.path&&"/address-list"!==t.path&&(N["a"].remove("store"),N["a"].remove("invoiceData")),i()},beforeRouteLeave:function(e,t,i){e.path,i()}},$=G,U=(i("eab6"),Object(V["a"])($,s,o,!1,null,"243a2d3c",null));t["default"]=U.exports},afaa:function(e,t,i){},b7f3:function(e,t,i){},d9d2:function(e,t,i){},db2c:function(e,t,i){"use strict";i("68ef"),i("a526")},dfaf:function(e,t,i){"use strict";i.d(t,"a",function(){return s});var s={icon:String,size:String,center:Boolean,isLink:Boolean,required:Boolean,titleStyle:null,titleClass:null,valueClass:null,labelClass:null,title:[String,Number],value:[String,Number],label:[String,Number],border:{type:Boolean,default:!0}}},e015:function(e,t,i){},e41f:function(e,t,i){"use strict";var s=i("a142"),o=i("6605"),n=Object(s["i"])("popup"),r=n[0],a=n[1];t["a"]=r({mixins:[o["a"]],props:{position:String,transition:String,overlay:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0}},render:function(e){var t,i=this;if(this.shouldRender){var s=this.position,o=function(e){return function(){return i.$emit(e)}},n=this.transition||(s?"van-popup-slide-"+s:"van-fade");return e("transition",{attrs:{name:n},on:{afterEnter:o("opened"),afterLeave:o("closed")}},[e("div",{directives:[{name:"show",value:this.value}],class:a((t={},t[s]=s,t))},[this.slots()])])}}})},eab6:function(e,t,i){"use strict";var s=i("b7f3"),o=i.n(s);o.a},f06a:function(e,t,i){"use strict";i("68ef"),i("fb6c")},f253:function(e,t,i){"use strict";var s=i("1988"),o=i("a142"),n=i("db78"),r=i("1128");function a(e){return Array.isArray(e)?e.map(function(e){return a(e)}):"object"===typeof e?Object(r["a"])({},e):e}var c=i("1b10"),d=i("543e"),l=200,u=Object(o["i"])("picker-column"),h=u[0],p=u[1],f=h({props:{valueKey:String,className:String,itemHeight:Number,defaultIndex:Number,initialOptions:Array,visibleItemCount:Number},data:function(){return{startY:0,offset:0,duration:0,startOffset:0,options:a(this.initialOptions),currentIndex:this.defaultIndex}},created:function(){this.$parent.children&&this.$parent.children.push(this),this.setIndex(this.currentIndex)},destroyed:function(){var e=this.$parent.children;e&&e.splice(e.indexOf(this),1)},watch:{defaultIndex:function(){this.setIndex(this.defaultIndex)}},computed:{count:function(){return this.options.length}},methods:{onTouchStart:function(e){this.startY=e.touches[0].clientY,this.startOffset=this.offset,this.duration=0},onTouchMove:function(e){Object(n["c"])(e);var t=e.touches[0].clientY-this.startY;this.offset=Object(o["h"])(this.startOffset+t,-this.count*this.itemHeight,this.itemHeight)},onTouchEnd:function(){if(this.offset!==this.startOffset){this.duration=l;var e=Object(o["h"])(Math.round(-this.offset/this.itemHeight),0,this.count-1);this.setIndex(e,!0)}},adjustIndex:function(e){e=Object(o["h"])(e,0,this.count);for(var t=e;t<this.count;t++)if(!this.isDisabled(this.options[t]))return t;for(var i=e-1;i>=0;i--)if(!this.isDisabled(this.options[i]))return i},isDisabled:function(e){return Object(o["f"])(e)&&e.disabled},getOptionText:function(e){return Object(o["f"])(e)&&this.valueKey in e?e[this.valueKey]:e},setIndex:function(e,t){e=this.adjustIndex(e)||0,this.offset=-e*this.itemHeight,e!==this.currentIndex&&(this.currentIndex=e,t&&this.$emit("change",e))},setValue:function(e){for(var t=this.options,i=0;i<t.length;i++)if(this.getOptionText(t[i])===e)return this.setIndex(i)},getValue:function(){return this.options[this.currentIndex]}},render:function(e){var t=this,i=this.itemHeight,s=this.visibleItemCount,o={height:i*s+"px"},n=i*(s-1)/2,r={transition:this.duration+"ms",transform:"translate3d(0, "+(this.offset+n)+"px, 0)",lineHeight:i+"px"},a={height:i+"px"};return e("div",{style:o,class:[p(),this.className],on:{touchstart:this.onTouchStart,touchmove:this.onTouchMove,touchend:this.onTouchEnd,touchcancel:this.onTouchEnd}},[e("ul",{style:r},[this.options.map(function(i,s){return e("li",{style:a,class:["van-ellipsis",p("item",{disabled:t.isDisabled(i),selected:s===t.currentIndex})],domProps:{innerHTML:t.getOptionText(i)},on:{click:function(){t.setIndex(s,!0)}}})})])])}}),g=Object(o["i"])("picker"),m=g[0],v=g[1],C=g[2];t["a"]=m({props:Object(s["a"])({},c["a"],{columns:Array,defaultIndex:{type:Number,default:0},valueKey:{type:String,default:"text"}}),data:function(){return{children:[]}},computed:{simple:function(){return this.columns.length&&!this.columns[0].values}},watch:{columns:function(){this.setColumns()}},methods:{setColumns:function(){var e=this,t=this.simple?[{values:this.columns}]:this.columns;t.forEach(function(t,i){e.setColumnValues(i,a(t.values))})},emit:function(e){this.simple?this.$emit(e,this.getColumnValue(0),this.getColumnIndex(0)):this.$emit(e,this.getValues(),this.getIndexes())},onChange:function(e){this.simple?this.$emit("change",this,this.getColumnValue(0),this.getColumnIndex(0)):this.$emit("change",this,this.getValues(),e)},getColumn:function(e){return this.children[e]},getColumnValue:function(e){var t=this.getColumn(e);return t&&t.getValue()},setColumnValue:function(e,t){var i=this.getColumn(e);i&&i.setValue(t)},getColumnIndex:function(e){return(this.getColumn(e)||{}).currentIndex},setColumnIndex:function(e,t){var i=this.getColumn(e);i&&i.setIndex(t)},getColumnValues:function(e){return(this.children[e]||{}).options},setColumnValues:function(e,t){var i=this.children[e];i&&JSON.stringify(i.options)!==JSON.stringify(t)&&(i.options=t,i.setIndex(0))},getValues:function(){return this.children.map(function(e){return e.getValue()})},setValues:function(e){var t=this;e.forEach(function(e,i){t.setColumnValue(i,e)})},getIndexes:function(){return this.children.map(function(e){return e.currentIndex})},setIndexes:function(e){var t=this;e.forEach(function(e,i){t.setColumnIndex(i,e)})},onConfirm:function(){this.emit("confirm")},onCancel:function(){this.emit("cancel")}},render:function(e){var t=this,i=this.itemHeight,s=this.simple?[this.columns]:this.columns,o={height:i+"px"},r={height:i*this.visibleItemCount+"px"},a=this.showToolbar&&e("div",{class:["van-hairline--top-bottom",v("toolbar")]},[this.slots()||[e("div",{class:v("cancel"),on:{click:this.onCancel}},[this.cancelButtonText||C("cancel")]),this.slots("title")||this.title&&e("div",{class:["van-ellipsis",v("title")]},[this.title]),e("div",{class:v("confirm"),on:{click:this.onConfirm}},[this.confirmButtonText||C("confirm")])]]);return e("div",{class:v()},[a,this.loading?e("div",{class:v("loading")},[e(d["a"])]):e(),e("div",{class:v("columns"),style:r,on:{touchmove:n["c"]}},[s.map(function(i,s){return e(f,{attrs:{valueKey:t.valueKey,className:i.className,itemHeight:t.itemHeight,defaultIndex:i.defaultIndex||t.defaultIndex,visibleItemCount:t.visibleItemCount,initialOptions:t.simple?i:i.values},on:{change:function(){t.onChange(s)}}})}),e("div",{class:["van-hairline--top-bottom",v("frame")],style:o})])])}})},f8f0:function(e,t,i){"use strict";var s=i("e015"),o=i.n(s);o.a},fb6c:function(e,t,i){}}]);