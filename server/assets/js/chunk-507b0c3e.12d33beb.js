(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-507b0c3e"],{"1a46":function(t,e,s){},"1d82":function(t,e,s){},"1f87":function(t,e,s){"use strict";s("68ef"),s("1d82")},"1fc8":function(t,e,s){"use strict";var i=s("9b91"),a=s("34fe"),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return"mdzq"===t.pkg.shippingWayCode&&t.step>=4?s("div",{staticClass:"prepare"},[s("div",{staticClass:"title fs32B"},[t._v("备货进度")]),4==t.step?s("div",{staticClass:"content"},[s("b",[t._v("[ 备货完成 ]")]),t._v(" 请抓紧时间到 "),s("span",{staticClass:"blue"},[t._v(t._s(t.dptName))]),t._v("提货")]):t._e(),5==t.step?s("div",{staticClass:"content"},[s("b",[t._v("[ 已提货 ]")]),t._v(" 已于"+t._s(t.pkg.nodeTime)+" 提货 ")]):t._e()]):t._e()},r=[],o={name:"Prepare",props:{pkg:{}},data:function(){return{message:"海天",people:""}},methods:{},computed:{step:function(){return this.pkg.nodeCode},dptName:function(){return this.pkg.dptName?"【"+this.pkg.dptName+" 】":null}}},c=o,l=(s("42de"),s("2877")),d=Object(l["a"])(c,n,r,!1,null,"eadc2bbc",null),u=d.exports,p=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"step-wrap"},[s("div",{staticClass:"line-wrap"},[s("div",{staticClass:"line"},[s("div",{ref:"process",staticClass:"overlayer"})])]),s("div",[s("div",{staticClass:"text-wrap"},t._l(t.steps,function(e,i){return s("div",{key:i,staticClass:"step",class:{stepActive:t.activeIndex===i}},[s("div",{staticClass:"text"},[t._v(t._s(e.name))]),e.time?s("div",{staticClass:"time"},[t._v(t._s(e.time))]):t._e()])}))])])},m=[],f=function(){return{mdzq:[{name:"下单",time:""},{name:"支付",time:" "},{name:"备货完成",time:""},{name:"已取货",time:""}],kdps:[{name:"下单",time:""},{name:"支付",time:" "},{name:"发货",time:""},{name:"签收",time:""}]}},v=s("bf3c"),h={name:"OrderStep",props:["order"],data:function(){return{stepCode:"",steps:[],errMsg:{kdps:"已取消发货",mdzq:"已取消发货"},activeIndex:1}},methods:{init:function(){var t=f();this.steps=t[this.order.shippingWayCode],this.steps[0].time=this.order.ordTime;var e=this.order.nodeCode;switch(this.order.ordStatusCodes){case"D_ORDSPAYING":e=1;break;case"D_ORDSSHIPPING":e=2;break;case"D_ORDSDELIVERY":e=3;break;case"D_ORDSCOMMENTING":e=4;break;case"D_ORDSAPPENDCOMMENTING":e=4;break;case"D_ORDRECEIVED":e=4;break;case"D_ORDCANCEL":e="";break}if(this.stepCode=e,console.log(e,"deliveryTimedeliveryTime"),e){e>2?(this.steps[1].time=this.order.ordPayTime,this.steps[2].time=this.order.oufWhseTime,this.steps[3].time=this.order.deliveryTime):this.steps[e-1].time=2==e?this.order.ordPayTime:this.order.nodeTime;var s=this.stepCode/4*100;this.$refs.process.style.width=s+"%",this.activeIndex=this.stepCode-1}}},mounted:function(){},watch:{order:function(t){this.init()}},created:function(){}},g=h,_=(s("3e64"),Object(l["a"])(g,p,m,!1,null,"7efbde8a",null)),C=_.exports,b=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.pkg.expressNo?s("div",["kdps"==t.pkg.shippingWayCode?s("div",{staticClass:"package-infor"},[t.pkg.expressName&&t.pkg.expressNo?s("div",[s("p",{staticClass:"flex-row"},[s("span",[t._v("物流公司：")]),s("span",[t._v(t._s(t.pkg.expressName))])]),s("p",{staticClass:"flex-row"},[s("span",[t._v("物流单号：")]),s("span",[t._v(t._s(t.pkg.expressNo))])])]):t._e()]):t._e()]):s("div",{staticClass:"package-infor"},[s("div",[s("p",[t._v("物流信息:")]),s("p",[t._v(" "+t._s("D_SHIPPINGCANCLE"==t.pkg.statusCode?"已取消":"未发货"))])])])])},D=[],x={name:"packageInfor",props:["pkg"],data:function(){return{}},mounted:function(){}},y=x,N=(s("aac8"),Object(l["a"])(y,b,D,!1,null,"0d730f9a",null)),w=N.exports,k=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"orderInfo"},[s("div",{staticClass:"body"},[s("div",{staticClass:"item"},[s("div",{staticClass:"left four-interval"},[t._v("订单编号:")]),s("div",{staticClass:"right"},[t._v(t._s(t.data.billCode||"暂无单号"))])]),s("div",{staticClass:"item"},[s("div",{staticClass:"left four-interval"},[t._v("下单日期:")]),s("div",{staticClass:"right"},[t._v(t._s(t.data.ordTime))])]),s("div",{staticClass:"item"},[s("div",{staticClass:"left status-text four-interval"},[t._v("订单状态:")]),s("div",{staticClass:"right status-text"},[t._v(t._s(t.data.ordStatusNames))])]),s("div",{staticClass:"item"},[s("div",{staticClass:"left four-interval"},[t._v("商品总额:")]),s("div",{staticClass:"right"},[t._v("￥"+t._s(t.data.amountPart))])]),t.accountList.length>1?s("div",{staticClass:"item four-interval"},[s("div",{staticClass:"left"},[t._v("来源账号:")]),s("div",{staticClass:"right"},[t._v(t._s(t.orgrinAccout))])]):t._e(),s("div",{staticClass:"item"},[s("div",{staticClass:"left interval"},[t._v("会员卡:")]),s("div",{staticClass:"right"},[t._v("-￥"+t._s(t.data.amountVipcard||0))])]),s("div",{staticClass:"item"},[s("div",{staticClass:"left interval"},[t._v("折扣券:")]),s("div",{staticClass:"right"},[t._v("-￥"+t._s(t.data.amountDiscard||0))])]),s("div",{staticClass:"item"},[s("div",{staticClass:"left interval"},[t._v("优惠劵:")]),s("div",{staticClass:"right"},[t._v("-￥"+t._s(t.data.amountCoupon||0))])]),t.data.amountPm&&0!==t.data.amountPm?s("div",{staticClass:"item"},[s("div",{staticClass:"left four-interval"},[t._v("促销优惠:")]),s("div",{staticClass:"right"},[t._v("-￥"+t._s(t.data.amountPm))])]):t._e(),t.data.amountOthDisc&&0!==t.data.amountOthDisc?s("div",{staticClass:"item"},[s("div",{staticClass:"left four-interval"},[t._v("其他折让:")]),s("div",{staticClass:"right"},[t._v("-￥"+t._s(t.data.amountOthDisc))])]):t._e(),s("div",{staticClass:"item"},[s("div",{staticClass:"left"},[t._v("运       费:")]),s("div",{staticClass:"right"},[t._v("￥"+t._s(t.data.amountTrans))])]),0!=t.data.amountPoint?s("div",{staticClass:"item"},[s("div",{staticClass:"left four-interval"},[t._v("使用积分:")]),s("div",{staticClass:"right"},[t._v("-￥"+t._s(t.data.amountPoint))])]):t._e(),s("div",{staticClass:"item total"},[s("div",{staticClass:"left four-interval"},[t._v("实付金额:")]),s("div",{staticClass:"right"},[t._v("￥"+t._s(t._f("Fix2")(t.data.amountNeedPay)))])])]),t.ticketBtnName&&"查看发票"==t.ticketBtnName?s("div",{staticClass:"get-invoice flex-row",on:{click:function(e){t.openTicket(t.ticketBtnName)}}},[s("p",[t._v(t._s(t.data.invoiceDetail.typeName))]),s("p",[t._v("\n      "+t._s(t.data.invoiceDetail.invoiceCode?"公司":"个人")+"\n      "),s("i",{staticClass:"iconfont fs30 icon-youfan"})])]):t.ticketBtnName&&"开发票"==t.ticketBtnName?s("div",{staticClass:"get-invoice flex-row",on:{click:function(e){t.openTicket(t.ticketBtnName)}}},[s("p",[t._v("未开发票")]),t._m(0)]):t._e()])},P=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("i",{staticClass:"iconfont fs30 icon-youfan"})])}],S=(s("e17f"),s("2241")),I=(s("a481"),s("96cf"),s("3b8d")),T=(s("99ad"),s("22ce")),O=s("2b61"),E={name:"OrderInfo",props:{data:{}},data:function(){return{accountList:[],orgrinAccout:""}},methods:{initState:function(){var t=Object(I["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getAccountList();case 2:this.orgrinAccout=t.sent,console.log(this.orgrinAccout,"orgrinAccoutorgrinAccout");case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),phoneNumHandle:function(t){return(t+"").replace(/^(\d{3})\d{4}(\d{4})$/,"$1****$2")},getAccountList:function(){var t=Object(I["a"])(regeneratorRuntime.mark(function t(){var e,s,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,T["k"].getRelationAccountList();case 2:return e=t.sent,this.accountList=e,console.log(e,"accountListaccountListaccountList"),s=this.Storage.get("USER_INFO").vipInfoId,i=e.filter(function(t){if(t.id==s)return t})[0],i.mobilePhone=this.phoneNumHandle(i.mobilePhone),console.log("currentAccount",i),t.abrupt("return",i.mobilePhone);case 10:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),toViewInvoice:function(){this.$router.push({name:"invoiceDetail",query:{billCode:this.data.billCode,isAllowOpenTicket:"D_ORDCANCEL"!=this.data.ordStatusCodes,isAllowOpenTicketStatus:this.data.isAllowOpenTicket}})},toOpenTicket:function(){var t=this.judgeAfterSaleOrdStatus();t&&this.$router.push({name:"invoiceType",query:{billCode:this.data.billCode}})},openTicket:function(t){switch(t){case"查看发票":this.toViewInvoice();break;case"开发票":this.toOpenTicket();break}},judgeAfterSaleOrdStatus:function(){var t=this,e=!1,s=this.data.afterSalesInfo.unconfirmNum,i=this.data.afterSalesInfo.handlingNum,a=this.data.afterSalesInfo.totalNum,n=this.data.afterSalesInfo.applyCode;return i>0?S["a"].confirm({message:"有进行中的售后申请,暂时无法开票,请等待售后完成!",confirmButtonText:"前去查看",cancelButtonText:"关闭"}).then(function(){1===a?t.$router.push({name:"postSaleDetail",params:{reapplycode:n}}):t.$router.push({name:"postSaleList"})}).catch(function(){}):s>0?S["a"].confirm({message:"该订单有未被处理的售后单,暂时无法开票,要去取消售后单吗?",confirmButtonText:"去取消",cancelButtonText:"不了"}).then(function(){1===a?t.$router.push({name:"postSaleDetail",params:{reapplycode:n}}):t.$router.push({name:"postSaleList"})}).catch(function(){}):e=!0,e}},filters:{vipAccountHandle:function(t){return(t+"").replace(/^(\d{3})\d{4}(\d{4})$/,"$1****$2")}},created:function(){var t=this;this.$nextTick(function(){t.initState()})},watch:{data:function(t){console.log(t,"valvalval"),this.initState()}},computed:{invoiceInfo:function(){return v["a"].isEmpty(this.data.invoiceDetail)?"无":this.data.invoiceDetail.title+" "+this.data.invoiceDetail.typeName},ticketBtnName:function(){if(console.log(this.data.invoiceDetail,"this.data.invoiceDetail"),!v["a"].isEmpty(this.data.invoiceDetail))return"查看发票";var t=this.data.actualAmount-this.data.amountTrans;return 1==this.data.isAllowOpenTicket&&t>0?"开发票":null}}},$=E,L=(s("2977"),Object(l["a"])($,k,P,!1,null,"09d16a11",null)),A=L.exports,R=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.pkg.goodsList?s("div",{staticClass:"list-box"},t._l(t.goodList,function(e,i){return s("good",{key:i,attrs:{order:t.order,data:e}})})):t._e()},M=[],j=(s("ac6a"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"goodContent",on:{click:function(e){e.stopPropagation(),t.goToViewDetail()}}},[t.isCustom?s("div",{staticClass:"custom"},[s("div",{staticClass:"left"},[s("div",{staticClass:"img-box"},[1==t.data.orderFlag?s("span",[t._v("定制")]):t._e(),s("img",{attrs:{src:t.getImg(t.data.thumb,"150*150"),onerror:"errImg(event)",alt:""}})])]),s("div",{staticClass:"right"},[s("div",{staticClass:"cloth-name"},[t._v(t._s(t.data.goodsName))]),s("div",{staticClass:"priceAndNum"},[s("div",{staticClass:"price"},[t._v("￥"+t._s(t.data.averagePrice))]),s("div",{staticClass:"num"},[t._v("x"+t._s(t.data.ordQty))])]),t.shipTime?s("div",{staticClass:"pdT10 pdB20"},[t._v("预计发货 : "+t._s(t.shipTime))]):t._e(),s("div",{staticClass:"colist-box"},[s("div",{staticClass:"colist"},[s("div",{staticClass:"flex-box flex-vcenter main",on:{click:function(e){e.stopPropagation(),t.toggle("customList")}}},[s("div",{staticClass:"c-left"},[t._v("定制清单")]),s("div",{staticClass:"c-right"},[s("i",{staticClass:"iconfont icon-xialaxuan",class:{rotatingUp:t.showFb,rotatingDown:!t.showFb}})])]),s("custom-dialog",{directives:[{name:"show",rawName:"v-show",value:t.showFb,expression:"showFb"}],attrs:{fromPage:"orderDetail",mainFabricName:t.data.mainFab?t.data.mainFab.fabName:"",partList:t.data.parts}})],1),t.measurInfo&&t.measure?s("div",{staticClass:"colist"},[s("div",{staticClass:"flex-box main",on:{click:function(e){e.stopPropagation(),t.toggle("MeasureData")}}},[s("div",{staticClass:"c-left"},[t._v("着装人:"+t._s(t.measure.dressPerson))]),t._m(0)]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showVol,expression:"showVol"}],staticClass:"flex-box Wrap mgT20"},t._l(t.data.measureInfo,function(e,i){return s("div",{key:i,staticClass:"body-data flex-box"},[s("div",{staticClass:"flex-lave text-center pdTb2"},[t._v(t._s(e.measureName))]),s("div",{staticClass:"flex-lave text-center pdTb2"},[t._v(t._s(e.netValue))])])}))]):t._e(),t.measure&&!t.measurInfo?s("div",{staticClass:"flex-vbox colist mgT30"},[s("div",{staticClass:"flex-between main",on:{click:function(e){e.stopPropagation(),t.toggle("MeasureInfo")}}},[s("div",{staticClass:"fs26B"},[t._v("着装人:"+t._s(t.measure.dressPerson))]),s("div",[s("i",{staticClass:"iconfont icon-xialaxuan fs30",class:{rotatingUp:t.showMeasureInfo,rotatingDown:!t.showMeasureInfo}})])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showMeasureInfo,expression:"showMeasureInfo"}],staticClass:"fs28 grey66 mgT20 booking-infor"},[t.measure.statusId?s("div",{staticClass:"pdTb16 flex-box"},[s("div",{staticClass:"left-title"},[t._v("状态 :  ")]),s("div",{staticClass:"flex-auto",staticStyle:{color:"#2BA4F3"}},[t._v(t._s(t.stateList[t.measure.statusId]))])]):t._e(),t.measure.sexName?s("div",{staticClass:"pdTb16 flex-box"},[s("div",{staticClass:"left-title"},[t._v("性别 :  ")]),s("div",{staticClass:"flex-auto"},[t._v(t._s(t.measure.sexName))])]):t._e(),t.measure.dressPhone?s("div",{staticClass:"pdTb16 flex-box"},[s("div",{staticClass:"left-title"},[t._v("联系电话 :  ")]),s("div",{staticClass:"flex-auto"},[t._v(t._s(t.measure.dressPhone))])]):t._e(),t.measure.dressPerson?s("div",{staticClass:"pdTb16 flex-box"},[s("div",{staticClass:"left-title"},[t._v("预约时间 :  ")]),s("div",{staticClass:"flex-auto"},[t._v(t._s(t.measure.orderTime))])]):t._e(),t.measure.msrWayName?s("div",{staticClass:"pdTb16 flex-box"},[s("div",{staticClass:"left-title"},[t._v("量体方式 :  ")]),s("div",{staticClass:"flex-auto"},[t._v(t._s(t.measure.msrWayName))])]):t._e(),t.measure.reservationAddr?s("div",{staticClass:"pdTb16 flex-box"},[s("div",{staticClass:"left-title"},[t._v("量体地址 :  ")]),s("div",{staticClass:"flex-auto"},[t._v(t._s(t.measure.reservationAddr))])]):t._e(),s("div",{staticClass:"pdTb16 flex-box"},[s("div",{staticClass:"left-title"},[t._v("备注 :  ")]),s("div",{staticClass:"flex-auto"},[t._v(t._s(t.measure.measureMemo?t.measure.measureMemo:"暂无备注"))])])])]):t._e(),t.measure||"D_MSROPMSR"!=t.data.measureOpCode||"D_ORDSPAYING"!=t.order.ordStatusCodes&&"D_ORDSSHIPPING"!=t.order.ordStatusCodes?t._e():s("div",{staticClass:"colist"},[s("div",{staticClass:"flex-box main",on:{click:function(e){e.stopPropagation(),t.addBooking(t.data)}}},[s("div",{staticClass:"c-left"},[t._v("添加着装人")]),t._m(1)])])]),s("div",{staticClass:"btns"},[!t.measure||"D_MSROPMSR"!=t.data.measureOpCode||"10051501"!=t.measure.statusId&&"10051506"!=t.measure.statusId?t._e():s("button",{staticClass:"btn update-booking",on:{click:function(e){e.stopPropagation(),t.updateMyBooking(t.measure.saleMeasureHdId)}}},[t._v("修改预约")]),t.btnApply?s("button",{staticClass:"btn btn-blue left-button",on:{click:function(e){e.stopPropagation(),t.onBtnClick(t.btnApply)}}},[t._v(t._s(t.btnApply))]):t._e(),t.btnViewDetail?s("button",{staticClass:"btn btn-blue left-button",on:{click:function(e){e.stopPropagation(),t.onBtnClick(t.btnViewDetail)}}},[t._v(t._s(t.btnViewDetail))]):t._e()])])]):t._e(),t.isCustom?t._e():[t.isGift?t._e():s("div",{staticClass:"handsel"},[s("div",{staticClass:"left"},[s("div",{staticClass:"img-box"},[s("img",{attrs:{src:t.getImg(t.data.thumb,"150*150"),onerror:"errImg(event)"}})])]),s("div",{staticClass:"right"},[s("div",{staticClass:"cloth-name"},[t._v(t._s(t.data.goodsName))]),s("div",{staticClass:"priceAndNum"},[s("div",{staticClass:"price"},[t._v("￥"+t._s(t._f("Fix2")(t.data.averagePrice)))]),s("div",{staticClass:"num"},[t._v("x"+t._s(t.data.ordQty))])]),s("div",{staticClass:"good-info"},[s("div",{staticClass:"item flex-row"},[s("p",[t._v("颜色:")]),s("p",[t._v(t._s(t.data.colorName))])]),s("div",{staticClass:"item flex-row"},[s("p",[t._v("尺码:")]),s("p",[t._v(t._s(t.data.sizeName))])])]),s("div",{staticClass:"btns"},[t.btnApply?s("button",{staticClass:"btn btn-blue",on:{click:function(e){e.stopPropagation(),t.onBtnClick(t.btnApply)}}},[t._v(t._s(t.btnApply))]):t._e(),t.btnViewDetail?s("button",{staticClass:"btn btn-blue",on:{click:function(e){e.stopPropagation(),t.onBtnClick(t.btnViewDetail)}}},[t._v(t._s(t.btnViewDetail))]):t._e()])])]),t.isGift?s("div",{staticClass:"gift-style"},[s("div",{staticClass:"gift-infor"},[s("div",{staticClass:"image-main"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.getImg(t.data.thumb),expression:"getImg(data.thumb)"}],staticClass:"image",attrs:{onerror:"errImg(event)"}}),t._m(2)]),s("div",{staticClass:"gift-right"},[s("div",{staticClass:"gift-title flex-row"},[s("p",{staticClass:"name overflow"},[t._v(t._s(t.data.goodsName))]),s("p",{staticClass:"price"},[t._v("¥"+t._s(t._f("Fix2")(t.data.averagePrice)))])]),s("div",{staticClass:"gift-size flex-row"},[s("p",[t._v(t._s(t.data.sizeName)+"/"+t._s(t.data.colorName))]),s("p",{staticClass:"num"},[t._v("x "+t._s(t.data.ordQty))])])])]),s("div",{staticClass:"btns"},[t.btnApply?s("button",{staticClass:"btn btn-blue",on:{click:function(e){e.stopPropagation(),t.onBtnClick(t.btnApply)}}},[t._v("申请售后")]):t._e()])]):t._e()]],2)}),F=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"c-right"},[s("i",{staticClass:"iconfont icon-xialaxuan"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"c-right"},[s("i",{staticClass:"iconfont icon-tupiantianjia"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"title-image"},[s("span",[t._v("赠品")])])}],V=(s("28a5"),s("e7e5"),s("d399")),B=(s("6762"),s("2fdb"),s("a392")),U=s("4128"),G={name:"Good",components:{CustomDialog:U["a"]},props:{data:{type:Object,default:{}},order:{type:Object,default:{}}},data:function(){return{stateList:{10051501:"审核中",10051502:"审核通过待指派量体师",10051503:"已派遣量体师",10051504:"预约成功",10051505:"量体完成",10051506:"已取消"},btnApply:null,btnViewDetail:null,showFb:!1,showVol:!1,showMeasureInfo:!1,unApplyableOrdStatus:["D_TRANSCLOSE","D_ORDSPAYING","D_ORDCANCEL"],params:{type:Object},emb:[],emp:[],prt:[],DJTYPE:{10260501:!1,10260502:!0}}},methods:{addBooking:function(t){Object(B["a"])(),this.$router.push({path:"/booking-quantity-body",query:{entrance:0,isOrder:2,billCode:this.order.billCode,buscontsCode:this.order.buscontsCode,rtlOrdDtId:t.saleOrdDtId}})},updateMyBooking:function(t){this.$router.push({name:"reserve-detail",query:{id:t,entrance:1}})},getMaterial:function(){if(!v["a"].isEmpty(this.data.parts)){var t=[],e=[],s=[];this.data.parts.forEach(function(i,a){var n={};i.emb&&i.emb.length>0?(n.name=i.regionName,n.content=i.emb[0].content,n.price=i.emb[0].price,n.colorNumberHx=i.emb[0].colorNumberHx,e.push(n)):i.embPrint&&i.embPrint.length>0?(n.name=i.regionName,n.imgUrl=i.embPrint[0].embPrintPictUrl,n.price=i.embPrint[0].price,t.push(n)):i.prtPrint&&i.prtPrint.length>0&&(n.name=i.regionName,n.imgUrl=i.prtPrint[0].embPrintPictUrl,n.price=i.prtPrint[0].prtprice,s.push(n))}),this.emb=t,this.emp=e,this.prt=s}},initState:function(){if(this.showFb=!1,this.showVol=!1,!v["a"].isEmpty(this.data)){var t=this.data.ordStatusCode;this.unApplyableOrdStatus.includes(t)&&(this.btnApply=null),this.data.applyable?this.btnApply="申请售后":this.btnApply=null,v["a"].isEmpty(this.data.reapplyCodes)?this.btnViewDetail=null:this.btnViewDetail="售后详情"}},goTo:function(t,e){this.$router.push({name:t+"",path:"/"+t,params:e||{}})},toggle:function(t){switch(t){case"customList":this.showFb=!this.showFb;break;case"MeasureData":this.showVol=!this.showVol;break;case"MeasureInfo":this.showMeasureInfo=!this.showMeasureInfo;break}},applyPostSale:function(){v["a"].isEmpty(this.$route.params)||this.Storage.set("shopCode",{code:this.$route.params.shopCode}),this.goTo("postSaleApply",this.data)},goToViewDetail:function(){var t=this;this.isShelve(this.data.goodsCode).then(function(e){e?0===t.data.orderFlag?t.$router.push({path:"goods-detail",query:{goodsCode:t.data.goodsCode}}):t.$router.push({path:"goods/web-design",query:{goodsCode:t.data.goodsCode}}):(Object(V["a"])({duration:400,message:"商品未上架"}),setTimeout(function(){t.$router.push("/off-shelves")},500))})},viewPostSaleDaetail:function(){var t=this.data.reapplyCodes.length;if(1===t){var e={reapplycode:this.data.reapplyCodes[0]};this.goTo("postSaleDetail",e)}else this.goTo("postSaleList")},onBtnClick:function(t){switch(t){case"申请售后":this.applyPostSale();break;case"售后详情":this.viewPostSaleDaetail();break;case"更换着装人":break;default:this.btnApply=null,this.btnViewDetail=null}}},mounted:function(){},created:function(){var t=this;this.$nextTick(function(){t.initState(),t.getMaterial()})},watch:{data:function(t){this.initState(),this.getMaterial()}},computed:{isCustom:function(){return 1==this.data.orderFlag},isGift:function(){return 1==this.data.isGift},measure:function(){return v["a"].isEmpty(this.data.measure)?null:this.data.measure[0]},measurInfo:function(){return!(!this.data.measureInfo||!this.data.measureInfo.length)},shipTime:function(){return"D_ORDSSHIPPING"!=this.data.ordStatusCode?null:this.data.nodeCode>3?null:v["a"].isEmpty(this.data.estimateTime)?null:this.data.estimateTime.split(" ")[0]}},beforeDestroy:function(){Object.assign(this.$data,this.$options.data())}},H=G,W=(s("a44d"),Object(l["a"])(H,j,F,!1,null,"3562b36a",null)),q=W.exports,z={name:"GoodList",components:{good:q},props:{pkg:null,order:{}},computed:{goodList:function(){var t=this;if(v["a"].isEmpty(this.pkg))return[];var e=this.pkg.goodsList;return e.forEach(function(e){e.nodeCode=t.pkg.nodeCode,e.sourceCode=t.order.sourceCode,e.shopCode=t.order.shopCode,e.ordStatusCode=t.order.ordStatusCodes}),e}},mounted:function(){console.log(this.order,"orderorderorderorderorder")}},Y=z,J=(s("d30c"),Object(l["a"])(Y,R,M,!1,null,"f6a7f7f8",null)),Q=J.exports,K=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"pickup-content"},[t.renderSelf?s("div",{staticClass:"pickup-info"},[s("div",{staticClass:"body"},[s("div",{staticClass:"item"},[s("div",{staticClass:"left"},[t._v(t._s(t.people[t.data.shippingWayCode||t.data.receiptWayCode])+":")]),s("div",{staticClass:"right"},[t._v(t._s(t.data.cargoUsrName))])]),s("div",{staticClass:"item"},[s("div",{staticClass:"left"},[t._v("联系方式：")]),s("div",{staticClass:"right"},[t._v(t._s(t.data.cargoMobile))])]),s("div",{staticClass:"item"},[s("div",{staticClass:"left"},[t._v("收货地址：")]),s("div",{staticClass:"right"},[t.shopName?s("span",{staticClass:"address"},[t._v(t._s("[ "+t.shopName+" ]"))]):t._e(),t._v("\n          "+t._s(t.address)+"\n        ")])]),s("div",{staticClass:"item"},[s("div",{staticClass:"left"},[t._v("订单备注：")]),s("div",{staticClass:"right"},[t._v(t._s(t.data.ctmMessage?t.data.ctmMessage:"暂无备注"))])])])]):t._e()])},X=[],Z={name:"PickupInfo",props:{data:{},order:{}},data:function(){return{title:{mdzq:"提货信息",kdps:"收货信息"},people:{mdzq:"提货人",kdps:"收货人"}}},methods:{},created:function(){this.$nextTick(function(){})},watch:{data:function(t){}},computed:{shopName:function(){return"mdzq"==this.data.shippingWayCode?this.data.recptdptName||this.data.dptName:null},address:function(){var t=this.data.cargoStateName+this.data.cargoCityName+this.data.cargoDestName+this.data.cargoAddress;return t},renderSelf:function(){return console.log(this.data,"shippingWayCodeshippingWayCodeshippingWayCode"),"dczt"!=this.data.shippingWayCode}}},tt=Z,et=(s("3e4b"),Object(l["a"])(tt,K,X,!1,null,null,null)),st=et.exports,it=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.isRender?s("div",{staticClass:"count-wrap"},[s("span",[t._v(t._s(t.hours)+"小时")]),s("span",[t._v(t._s(t.minutes)+"分")]),s("span",[t._v(t._s(t.seconds)+"秒")]),s("span",[t._v(" 后自动取消订单")])]):t._e()},at=[],nt={name:"countDown",props:{order:Object},data:function(){return{time:0,hours:0,minutes:0,seconds:0,maxtime:0,timer:null,flag:1}},methods:{init_Time:function(){this.seconds=0,this.minutes=0,this.hours=0,this.time=this.order.closeDate-this.order.nowDate},getEndTimeMill:function(){return Math.floor(this.time/1e3)},set_Time:function(t){this.seconds=Math.floor(t%60),this.minutes=Math.floor(t/60)%60,this.hours=Math.floor(t/3600)},isPayed:function(){var t="D_ORDSPAYING"==this.order.ordStatusCodes,e="D_PAIDPART"!=this.order.payStatusCode;return!(!t||!e)},countDown:function(t){var e=this;e.maxtime=t,this.timer=setInterval(function(){e.maxtime>0?(e.maxtime--,e.set_Time(e.maxtime)):(e.cancelOrder(),clearInterval(e.timer))},1e3)},cancelOrder:function(){var t=Object(I["a"])(regeneratorRuntime.mark(function t(){var e,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e={flag:1,ctmUsrId:O["a"].get("USER_INFO").usrId,billCodes:[this.order.billCode]},t.next=3,T["g"].cancelOrder(e);case 3:s=t.sent,200===s.status&&(this.$emit("getOrdInfo"),this.$router.replace({name:"orderClosed",query:{billCode:this.order.billCode}}));case 5:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),start:function(){if(this.clearTimer(),this.isPayed()){this.init_Time();var t=this.getEndTimeMill();t<=0||(this.set_Time(t),this.countDown(t))}},clearTimer:function(){clearInterval(this.timer),this.timer=null}},computed:{isRender:function(){return this.$parent.paddingTop=!1,!!this.isPayed()&&(0!=this.maxtime&&(this.$parent.paddingTop=!0,!0))}},watch:{order:function(){this.start()}},mounted:function(){this.start()},beforeRouteLeave:function(){this.clearTimer()}},rt=nt,ot=(s("900f"),Object(l["a"])(rt,it,at,!1,null,"2f0ac212",null)),ct=ot.exports,lt=s("6859");e["a"]={ScrollView:i["a"],ScrollTab:a["a"],Prepare:u,logis:lt["a"],StepLine:C,OrderInfo:A,GoodList:Q,PickupInfo:st,packageInfor:w,countDown:ct}},"28ff":function(t,e,s){"use strict";var i=s("ec26"),a=s.n(i);a.a},2977:function(t,e,s){"use strict";var i=s("32fd"),a=s.n(i);a.a},"2fdb":function(t,e,s){"use strict";var i=s("5ca1"),a=s("d2c8"),n="includes";i(i.P+i.F*s("5147")(n),"String",{includes:function(t){return!!~a(this,t,n).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},"32fd":function(t,e,s){},"3e4b":function(t,e,s){"use strict";var i=s("b1b7"),a=s.n(i);a.a},"3e64":function(t,e,s){"use strict";var i=s("b9a0"),a=s.n(i);a.a},4128:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container",on:{click:function(t){t.stopPropagation()}}},[s("ul",{staticClass:"detail"},[t.mainFabricName?s("li",[t._v("主面料—"+t._s(t.mainFabricName))]):t._e(),t._l(t.partList,function(e,i){return s("li",[t._v("\n            "+t._s(e.partName)+"—"+t._s(e.fabricName)+"\n        ")])}),t._l(t.embList.embpt,function(e,i){return s("li",{staticClass:"emb-print-part"},[s("div",[s("span",[t._v("绣花—"+t._s(e.regionName))]),e.embprice?s("p",[t._v("￥"+t._s(t._f("$goldDivide")(e.embprice)))]):t._e()]),s("img",{attrs:{src:t.getImg(e.embFileUrl,"60*60"),onerror:"errImg(event)"}})])}),t._l(t.embList.print,function(e,i){return s("li",{staticClass:"emb-print-part"},[s("div",[s("span",[t._v("印花—"+t._s(e.regionName))]),e.prtprice?s("p",[t._v("￥"+t._s(t._f("$goldDivide")(e.prtprice)))]):t._e()]),s("img",{attrs:{src:t.getImg(e.embPrintPictUrl,"60*60"),onerror:"errImg(event)"}})])}),t._l(t.embList.emb,function(e,i){return s("li",{staticClass:"emb-part"},[s("p",[t._v("绣字—"+t._s(e.regionName))]),s("p",[s("span",[t._v(t._s(e.fontsName)+":")]),s("span",{style:{color:e.colorNumberHx}},[t._v(t._s(e.content))])]),e.embprice?s("p",[t._v("￥"+t._s(t._f("$goldDivide")(e.embprice)))]):t._e()])})],2)])},a=[],n=(s("ac6a"),{components:{},data:function(){return{}},props:{partList:{type:Array,default:[]},mainFabricName:{type:String,default:""},fromPage:{type:String,default:""}},computed:{embList:function(){var t=this,e={emb:[],embpt:[],print:[]};return console.log(this.partList,"partListpartList"),this.partList.forEach(function(s){"shoppingCart"===t.fromPage?(t.$set(s,"salePrice",s.price),t.$set(s,"fabricName",s.fabricname),t.$set(s,"partName",s.partname),s.rtlCartDttEmbDto&&(s.rtlCartDttEmbDto.regionName=s.regionName,s.rtlCartDttEmbDto.fontsName=s.rtlCartDttEmbDto.ictEmbFontsHdName,s.rtlCartDttEmbDto.content=s.rtlCartDttEmbDto.embValue,s.rtlCartDttEmbDto.embprice=s.rtlCartDttEmbDto.salePrice,e.emb.push(s.rtlCartDttEmbDto)),s.rtlCartDttEmbptDto&&(s.rtlCartDttEmbptDto.regionName=s.regionName,s.rtlCartDttEmbptDto.embFileUrl=s.rtlCartDttEmbptDto.fileUrl,s.rtlCartDttEmbptDto.embprice=s.rtlCartDttEmbptDto.salePrice,e.embpt.push(s.rtlCartDttEmbptDto)),s.rtlCartDttPrintDto&&(s.rtlCartDttPrintDto.regionName=s.regionName,s.rtlCartDttPrintDto.embPrintPictUrl=s.rtlCartDttPrintDto.fileUrl,s.rtlCartDttPrintDto.prtprice=s.rtlCartDttPrintDto.salePrice,e.print.push(s.rtlCartDttPrintDto))):"orderSettle"===t.fromPage?(s.emb.length&&(s.emb[0].regionName=s.regionName,e.emb.push(s.emb[0])),s.ept.length&&(s.ept[0].regionName=s.regionName,e.embpt.push(s.ept[0])),s.prt.length&&(s.prt[0].regionName=s.regionName,e.print.push(s.prt[0]))):(s.emb&&s.emb.length&&(s.emb[0].regionName=s.regionName,s.emb[0].fontsName=s.emb[0].ictEmbfontsHdName,s.emb[0].embprice=s.emb[0].price,e.emb.push(s.emb[0])),s.embPrint&&s.embPrint.length&&(s.embPrint[0].regionName=s.regionName,s.embPrint[0].embprice=s.embPrint[0].price,s.embPrint[0].embFileUrl=s.embPrint[0].embPrintPictUrl,e.embpt.push(s.embPrint[0])),s.prtPrint&&s.prtPrint.length&&(s.prtPrint[0].regionName=s.regionName,e.print.push(s.prtPrint[0])))}),console.log("即将打印data=====》",e),e}},methods:{},created:function(){}}),r=n,o=(s("f8f0"),s("2877")),c=Object(o["a"])(r,i,a,!1,null,"64c4f428",null);e["a"]=c.exports},"42de":function(t,e,s){"use strict";var i=s("9436"),a=s.n(i);a.a},"510b":function(t,e,s){"use strict";var i=s("a142"),a="#07c160",n=s("ad06"),r=Object(i["i"])("steps"),o=r[0],c=r[1];e["a"]=o({props:{icon:String,title:String,active:Number,iconClass:String,description:String,direction:{type:String,default:"horizontal"},activeColor:{type:String,default:a},activeIcon:{type:String,default:"checked"}},data:function(){return{steps:[]}},render:function(t){var e=this.icon,s=this.title,i=this.description,a=this.slots,r=(a("icon")||e)&&t("div",{class:c("icon")},[a("icon")||t(n["a"],{attrs:{name:e},class:this.iconClass})]),o=t("div",{class:c("message")},[t("div",{class:c("title")},[s]),t("div",{class:[c("desc"),"van-ellipsis"]},[i])]);return t("div",{class:c([this.direction])},[(s||i)&&t("div",{class:c("status")},[r,o,a("message-extra")]),t("div",{class:c("items",{alone:!s&&!i})},[a()])])}})},6859:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.isReady?s("div",{staticClass:"logis",class:[t.direction?"show-more-logis":"hidden-logis"]},[t.type?t._e():[s("div",{staticClass:"fs36B text-center mgT30"},[t._v(t._s(t.title))]),s("p",{staticClass:"title"},[t._v(t._s(t.returnShippingName)+"，"+t._s(t.returnShipCode))])],s("van-steps",{attrs:{direction:"vertical",active:0,"active-color":"#2BA4F3"}},t._l(t.sliceList,function(e,i){return s("van-step",{key:i},[s("h3",[t._v(t._s(e.acceptStation))]),s("p",[t._v(t._s(e.acceptTime))])])})),t.traceList.length>2?s("div",{staticClass:"fs28 text-center pdTb10 show-logis",on:{click:function(e){t.toggle()}}},[s("i",{staticClass:"iconfont icon-xialaxuan",class:{rotatingUp:t.direction,rotatingDown:!t.direction}})]):t._e()],2):t._e()},a=[],n=(s("96cf"),s("3b8d")),r=(s("77f8"),s("dc0f")),o=(s("1f87"),s("510b")),c=(s("c5f6"),s("bf3c"),{props:{data:{},type:{type:Number},title:{type:String,default:"物流信息"},returnShipCode:{type:String,default:""},returnShippingName:{type:String,default:""}},data:function(){return{logis:{},traceList:[],sliceList:[],actionName:"展开",direction:!1,isReady:!1}},components:{"van-steps":o["a"],"van-step":r["a"]},methods:{getLogisInfo:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(){var e,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e={expressCode:this.data.expressCode,logisticCode:this.data.expressNo},t.next=3,this.$post("third-party/getLogis",e);case 3:s=t.sent,this.traceList=s.traceList,this.sliceList=this.traceList.slice(0,2),this.isReady=!0;case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),toggle:function(){this.sliceList.length<=2?(this.sliceList=this.traceList,this.actionName="收起",this.direction=!0):(this.sliceList=this.traceList.slice(0,2),this.direction=!1,this.actionName="展开")},initData:function(){this.direction=!0,"kdps"===this.data.shippingWayCode&&this.data.expressNo&&this.data.expressCode?this.getLogisInfo():this.isReady=!1}},created:function(){this.initData()},watch:{data:function(){this.initData()}}}),l=c,d=(s("7865"),s("2877")),u=Object(d["a"])(l,i,a,!1,null,"f5493852",null);e["a"]=u.exports},"77f8":function(t,e,s){"use strict";s("68ef"),s("ae39")},7865:function(t,e,s){"use strict";var i=s("f058"),a=s.n(i);a.a},8393:function(t,e,s){},"900f":function(t,e,s){"use strict";var i=s("f2ac"),a=s.n(i);a.a},9436:function(t,e,s){},"9b91":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"scrollview",staticClass:"scrollView"},[s("div",{ref:"content",staticClass:"content"},[t._t("default")],2)])},a=[],n=s("1fba"),r={name:"ScrollView",props:{options:{type:Object,default:null}},data:function(){return{}},methods:{initScroll:function(){var t=this;if(this.scroll)this.scroll.refresh();else{var e={preventDefault:!1,bounce:!1,probeType:3};e=this.options?Object.assign(this.options,e):e,this.scroll=new n["a"](this.$refs.scrollview,e),this.scroll.on("scrollStart",function(){setTimeout(function(){t.scroll.options.preventDefault=!0,t.scroll.refresh()},0)}),this.scroll.on("scrollEnd",function(){t.scroll.options.preventDefault=!1,t.scroll.refresh()})}},getChildrenHeight:function(t){for(var e=t.children,s=0,i=0;i<e.length;i++)s+=e[i].offsetHeight;return s}},created:function(){var t=this;this.$nextTick(function(){t.initScroll()})},mounted:function(){}},o=r,c=(s("28ff"),s("2877")),l=Object(c["a"])(o,i,a,!1,null,null,null);e["a"]=l.exports},a44d:function(t,e,s){"use strict";var i=s("8393"),a=s.n(i);a.a},aac8:function(t,e,s){"use strict";var i=s("1a46"),a=s.n(i);a.a},ae39:function(t,e,s){},b1b7:function(t,e,s){},b9a0:function(t,e,s){},bbf3:function(t,e,s){},d30c:function(t,e,s){"use strict";var i=s("bbf3"),a=s.n(i);a.a},dc0f:function(t,e,s){"use strict";var i=s("a142"),a=s("ad06"),n=Object(i["i"])("step"),r=n[0],o=n[1];e["a"]=r({beforeCreate:function(){var t=this.$parent.steps,e=this.$parent.slots().indexOf(this.$vnode);t.splice(-1===e?t.length:e,0,this)},beforeDestroy:function(){var t=this.$parent.steps.indexOf(this);t>-1&&this.$parent.steps.splice(t,1)},computed:{status:function(){var t=this.$parent.steps.indexOf(this),e=this.$parent.active;return t<e?"finish":t===e?"process":void 0}},render:function(t){var e,s=this.status,i=this.$parent,n=i.activeIcon,r=i.activeColor,c=i.direction,l="process"===s&&{color:r};return t("div",{class:["van-hairline",o([c,(e={},e[s]=s,e)])]},[t("div",{class:o("title"),style:l},[this.slots()]),t("div",{class:o("circle-container")},["process"!==s?t("i",{class:o("circle")}):this.slots("active-icon")||t(a["a"],{attrs:{name:n},style:{color:r}})]),t("div",{class:o("line")})])}})},e015:function(t,e,s){},ec26:function(t,e,s){},f058:function(t,e,s){},f2ac:function(t,e,s){},f8f0:function(t,e,s){"use strict";var i=s("e015"),a=s.n(i);a.a}}]);