(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-613b7b70"],{2994:function(t,i,e){"use strict";e("68ef"),e("c0c2")},"2bdd":function(t,i,e){"use strict";var s=e("a142"),n=e("543e"),o=e("db78"),a=e("023d"),c=Object(s["i"])("list"),r=c[0],d=c[1],l=c[2];i["a"]=r({model:{prop:"loading"},props:{error:Boolean,loading:Boolean,finished:Boolean,errorText:String,loadingText:String,finishedText:String,immediateCheck:{type:Boolean,default:!0},offset:{type:Number,default:300},direction:{type:String,default:"down"}},mounted:function(){this.scroller=Object(a["c"])(this.$el),this.handler(!0),this.immediateCheck&&this.$nextTick(this.check)},destroyed:function(){this.handler(!1)},activated:function(){this.handler(!0)},deactivated:function(){this.handler(!1)},watch:{loading:function(){this.$nextTick(this.check)},finished:function(){this.$nextTick(this.check)}},methods:{check:function(){if(!(this.loading||this.finished||this.error)){var t=this.$el,i=this.scroller,e=Object(a["e"])(i);if(e&&"none"!==window.getComputedStyle(t).display&&null!==t.offsetParent){var s=this.offset,n=this.direction;o()&&(this.$emit("input",!0),this.$emit("load"))}}function o(){if(t===i){var o=Object(a["d"])(t);if("up"===n)return o<=s;var c=o+e;return i.scrollHeight-c<=s}if("up"===n)return Object(a["d"])(i)-Object(a["a"])(t)<=s;var r=Object(a["a"])(t)+Object(a["e"])(t)-Object(a["a"])(i);return r-e<=s}},clickErrorText:function(){this.$emit("update:error",!1),this.$nextTick(this.check)},handler:function(t){this.binded!==t&&(this.binded=t,(t?o["b"]:o["a"])(this.scroller,"scroll",this.check))}},render:function(t){return t("div",{class:d()},["down"===this.direction&&this.slots(),this.loading&&t("div",{class:d("loading"),key:"loading"},[this.slots("loading")||[t(n["a"],{class:d("loading-icon")}),t("span",{class:d("loading-text")},[this.loadingText||l("loading")])]]),this.finished&&this.finishedText&&t("div",{class:d("finished-text")},[this.finishedText]),this.error&&this.errorText&&t("div",{on:{click:this.clickErrorText},class:d("error-text")},[this.errorText]),"up"===this.direction&&this.slots()])}})},"4dba":function(t,i,e){},"735f":function(t,i,e){"use strict";e.r(i);var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"member-center"},[t.goodsList.length>0?e("van-list",{attrs:{finished:t.finished,"immediate-check":!1},on:{load:t.loadMore},model:{value:t.loading,callback:function(i){t.loading=i},expression:"loading"}},[e("p",{staticClass:"no-goods-tip"},[t._v("显示近90天的浏览足迹～")]),e("div",{staticClass:"member-goods-list"},[e("ul",t._l(t.goodsList,function(i){return e("li",{staticClass:"member-goods-item"},[e("img",{attrs:{src:t.getImg(i.url,"165*165"),alt:"",onerror:"errImg(event)"}}),e("p",{staticClass:"goods-name"},[t._v(t._s(null===i.goodsName?"Null":i.goodsName))]),e("div",{staticClass:"goods-price"},[e("span",{staticClass:"sale-price"},[t._v("￥"+t._s(i.salePrice))]),i.tagPrice?e("span",{staticClass:"tag-price"},[t._v("￥"+t._s(i.tagPrice))]):t._e()])])}))])]):t._e(),t.goodsList&&0!==t.goodsList.length?t._e():e("div",{staticClass:"no-goods-content"})],1)},n=[],o=(e("ac6a"),e("e7e5"),e("d399")),a=(e("2994"),e("2bdd")),c=e("22ce"),r=e("2b61"),d={components:{"van-list":a["a"]},data:function(){return{goodsList:[],showSelect:!1,loading:!1,finished:!1,pageNum:1,pageSize:10}},methods:{loadMore:function(){!0!==this.finished&&(this.pageNum+=1,this.getList())},getList:function(){var t=this;if(!0!==this.finished){var i={busContsCode:baseConstant.busContsCode,footMarkType:"D_ALL",dptId:r["a"].get("USER_INFO").shopId,pageNum:this.pageNum,pageSize:this.pageSize};c["k"].getUserFootprint(i).then(function(i){i.list.length>0&&i.list.forEach(function(i){t.goodsList.push(i)}),!1===i.hasNextPage&&(t.finished=!0),t.loading=!1})}else Object(o["a"])("没有更多了~")}},created:function(){this.getList()}},l=d,h=(e("ecb3"),e("2877")),u=Object(h["a"])(l,s,n,!1,null,"5bf60f6c",null);i["default"]=u.exports},c0c2:function(t,i,e){},ecb3:function(t,i,e){"use strict";var s=e("4dba"),n=e.n(s);n.a}}]);