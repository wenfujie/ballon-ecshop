(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9b9d5b52"],{"0a0a":function(t,e,o){var i=o("da3c"),s=o("a7d3"),r=o("b457"),n=o("fda1"),a=o("3adc").f;t.exports=function(t){var e=s.Symbol||(s.Symbol=r?{}:i.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:n.f(t)})}},"0bfb":function(t,e,o){"use strict";var i=o("cb7c");t.exports=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},"22ea":function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("6b54"),core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_0__),D_workspace_ballon_ecshop_node_modules_babel_runtime_corejs2_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("7618"),D_workspace_ballon_ecshop_node_modules_babel_runtime_corejs2_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("d225"),D_workspace_ballon_ecshop_node_modules_babel_runtime_corejs2_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("b0b4"),fastJson=function(){function fastJson(){Object(D_workspace_ballon_ecshop_node_modules_babel_runtime_corejs2_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__["a"])(this,fastJson)}return Object(D_workspace_ballon_ecshop_node_modules_babel_runtime_corejs2_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__["a"])(fastJson,null,[{key:"isArray",value:function(t){return"object"==Object(D_workspace_ballon_ecshop_node_modules_babel_runtime_corejs2_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_1__["a"])(t)&&"[object array]"==Object.prototype.toString.call(t).toLowerCase()}},{key:"isObject",value:function(t){return"object"==Object(D_workspace_ballon_ecshop_node_modules_babel_runtime_corejs2_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_1__["a"])(t)&&"[object object]"==Object.prototype.toString.call(t).toLowerCase()}},{key:"format",value:function format(a){return null==a?null:("string"==typeof a&&(a=eval("("+a+")")),this._format(a,a,null,null,null))}},{key:"_randomId",value:function(){return"randomId_"+parseInt(1e9*Math.random())}},{key:"_getJsonValue",value:function(t,e){var o,i=this._randomId();o="function "+i+"(root){return root."+e+";",o+="}",o+="";var s=document.createElement("script");return s.id=i,s.text=o,document.body.appendChild(s),i=window[i](t),s.parentNode.removeChild(s),i}},{key:"_format",value:function(t,e,o,i,s){if(o||(o=""),this.isObject(e)){if(e.$ref){var r=e.$ref;return void(0==r.indexOf("$.")&&(i[s]=this._getJsonValue(t,r.substring(2))))}for(var n in e)i=o,""!=i&&(i+="."),r=e[n],i+=n,this._format(t,r,i,e,n)}else if(this.isArray(e))for(n in e)i=o,r=e[n],i=i+"["+n+"]",this._format(t,r,i,e,n);return t}}]),fastJson}();__webpack_exports__["a"]=fastJson},"2bb1":function(t,e,o){"use strict";var i=o("1988"),s=o("a142"),r=Object(s["i"])("swipe-item"),n=r[0],a=r[1];e["a"]=n({data:function(){return{offset:0}},beforeCreate:function(){this.$parent.swipes.push(this)},destroyed:function(){this.$parent.swipes.splice(this.$parent.swipes.indexOf(this),1)},render:function(t){var e=this.$parent,o=e.vertical,s=e.computedWidth,r=e.computedHeight,n={width:s+"px",height:o?r+"px":"100%",transform:"translate"+(o?"Y":"X")+"("+this.offset+"px)"};return t("div",{class:a(),style:n,on:Object(i["a"])({},this.$listeners)},[this.slots()])}})},"31c2":function(t,e){e.f=Object.getOwnPropertySymbols},3846:function(t,e,o){o("9e1e")&&"g"!=/./g.flags&&o("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:o("0bfb")})},4128:function(t,e,o){"use strict";var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container",on:{click:function(t){t.stopPropagation()}}},[o("ul",{staticClass:"detail"},[t.mainFabricName?o("li",[t._v("主面料—"+t._s(t.mainFabricName))]):t._e(),t._l(t.partList,function(e,i){return o("li",[t._v("\n            "+t._s(e.partName)+"—"+t._s(e.fabricName)+"\n        ")])}),t._l(t.embList.embpt,function(e,i){return o("li",{staticClass:"emb-print-part"},[o("div",[o("span",[t._v("绣花—"+t._s(e.regionName))]),e.embprice?o("p",[t._v("￥"+t._s(t._f("$goldDivide")(e.embprice)))]):t._e()]),o("img",{attrs:{src:t.getImg(e.embFileUrl,"60*60"),onerror:"errImg(event)"}})])}),t._l(t.embList.print,function(e,i){return o("li",{staticClass:"emb-print-part"},[o("div",[o("span",[t._v("印花—"+t._s(e.regionName))]),e.prtprice?o("p",[t._v("￥"+t._s(t._f("$goldDivide")(e.prtprice)))]):t._e()]),o("img",{attrs:{src:t.getImg(e.embPrintPictUrl,"60*60"),onerror:"errImg(event)"}})])}),t._l(t.embList.emb,function(e,i){return o("li",{staticClass:"emb-part"},[o("p",[t._v("绣字—"+t._s(e.regionName))]),o("p",[o("span",[t._v(t._s(e.fontsName)+":")]),o("span",{style:{color:e.colorNumberHx}},[t._v(t._s(e.content))])]),e.embprice?o("p",[t._v("￥"+t._s(t._f("$goldDivide")(e.embprice)))]):t._e()])})],2)])},s=[],r=(o("ac6a"),{components:{},data:function(){return{}},props:{partList:{type:Array,default:[]},mainFabricName:{type:String,default:""},fromPage:{type:String,default:""}},computed:{embList:function(){var t=this,e={emb:[],embpt:[],print:[]};return console.log(this.partList,"partListpartList"),this.partList.forEach(function(o){"shoppingCart"===t.fromPage?(t.$set(o,"salePrice",o.price),t.$set(o,"fabricName",o.fabricname),t.$set(o,"partName",o.partname),o.rtlCartDttEmbDto&&(o.rtlCartDttEmbDto.regionName=o.regionName,o.rtlCartDttEmbDto.fontsName=o.rtlCartDttEmbDto.ictEmbFontsHdName,o.rtlCartDttEmbDto.content=o.rtlCartDttEmbDto.embValue,o.rtlCartDttEmbDto.embprice=o.rtlCartDttEmbDto.salePrice,e.emb.push(o.rtlCartDttEmbDto)),o.rtlCartDttEmbptDto&&(o.rtlCartDttEmbptDto.regionName=o.regionName,o.rtlCartDttEmbptDto.embFileUrl=o.rtlCartDttEmbptDto.fileUrl,o.rtlCartDttEmbptDto.embprice=o.rtlCartDttEmbptDto.salePrice,e.embpt.push(o.rtlCartDttEmbptDto)),o.rtlCartDttPrintDto&&(o.rtlCartDttPrintDto.regionName=o.regionName,o.rtlCartDttPrintDto.embPrintPictUrl=o.rtlCartDttPrintDto.fileUrl,o.rtlCartDttPrintDto.prtprice=o.rtlCartDttPrintDto.salePrice,e.print.push(o.rtlCartDttPrintDto))):"orderSettle"===t.fromPage?(o.emb.length&&(o.emb[0].regionName=o.regionName,e.emb.push(o.emb[0])),o.ept.length&&(o.ept[0].regionName=o.regionName,e.embpt.push(o.ept[0])),o.prt.length&&(o.prt[0].regionName=o.regionName,e.print.push(o.prt[0]))):(o.emb&&o.emb.length&&(o.emb[0].regionName=o.regionName,o.emb[0].fontsName=o.emb[0].ictEmbfontsHdName,o.emb[0].embprice=o.emb[0].price,e.emb.push(o.emb[0])),o.embPrint&&o.embPrint.length&&(o.embPrint[0].regionName=o.regionName,o.embPrint[0].embprice=o.embPrint[0].price,o.embPrint[0].embFileUrl=o.embPrint[0].embPrintPictUrl,e.embpt.push(o.embPrint[0])),o.prtPrint&&o.prtPrint.length&&(o.prtPrint[0].regionName=o.regionName,e.print.push(o.prtPrint[0])))}),console.log("即将打印data=====》",e),e}},methods:{},created:function(){}}),n=r,a=(o("f8f0"),o("2877")),c=Object(a["a"])(n,i,s,!1,null,"64c4f428",null);e["a"]=c.exports},"4b0a":function(t,e,o){"use strict";o("68ef"),o("786d")},"52c2":function(t,e,o){},5596:function(t,e,o){"use strict";var i=o("a142"),s=o("db78"),r=o("3875"),n=Object(i["i"])("swipe"),a=n[0],c=n[1];e["a"]=a({mixins:[r["a"]],props:{width:Number,height:Number,autoplay:Number,vertical:Boolean,initialSwipe:Number,indicatorColor:String,loop:{type:Boolean,default:!0},touchable:{type:Boolean,default:!0},showIndicators:{type:Boolean,default:!0},duration:{type:Number,default:500}},data:function(){return{computedWidth:0,computedHeight:0,offset:0,active:0,deltaX:0,deltaY:0,swipes:[],swiping:!1}},mounted:function(){this.initialize(),this.$isServer||Object(s["b"])(window,"resize",this.onResize,!0)},activated:function(){this.rendered&&this.initialize(),this.rendered=!0},destroyed:function(){this.clear(),this.$isServer||Object(s["a"])(window,"resize",this.onResize,!0)},watch:{swipes:function(){this.initialize()},initialSwipe:function(){this.initialize()},autoplay:function(t){t?this.autoPlay():this.clear()}},computed:{count:function(){return this.swipes.length},delta:function(){return this.vertical?this.deltaY:this.deltaX},size:function(){return this[this.vertical?"computedHeight":"computedWidth"]},trackSize:function(){return this.count*this.size},activeIndicator:function(){return(this.active+this.count)%this.count},isCorrectDirection:function(){var t=this.vertical?"vertical":"horizontal";return this.direction===t},trackStyle:function(){var t,e=this.vertical?"height":"width",o=this.vertical?"width":"height";return t={},t[e]=this.trackSize+"px",t[o]=this[o]?this[o]+"px":"",t.transitionDuration=(this.swiping?0:this.duration)+"ms",t.transform="translate"+(this.vertical?"Y":"X")+"("+this.offset+"px)",t},indicatorStyle:function(){return{backgroundColor:this.indicatorColor}}},methods:{initialize:function(t){if(void 0===t&&(t=this.initialSwipe),clearTimeout(this.timer),this.$el){var e=this.$el.getBoundingClientRect();this.computedWidth=this.width||e.width,this.computedHeight=this.height||e.height}this.swiping=!0,this.active=t,this.offset=this.count>1?-this.size*this.active:0,this.swipes.forEach(function(t){t.offset=0}),this.autoPlay()},onResize:function(){this.initialize(this.activeIndicator)},onTouchStart:function(t){this.touchable&&(this.clear(),this.swiping=!0,this.touchStart(t),this.correctPosition())},onTouchMove:function(t){this.touchable&&this.swiping&&(this.touchMove(t),this.isCorrectDirection&&(Object(s["c"])(t,!0),this.move({offset:Math.min(Math.max(this.delta,-this.size),this.size)})))},onTouchEnd:function(){if(this.touchable&&this.swiping){if(this.delta&&this.isCorrectDirection){var t=this.vertical?this.offsetY:this.offsetX;this.move({pace:t>0?this.delta>0?-1:1:0,emitChange:!0})}this.swiping=!1,this.autoPlay()}},move:function(t){var e=t.pace,o=void 0===e?0:e,i=t.offset,s=void 0===i?0:i,r=t.emitChange,n=this.delta,a=this.active,c=this.count,l=this.swipes,d=this.trackSize,u=0===a,h=a===c-1,f=!this.loop&&(u&&(s>0||o<0)||h&&(s<0||o>0));f||c<=1||(l[0]&&(l[0].offset=h&&(n<0||o>0)?d:0),l[c-1]&&(l[c-1].offset=u&&(n>0||o<0)?-d:0),o&&a+o>=-1&&a+o<=c&&(this.active+=o,r&&this.$emit("change",this.activeIndicator)),this.offset=Math.round(s-this.active*this.size))},swipeTo:function(t){var e=this;this.swiping=!0,this.resetTouchStatus(),this.correctPosition(),setTimeout(function(){e.swiping=!1,e.move({pace:t%e.count-e.active,emitChange:!0})},30)},correctPosition:function(){this.active<=-1&&this.move({pace:this.count}),this.active>=this.count&&this.move({pace:-this.count})},clear:function(){clearTimeout(this.timer)},autoPlay:function(){var t=this,e=this.autoplay;e&&this.count>1&&(this.clear(),this.timer=setTimeout(function(){t.swiping=!0,t.resetTouchStatus(),t.correctPosition(),setTimeout(function(){t.swiping=!1,t.move({pace:1,emitChange:!0}),t.autoPlay()},30)},e))}},render:function(t){var e=this,o=this.count,i=this.activeIndicator,s=this.slots("indicator")||this.showIndicators&&o>1&&t("div",{class:c("indicators",{vertical:this.vertical})},[Array.apply(void 0,Array(o)).map(function(o,s){return t("i",{class:c("indicator",{active:s===i}),style:s===i?e.indicatorStyle:null})})]);return t("div",{class:c()},[t("div",{ref:"track",style:this.trackStyle,class:c("track"),on:{touchstart:this.onTouchStart,touchmove:this.onTouchMove,touchend:this.onTouchEnd,touchcancel:this.onTouchEnd}},[this.slots()]),s])}})},"565d":function(t,e,o){var i=o("6a9b"),s=o("d876").f,r={}.toString,n="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(t){try{return s(t)}catch(e){return n.slice()}};t.exports.f=function(t){return n&&"[object Window]"==r.call(t)?a(t):s(i(t))}},5927:function(t,e,o){o("93c4"),o("b42c"),t.exports=o("fda1").f("iterator")},"5d58":function(t,e,o){t.exports=o("5927")},"626e":function(t,e,o){var i=o("d74e"),s=o("f845"),r=o("6a9b"),n=o("2ea1"),a=o("43c8"),c=o("a47f"),l=Object.getOwnPropertyDescriptor;e.f=o("7d95")?l:function(t,e){if(t=r(t),e=n(e,!0),c)try{return l(t,e)}catch(o){}if(a(t,e))return s(!i.f.call(t,e),t[e])}},6277:function(t,e,o){var i=o("7b00")("meta"),s=o("6f8a"),r=o("43c8"),n=o("3adc").f,a=0,c=Object.isExtensible||function(){return!0},l=!o("d782")(function(){return c(Object.preventExtensions({}))}),d=function(t){n(t,i,{value:{i:"O"+ ++a,w:{}}})},u=function(t,e){if(!s(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!r(t,i)){if(!c(t))return"F";if(!e)return"E";d(t)}return t[i].i},h=function(t,e){if(!r(t,i)){if(!c(t))return!0;if(!e)return!1;d(t)}return t[i].w},f=function(t){return l&&p.NEED&&c(t)&&!r(t,i)&&d(t),t},p=t.exports={KEY:i,NEED:!1,fastKey:u,getWeak:h,onFreeze:f}},"67bb":function(t,e,o){t.exports=o("b258b")},"6b54":function(t,e,o){"use strict";o("3846");var i=o("cb7c"),s=o("0bfb"),r=o("9e1e"),n="toString",a=/./[n],c=function(t){o("2aba")(RegExp.prototype,n,t,!0)};o("79e5")(function(){return"/a/b"!=a.call({source:"a",flags:"b"})})?c(function(){var t=i(this);return"/".concat(t.source,"/","flags"in t?t.flags:!r&&t instanceof RegExp?s.call(t):void 0)}):a.name!=n&&c(function(){return a.call(this)})},7618:function(t,e,o){"use strict";o.d(e,"a",function(){return c});var i=o("5d58"),s=o.n(i),r=o("67bb"),n=o.n(r);function a(t){return a="function"===typeof n.a&&"symbol"===typeof s.a?function(t){return typeof t}:function(t){return t&&"function"===typeof n.a&&t.constructor===n.a&&t!==n.a.prototype?"symbol":typeof t},a(t)}function c(t){return c="function"===typeof n.a&&"symbol"===a(s.a)?function(t){return a(t)}:function(t){return t&&"function"===typeof n.a&&t.constructor===n.a&&t!==n.a.prototype?"symbol":a(t)},c(t)}},7844:function(t,e,o){"use strict";o("68ef"),o("8270")},"786d":function(t,e,o){},8270:function(t,e,o){},"8a58":function(t,e,o){"use strict";o("68ef"),o("4d75")},b258b:function(t,e,o){o("d256"),o("12fd9"),o("d127"),o("d24f"),t.exports=o("a7d3").Symbol},b55a:function(t,e,o){"use strict";o.r(e);var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{class:["shopping-cart",{"shop-card-pb":t.isKeyBoardHide}]},[t._l(t.shopCartList,function(e,i){return o("div",{key:e.id,staticClass:"goods-item"},[o("div",{staticClass:"select-box",class:{dis:e.inventory<=0&&0===e.orderFlag||!e.stockFlag||!e.sellFlag}},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedList,expression:"checkedList"}],staticClass:"checkInput",attrs:{name:"shopCart",type:"checkbox",disabled:e.inventory<=0&&0===e.orderFlag||!e.stockFlag||!e.sellFlag},domProps:{value:e.id,checked:Array.isArray(t.checkedList)?t._i(t.checkedList,e.id)>-1:t.checkedList},on:{change:function(o){var i=t.checkedList,s=o.target,r=!!s.checked;if(Array.isArray(i)){var n=e.id,a=t._i(i,n);s.checked?a<0&&(t.checkedList=i.concat([n])):a>-1&&(t.checkedList=i.slice(0,a).concat(i.slice(a+1)))}else t.checkedList=r}}}),o("i",{staticClass:"van-checkbox__icon",class:{checked:-1!==t.checkedList.indexOf(e.id)},attrs:{for:e.id}})]),o("div",{staticClass:"goods-header"},[o("div",{staticClass:"goods-cover",on:{click:function(o){t.goDetail(e)}}},[o("img",{attrs:{src:t.getImg(e.url,"150*150"),alt:"",onerror:"errImg(event)"}}),1===e.orderFlag?o("div",{staticClass:"diy-icon"}):t._e()]),e.firstPrice-e.dealPrice>0?o("p",{staticClass:"goods-depreciate"},[t._v("\n                比加入时优惠"),o("br"),t._v("\n                ¥"+t._s(t._f("fixed2")(e.firstPrice-e.dealPrice))+"\n            ")]):t._e(),e.sellFlag&&0!==e.sellFlagStatus?t._e():o("p",{staticClass:"goods-stock-tip"},[t._v("已下架")]),0===e.orderFlag?o("div",[e.sellFlag&&e.amount>e.inventory?o("p",{staticClass:"goods-stock-tip"},[t._v("库存不足")]):t._e()]):t._e(),1===e.orderFlag?o("div",[e.stockFlag||!e.sellFlag&&0===e.sellFlagStatus?t._e():o("p",{staticClass:"goods-stock-tip"},[t._v("库存不足")])]):t._e()]),o("div",{staticClass:"goods-info"},[o("div",{staticClass:"delete-btn",on:{click:function(o){t.cartDelete(e.id)}}},[o("i",{staticClass:"iconfont icon-shanchuguanbi"})]),o("p",{staticClass:"goods-name"},[t._v(t._s(e.goodsName))]),o("div",{staticClass:"goods-price"},[o("div",{staticClass:"price-box"},[o("p",{staticClass:"sale-price"},[t._v("￥"+t._s(t._f("fixed2")(e.dealPrice)))]),e.tagPrice&&e.tagPrice>0?o("p",{staticClass:"old-price"},[t._v("￥"+t._s(t._f("fixed2")(e.tagPrice)))]):t._e()]),o("div",{staticClass:"count-box"},[o("div",{staticClass:"count-btn reduce-btn",on:{click:function(o){t.reduceCount(e)}}},[o("i",{staticClass:"iconfont icon-jianshao"})]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.amount,expression:"item.amount"}],staticClass:"count_input",attrs:{disabled:!e.sellFlag,type:"tel",pattern:"[0-9]*"},domProps:{value:e.amount},on:{focus:function(e){t.isKeyBoardHide=!1},blur:function(e){t.isKeyBoardHide=!0},change:function(o){t.changeCount(e)},input:function(o){o.target.composing||t.$set(e,"amount",o.target.value)}}}),o("div",{staticClass:"count-btn add-btn",on:{click:function(o){t.addCount(e)}}},[o("i",{staticClass:"iconfont icon-zengjia"})])])]),0===e.orderFlag?o("div",[e.sellFlag&&e.inventory>0&&e.amount>=e.inventory?o("p",{staticClass:"goods-stock-tip"},[t._v("库存剩余"+t._s(e.inventory))]):t._e(),o("div",{staticClass:"goods-sku-box"},[o("div",{staticClass:"goods-sku-content"},[o("ul",{staticClass:"sku-item-list"},[o("li",[o("p",{staticClass:"sku-name",class:[e.sellFlag&&e.simpleSkuInfoList?"":"disabled"],on:{click:function(o){t.showSkuCard(e)}}},[t._v("\n                                    "+t._s(e.sellFlag&&0===e.inventory&&e.amount>=e.inventory?"重新选择商品规格":e.colorName+"/"+e.sizeName)+"\n                                    "),o("i",{staticClass:"iconfont icon-xialaxuan fr",class:{"show-sku":!0===e.showColorArr}})])])])])])]):t._e(),1===e.orderFlag?o("div",{staticClass:"custom-list"},[o("div",{staticClass:"title",on:{click:function(o){t.showDetail(e)}}},[o("span",[t._v("定制清单")]),o("i",{class:["iconfont icon-xialaxuan",{tran:e.customDetailFlag}]})]),o("custom-dialog",{directives:[{name:"show",rawName:"v-show",value:e.customDetailFlag,expression:"item.customDetailFlag"}],attrs:{fromPage:"shoppingCart",mainFabricName:e.mainFabricName,partList:e.gsctPartDttAssfabricVos}})],1):t._e()])])}),t.shopCartList.length<=0&&t.showEmpty?o("div",{staticClass:"shopping-cart-empty"},[o("i",{staticClass:"iconfont icongouwuche"}),o("p",{staticClass:"info"},[t._v("购物车里空空如也，赶紧去逛逛吧")]),o("span",{on:{click:function(e){t.navigate("/index")}}},[t._v("去逛逛")])]):t._e(),t.shopCartList.length>0?o("div",{staticClass:"clear-invalid",on:{click:t.clearInvalid}},[t._v("清空失效商品")]):t._e(),o("div",{directives:[{name:"show",rawName:"v-show",value:t.isKeyBoardHide,expression:"isKeyBoardHide"}],staticClass:"goods-actions"},[o("div",{staticClass:"carts-info"},[o("div",{staticClass:"van-checkbox",on:{click:function(e){t.checkedAll()}}},[o("i",{staticClass:"van-checkbox__icon",class:{checked:!0===t.checkAll,"un-checked":0===t.shopCartList.length}}),o("span",{staticClass:"checkbox-label"},[t._v("全选")])]),o("div",{staticClass:"total-price"},[t._v("\n                合计：￥"),t.price-t.salesTotal>0?o("span",[t._v(t._s(t._f("fixed2")((t.price-t.salesTotal).toFixed(2))))]):o("span",[t._v(t._s(t.price))]),o("br"),t.salesTotal>0&&t.checkedList.length>0?o("p",{staticClass:"preferential"},[t._v("优惠减¥"+t._s(t.salesTotal))]):t._e()])]),o("div",{staticClass:"buy-button",on:{click:t.buyNow}},[t._v("立即购买")])]),o("van-popup",{staticClass:"popup-add-card",attrs:{position:"bottom",overlay:!0,"lock-scroll":!0},model:{value:t.isShowSkuCard,callback:function(e){t.isShowSkuCard=e},expression:"isShowSkuCard"}},[o("p",{staticClass:"iconfont icon-guanbi comment-close",on:{click:function(e){t.isShowSkuCard=!1}}}),o("div",{staticClass:"add-card-body"},[o("div",{staticClass:"add-card-header"},[o("div",{staticClass:"goods-cover",on:{click:function(e){t.showBigColorImagesHeader=!0}}},[o("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.getImg(t.colorImagesHeader),expression:"getImg(colorImagesHeader)"}],attrs:{onerror:"errImg(event)"}})]),o("div",{staticClass:"goods-info"},[t.goodsInfo.tagPrice&&0!==t.goodsInfo.tagPrice&&t.goodsInfo.dealPrice!==t.goodsInfo.tagPrice?o("p",{staticClass:"goods-price"},[t._v("￥"+t._s(t._f("fixed2")(t.goodsInfo.tagPrice)))]):o("p",{staticClass:"goods-price"},[t._v("￥"+t._s(t._f("fixed2")(t.goodsInfo.dealPrice)))]),o("p",{staticClass:"goods-choice"},[t._v("已选择："+t._s(t.colorName+" "+t.sizeName))])])]),o("h2",{staticClass:"add-card-title"},[t._v("颜色")]),o("ul",{staticClass:"add-card-slider-small"},t._l(t.goodsColor,function(e,i){return o("li",{key:i,class:{none:0===e.stucks,active:e.colorCode===t.colorCode},on:{click:function(o){t.changeSlider(i,e)}}},[t._v("\n                    "+t._s(e.colorName)+"\n                ")])})),o("h2",{staticClass:"add-card-title"},[t._v("尺码")]),o("div",{staticClass:"add-card-size"},[o("ul",t._l(t.goodsSize,function(e){return o("li",{class:{none:0===e.stucks,active:e.sizeCode===t.sizeCode},on:{click:function(o){t.changeSize(e)}}},[t._v("\n                        "+t._s(e.sizeName)+"\n                    ")])}))])]),o("div",{staticClass:"add-card-sure",on:{click:function(e){t.sureChangeSku()}}},[o("span",[t._v("确定")])])]),o("van-popup",{attrs:{overlay:!0,"lock-scroll":!0,"lazy-render":!0,"overlay-class":"big-background"},model:{value:t.showBigColorImagesHeader,callback:function(e){t.showBigColorImagesHeader=e},expression:"showBigColorImagesHeader"}},[o("div",{staticClass:"big-pic-box"},[o("van-swipe",{attrs:{"initial-swipe":t.commentImgIndex,loop:!1}},[o("van-swipe-item",[o("img",{staticClass:"bigPic",attrs:{src:t.getImg(t.colorImagesHeader),onerror:"errImg(event)"},on:{click:function(e){t.showBigColorImagesHeader=!1}}})])],1)],1)])],2)},s=[],r=(o("e17f"),o("2241")),n=(o("a481"),o("e7e5"),o("d399")),a=(o("ac6a"),o("96cf"),o("3b8d")),c=(o("4b0a"),o("2bb1")),l=(o("7844"),o("5596")),d=(o("8a58"),o("e41f")),u=o("2b61"),h=o("22ce");var f=o("22ea"),p=o("4128"),m={components:{"van-popup":d["a"],"van-swipe":l["a"],"van-swipe-item":c["a"],CustomDialog:p["a"]},data:function(){return{shopCartList:[],checkedList:[],checkAll:!1,ids:[],vipInfo:{},canSave:[],btnLock:!1,isShowSkuCard:!1,sliderIndex:0,colorImagesMain:null,colorImagesHeader:null,images:[],goodsColor:[],colorsVoList:[],goodsSize:[],stuckList:[],goodsInfo:[],goodsCode:"",colorItem:[],colorCode:"",colorName:"",sizeItem:[],sizeCode:"",sizeName:"",noInventory:0,orderDetailIndex:-1,isKeyBoardHide:!0,btnNumLock:!1,salesTotal:"",showEmpty:!1,commentImgIndex:0,showBigColorImagesHeader:!1}},watch:{checkedList:function(){this.getVouchersInfo(),this.shopCartList.length-this.noInventory===this.checkedList.length?this.checkAll=!0:this.checkAll=!1},checkAll:function(t){this.checkAll=t}},computed:{price:function(){var t=0,e=[];if(this.checkedList.length>0)for(var o=0;o<this.checkedList.length;o++)for(var i=0;i<this.shopCartList.length;i++)this.checkedList[o]===this.shopCartList[i].id&&(t+=1*this.shopCartList[i].dealPrice*(1*this.shopCartList[i].amount),e.push(this.shopCartList[i]));return t=t||0,t},orderFlagGood:function(){return this.shopCartList.filter(function(t){return 1==t.orderFlag})}},methods:{getCartInfo:function(){var t=this,e={usrKey:u["a"].get("USER_INFO").usrId,shopDptId:u["a"].get("USER_INFO").shopId,buscontsCode:baseConstant.busContsCode,pageSize:9999,pageNo:1};h["j"].getCartList(e).then(function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(o){var i,s,r,n,a,c,l,d;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(i={},s=[],o=f["a"].format(o),o.list.forEach(function(t){t.colorArr=[],t.sizeArr=[],t.newPtiPartDtSkuId=t.ptiPartDtSkuId;for(var e=0;e<t.simpleSkuInfoList.length;e++){0===t.colorArr.length&&(i.colorCode=t.simpleSkuInfoList[e].colorCode,i.colorId=t.simpleSkuInfoList[e].colorId,i.colorName=t.simpleSkuInfoList[e].colorName,t.colorArr.push(i),i={});for(var o=function(o){var s=[];t.colorArr.forEach(function(t){s.push(t.colorId)}),-1===s.indexOf(t.simpleSkuInfoList[e].colorId)&&(i.colorCode=t.simpleSkuInfoList[e].colorCode,i.colorId=t.simpleSkuInfoList[e].colorId,i.colorName=t.simpleSkuInfoList[e].colorName,t.colorArr.push(i),i={})},r=0;r<t.colorArr.length;r++)o(r);0===t.sizeArr.length&&(i.sizeCode=t.simpleSkuInfoList[e].sizeCode,i.sizeId=t.simpleSkuInfoList[e].sizeId,i.sizeName=t.simpleSkuInfoList[e].sizeName,t.sizeArr.push(i),i={});var n=function(o){var s=[];t.sizeArr.forEach(function(t){s.push(t.sizeId)}),-1===s.indexOf(t.simpleSkuInfoList[e].sizeId)&&(i.sizeCode=t.simpleSkuInfoList[e].sizeCode,i.sizeId=t.simpleSkuInfoList[e].sizeId,i.sizeName=t.simpleSkuInfoList[e].sizeName,t.sizeArr.push(i),i={})};for(r=0;r<t.sizeArr.length;r++)n(r)}t.showColorArr=!1,t.showSizeArr=!1,t.customDetailFlag=!1,t.sellFlagStatus=t.sellFlag,t.sellFlag=!0,t.stockFlag=!0;var a={busContsCode:baseConstant.busContsCode,goodsCode:t.goodsCode,ptiPartDtSkuId:t.ptiPartDtSkuId,amount:t.amount,orderFlag:t.orderFlag,ptiPartHdId:t.ptiPartHdId,cartId:t.id};s.push(a)}),!s.length){e.next=10;break}return r={shopId:u["a"].get("USER_INFO").shopId,goodList:s},e.next=8,h["d"].getUseableGood(r);case 8:if(n=e.sent,0===n.sellAll)for(a=0;a<n.unSellList.length;a++)for(c=n.unSellList[a],l=0;l<o.list.length;l++)d=o.list[l],c.goodsCode===d.goodsCode&&(d.sellFlag=!1);case 10:if(!o.list.length){e.next=13;break}return e.next=13,t.checkoutStockPromise(o.list).then(function(t){if(1!=o.enoughAll){var e=t.partEnoughInfoDtos;t.partEnoughSkuInfoDtos;o.list.forEach(function(t,o){if(t.sellFlag)for(var i=0;i<e.length;i++)1!=e[i].enough&&e[i].cartId==t.id&&(t.stockFlag=!1)})}});case 13:t.shopCartList=o.list,(!o.list.length||o.list.length<1)&&(t.showEmpty=!0),toastLoading(!1),t.btnNumLock=!1;case 17:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),function(e){t.btnNumLock=!1})},checkedAll:function(){var t=this;if(!(this.shopCartList.length<=0)){var e=[];this.noInventory=0,!1===this.checkAll&&this.shopCartList.forEach(function(o){0===o.orderFlag&&o.inventory>0&&o.stockFlag&&o.sellFlag?e.push(o.id):1===o.orderFlag&&o.stockFlag&&o.sellFlag?e.push(o.id):t.noInventory++}),this.checkedList=e,this.getVouchersInfo()}},addCount:function(t){var e=this;if(!this.btnNumLock)if(this.btnNumLock=!0,t.sellFlag)if(toastLoading(),0===t.orderFlag){if(0===t.inventory)return toastLoading(!1),void(this.btnNumLock=!1);t.amount=1*t.amount;var o=t.amount+1,i={companyId:u["a"].get("USER_INFO").companyId,busContsCode:baseConstant.busContsCode,shopCode:u["a"].get("USER_INFO").shopCode,goodsCode:t.goodsCode,colorCode:t.colorCode,sizeCode:t.sizeCode};h["d"].getGoodsStock(i).then(function(i){toastLoading(!1),i.goodsQty>=o&&i.skuList[0].skuQty>=o?(t.amount+=1,e.cartSave(t,null,!0),e.getVouchersInfo()):(e.btnNumLock=!1,Object(n["a"])("抱歉！库存不足，无法添加"))},function(t){e.btnNumLock=!1})}else{for(var s=0;s<this.orderFlagGood.length;s++)this.orderFlagGood[s].id===t.id&&(this.orderFlagGood[s].amount+=1);this.checkoutStockPromise(this.orderFlagGood).then(function(o){o.partEnoughInfoDtos.some(function(o){if(o.cartId===t.id){if(1===o.enough){var i={cartId:t.id,count:t.amount};e._saveCartNumber(i)}else toastLoading(!1),t.amount-=1,e.btnNumLock=!1,Object(n["a"])("抱歉！库存不足，无法添加");return!0}})},function(t){e.btnNumLock=!1})}else this.btnNumLock=!1},reduceCount:function(t){if(!this.btnNumLock)if(t.sellFlag)if(this.btnNumLock=!0,0===t.orderFlag){if(0===t.inventory)return toastLoading(!1),void(this.btnNumLock=!1);if(t.amount=1*t.amount,t.amount<=1)return t.amount,Object(n["a"])("不能再减少了"),void(this.btnNumLock=!1);toastLoading(),t.amount-=1,this.cartSave(t),this.getVouchersInfo()}else{if(toastLoading(),t.amount<=1)return toastLoading(!1),Object(n["a"])("不能再减少了"),void(this.btnNumLock=!1);var e=t.amount-1,o={cartId:t.id,count:e};this._saveCartNumber(o)}else this.btnNumLock=!1},checkoutStockPromise:function(t,e){var o=[];t&&t.forEach(function(t){o.push({cartId:t.id,count:t.amount,orderFlag:t.orderFlag,ptiPartDtSkuId:t.ptiPartDtSkuId,ptiPartHdCode:t.goodsCode,ptiPartHdId:t.ptiPartHdId})}),e&&o.push(e);var i={usrId:u["a"].get("USER_INFO").usrId,inventoryJudgeSearchDto:{inventoryJudgeDtos:o},shopId:u["a"].get("USER_INFO").shopId,ownCompanyId:u["a"].get("USER_INFO").companyId};return h["d"].judgeStock(i)},_saveCartNumber:function(t){var e=this;h["j"].saveCartNum(t).then(function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(o){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(1!=o){t.next=5;break}return t.next=3,e.getCartInfo();case 3:t.next=6;break;case 5:Object(n["a"])("修改失败~");case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),function(t){toastLoading(!1),Object(n["a"])("修改失败，",t),e.btnNumLock=!1})},changeCount:function(t){var e=this;if(t.amount=1*t.amount.replace(/[^\d]/g,""),0===t.orderFlag){if(t.amount<=1)return t.amount=1,this.cartSave(t),void(this.btnNumLock=!1);t.amount=1*t.amount;var o={companyId:u["a"].get("USER_INFO").companyId,busContsCode:baseConstant.busContsCode,shopCode:u["a"].get("USER_INFO").shopCode,goodsCode:t.goodsCode,colorCode:t.colorCode,sizeCode:t.sizeCode};h["d"].getGoodsStock(o).then(function(o){o.goodsQty>=t.amount&&o.skuList[0].skuQty>=t.amount?e.cartSave(t):(t.amount=t.inventory,e.cartSave(t),Object(n["a"])("抱歉！库存不足，无法添加"))})}else t.amount<=1&&(t.amount=1,this.btnNumLock=!1),this.checkoutStockPromise(this.orderFlagGood).then(function(o){o.partEnoughInfoDtos.some(function(o){if(o.cartId==t.id){if(1==o.enough){var i={cartId:t.id,count:t.amount};e._saveCartNumber(i)}else Object(n["a"])("库存不足~"),e.getCartInfo(),e.btnNumLock=!1;return!0}})})},cartDelete:function(t){var e=this;r["a"].confirm({message:"确定删除该商品吗？"}).then(function(){e.ids.push(t);var o={cookieId:u["a"].get("USER_INFO").cookieId,cartIds:e.ids.join(",")};h["j"].deleteCart(o).then(function(){e.getCartInfo(),e.ids=[],Object(n["a"])("删除成功~")},function(t){})},function(t){})},cartSave:function(t,e,o){var i=this,s={amount:t.amount,busContsCode:baseConstant.busContsCode,cookieId:u["a"].get("USER_INFO").cookieId,ctmUsrId:u["a"].get("USER_INFO").ctmUsrId,dptId:u["a"].get("USER_INFO").shopId,goodsCode:t.goodsCode,partDtSkuId:t.ptiPartDtSkuId,newPartDtSkuId:t.newPtiPartDtSkuId,flag:1};h["j"].saveCart(s).then(function(o){e&&(t.ptiPartDtSkuId=e),toastLoading(!1)},function(t){i.btnNumLock=!1}).then(function(){o?i.btnNumLock=!1:i.getCartInfo()})},saveOrder:function(){var t=this;this.checkedList.length<=0?Object(n["a"])("请选择需要结算的商品~"):null!==this.vipInfo.mobilePhone&&this.vipInfo.mobilePhone?function(){for(var e=[],o={},i=function(i){t.shopCartList.forEach(function(s){s.id===t.checkedList[i]&&0===s.orderFlag?(o=s,o.cartId=o.id,o.pictFileId=o.fileHdId,e.push(o)):s.id===t.checkedList[i]&&1===s.orderFlag&&(o=s,o.cartId=o.id,o.pictFileId=o.fileHdId,o.mainFabricId=o.fabricId,s.partList=t.getPartListParams(s.gsctPartDttAssfabricVos),delete s.colorArr,delete s.gsctPartDttAssfabricVos,delete s.simpleSkuInfoList,delete s.sizeArr,e.push(o))}),o={}},s=0;s<t.checkedList.length;s++)i(s);var r={interfaceCode:"SP_SALE_SAVECARTTEMP",ctmUsrId:u["a"].get("USER_INFO").usrId,cookieId:u["a"].get("USER_INFO").cookieId,shopCode:u["a"].get("USER_INFO").shopCode,usrKey:u["a"].get("USER_INFO").usrId,sourceCode:"D_ORDWEIN",skuList:e,amountOrd:1*t.price};h["g"].saveCartTemp(r).then(function(e){h["g"].orderPreferCal({ordId:e}).then(function(){t.$router.push("/order-settlement?orderHdId="+e)})})}():this.$router.push("/phone-bind")},getPartListParams:function(t){return t.map(function(t,e){var o=[],i={},s=[],r={},n=[],a={};return t.rtlCartDttEmbDto&&(i.content=t.rtlCartDttEmbDto.embValue,i.colorId=t.rtlCartDttEmbDto.colorId,i.fontsId=t.rtlCartDttEmbDto.fontsId,i.rotate=t.rtlCartDttEmbDto.rotationX,i.scale=t.rtlCartDttEmbDto.scaleX,i.xcoordinate=t.rtlCartDttEmbDto.positionX,i.ycoordinate=t.rtlCartDttEmbDto.positionY,i.embPictId=t.rtlCartDttEmbDto.fileHdId,o.push(i)),t.rtlCartDttEmbptDto&&(r.embId=t.rtlCartDttEmbptDto.embHdId,r.rotate=t.rtlCartDttEmbptDto.rotationX,r.scale=t.rtlCartDttEmbptDto.scale,r.xcoordinate=t.rtlCartDttEmbptDto.positionX,r.ycoordinate=t.rtlCartDttEmbptDto.positionY,r.embPrintPictId=t.rtlCartDttEmbptDto.fileHdId,s.push(r)),t.rtlCartDttPrintDto&&(a.prtId=t.rtlCartDttPrintDto.printHdId,a.embPrintPictId=t.rtlCartDttPrintDto.fileHdId,a.rotate=t.rtlCartDttPrintDto.rotationX||0,a.scale=t.rtlCartDttPrintDto.scale,a.xcoordinate=t.rtlCartDttPrintDto.positionX,a.ycoordinate=t.rtlCartDttPrintDto.positionY,n.push(a)),{regionCode:t.regionCode,partCode:t.partCode,fabricCode:t.fabricCode,partId:t.assemplyId,fabricId:t.ptiPartHdId,regionId:t.gctRegionHdId,memo:"",emb:o,ept:s,prt:n,salePrice:t.salePrice?t.salePrice:0,tagPrice:""}})},goDetail:function(t){var e=this;this.isShelve(t.goodsCode).then(function(o){o?1===t.orderFlag?e.$router.push("/goods/web-design?goodsCode="+t.goodsCode+"&goodsId="+t.ptiPartHdId+(t.rtlDesignHdId?"&rtlDesignHdId="+t.rtlDesignHdId:"")+(t.spGoodsDtDesignId?"&spGoodsDtDesignId="+t.spGoodsDtDesignId:"")):e.$router.push("/goods-detail?goodsCode="+t.goodsCode):e.$router.push("/off-shelves")})},showSkuCard:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(e){var o,i,s,r,n,a=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e.sellFlag&&e.simpleSkuInfoList){t.next=2;break}return t.abrupt("return",!1);case 2:return this.goodsColor=e.colorArr,this.goodsSize=e.sizeArr,this.colorCode=e.colorCode,this.colorName=e.colorName,this.sizeCode=e.sizeCode,this.sizeName=e.sizeName,this.goodsCode=e.goodsCode,this.images=[],this.goodsInfo=e,this.isShowSkuCard=!0,this.goodsColor.forEach(function(t){t.colorCode===a.colorCode&&(a.colorItem=t)}),this.goodsSize.forEach(function(t){t.sizeCode===a.sizeCode&&(a.sizeItem=t)}),o={busContsCode:baseConstant.busContsCode,goodsCode:e.goodsCode,shopCode:u["a"].get("USER_INFO").shopCode},t.next=17,h["d"].getGoodsStock(o).then(function(t){a.stuckList=t.skuList});case 17:return i={busContsCode:baseConstant.busContsCode,goodsCode:this.goodsCode,shopCode:u["a"].get("USER_INFO").shopCode,userId:u["a"].get("USER_INFO").usrId},t.next=20,h["d"].getGoodsInfo(i).then(function(t){if(a.colorsVoList=t.colorsVoList,t.colorsVoList)for(var e=0;e<t.colorsVoList.length;e++)t.colorsVoList[e].colorCode===a.colorCode&&(t.colorsVoList[e].dtColorUrls?a.colorImagesHeader=t.colorsVoList[e].dtColorUrls[0]:a.colorImagesHeader=t.url);a.colorImagesMain=t.url});case 20:if(""!==this.colorCode)for(s=function(t){a.stuckList[t].colorCode===a.colorCode&&a.goodsSize.forEach(function(e){e.sizeCode===a.stuckList[t].sizeCode&&(e.stucks=a.stuckList[t].skuQty)})},r=0;r<this.stuckList.length;r++)s(r);if(""!==this.sizeCode)for(n=function(t){a.stuckList[t].sizeCode===a.sizeCode&&a.goodsColor.forEach(function(e){e.colorCode===a.stuckList[t].colorCode&&(e.stucks=a.stuckList[t].skuQty)})},r=0;r<this.stuckList.length;r++)n(r);this.$forceUpdate();case 23:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),changeSlider:function(t,e){var o=this;if(e.colorCode===this.colorCode)this.colorCode="",this.goodsSize.forEach(function(t){t.stucks=""}),this.colorName="",this.colorImagesHeader=this.colorImagesMain;else{if(0===e.stucks)return this.$toast("该类商品库存不足"),!1;this.colorItem=e,this.colorCode=e.colorCode,this.colorName=e.colorName,this.colorsVoList[t].dtColorUrls?this.colorImagesHeader=this.colorsVoList[t].dtColorUrls[0]:this.colorImagesHeader=this.colorImagesMain}if(""!==this.colorCode)for(var i=function(t){o.stuckList[t].colorCode===o.colorCode&&o.goodsSize.forEach(function(e){e.sizeCode===o.stuckList[t].sizeCode&&(e.stucks=o.stuckList[t].skuQty)})},s=0;s<this.stuckList.length;s++)i(s)},changeSize:function(t){var e=this;if(t.sizeCode===this.sizeCode)this.sizeCode="",this.goodsColor.forEach(function(t){t.stucks=""}),this.sizeName="";else{if(0===t.stucks)return this.$toast("该类商品库存不足"),!1;this.sizeItem=t,this.sizeCode=t.sizeCode,this.sizeName=t.sizeName}if(""!==this.sizeCode)for(var o=function(t){e.stuckList[t].sizeCode===e.sizeCode&&e.goodsColor.forEach(function(o){o.colorCode===e.stuckList[t].colorCode&&(o.stucks=e.stuckList[t].skuQty)})},i=0;i<this.stuckList.length;i++)o(i)},sureChangeSku:function(){var t=this;if(!0===this.btnLock)return!1;if(this.btnLock=!0,""===this.colorCode)return Object(n["a"])("请先选择商品颜色"),this.btnLock=!1,!1;if(""===this.sizeCode)return Object(n["a"])("请先选择商品尺码"),this.btnLock=!1,!1;var e=this.goodsInfo.amount,o={ptiPartDtSkuId:"",ptiPartHdId:""};this.goodsInfo.simpleSkuInfoList.forEach(function(e){e.sizeCode===t.sizeItem.sizeCode&&e.colorCode===t.colorItem.colorCode&&(o.ptiPartDtSkuId=e.id,o.ptiPartHdId=e.ptiPartHdId)});var i={companyId:u["a"].get("USER_INFO").companyId,busContsCode:baseConstant.busContsCode,goodsCode:this.goodsCode,shopCode:u["a"].get("USER_INFO").shopCode,colorCode:this.colorCode,sizeCode:this.sizeCode};h["d"].getGoodsStock(i).then(function(i){if(i.goodsQty>=e&&i.skuList[0].skuQty>=e)if(t.goodsInfo.sizeCode=t.sizeItem.sizeCode,t.goodsInfo.sizeId=t.sizeItem.sizeId,t.goodsInfo.sizeName=t.sizeItem.sizeName,t.goodsInfo.colorCode=t.colorItem.colorCode,t.goodsInfo.colorId=t.colorItem.colorId,t.goodsInfo.colorName=t.colorItem.colorName,t.goodsInfo.newPtiPartDtSkuId=o.ptiPartDtSkuId,t.goodsInfo.showSizeArr=!1,t.goodsInfo.amount=e,t.ids.length>0){var s={cookieId:u["a"].get("USER_INFO").cookieId,cartIds:t.ids.join(",")};h["j"].deleteCart(s).then(function(){t.ids=[]},function(t){}).then(function(){t.cartSave(t.goodsInfo,o.ptiPartDtSkuId),t.isShowSkuCard=!1})}else t.cartSave(t.goodsInfo,o.ptiPartDtSkuId),t.isShowSkuCard=!1;else if(t.ids.length>0){var r={cookieId:u["a"].get("USER_INFO").cookieId,cartIds:t.ids.join(",")};h["j"].deleteCart(r).then(function(){t.ids=[]},function(t){}),item.amount=i.skuList[0].skuQty,t.cartSave(item,o.ptiPartDtSkuId),t.isShowSkuCard=!1}else Object(n["a"])("库存不足")}).then(function(){t.btnLock=!1})},getUser:function(){var t=this,e={};h["k"].getUserInfo(e).then(function(e){t.vipInfo=e})},checkStock:function(){var t=this;this.checkedList.length<=0?Object(n["a"])("请选择需要结算的商品~"):function(){var e=[];t.canSave=[];for(var o={},i=function(i){t.shopCartList.forEach(function(e){console.log(e),e.id===t.checkedList[i]&&(o=e,o.cartId=o.id)}),e.push(o),o={}},s=0;s<t.checkedList.length;s++)i(s);console.log(e)}()},getVouchersInfo:function(){var t=this,e=[];if(this.checkedList.length)for(var o=0;o<this.shopCartList.length;o++)for(var i=0;i<this.checkedList.length;i++)if(this.shopCartList[o].id===this.checkedList[i]){var s={qty:this.shopCartList[o].amount,colorId:this.shopCartList[o].colorId,sizeId:this.shopCartList[o].sizeId,id:this.shopCartList[o].newPtiPartDtSkuId,salePrice:this.shopCartList[o].dealPrice,ptiPartHdId:this.shopCartList[o].ptiPartHdId,ids:this.shopCartList[o].id};e.push(s)}this.vourcherList=e;var r={dptId:u["a"].get("USER_INFO").shopId,goodsList:this.vourcherList};h["j"].getshopVouchers(r).then(function(e){t.salesTotal=0!=e?e:0})},buyNow:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(){var e,o,i,s,r,a,c,l,d,f,p,m;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!(this.checkedList.length<=0)){t.next=5;break}return Object(n["a"])("请选择需要结算的商品~"),t.abrupt("return");case 5:for(e=[],o=0;o<this.checkedList.length;o++)for(i=0;i<this.shopCartList.length;i++)this.checkedList[o]===this.shopCartList[i].id&&(s={busContsCode:baseConstant.busContsCode,goodsCode:this.shopCartList[i].goodsCode,ptiPartDtSkuId:this.shopCartList[i].ptiPartDtSkuId,amount:this.shopCartList[i].amount,orderFlag:this.shopCartList[i].orderFlag,ptiPartHdId:this.shopCartList[i].ptiPartHdId,cartId:this.shopCartList[i].id},e.push(s));return r={shopId:u["a"].get("USER_INFO").shopId,goodList:e},t.next=10,h["d"].getUseableGood(r);case 10:if(a=t.sent,1!==a.sellAll||1!==a.stockAll){t.next=15;break}this.saveOrder(),t.next=31;break;case 15:if(1===a.sellAll){t.next=23;break}for(c="",l=a.unSellList.length,d=0;d<l;d++)c+="<p>【".concat(a.unSellList[d].goodsName,"】；</p>");return Object(n["a"])({type:"html",message:'<div class="toast-html"><h2>以下商品已下架：</h2>'+c+"</div>"}),this.getCartInfo(),this.checkedList=[],t.abrupt("return");case 23:if(1===a.stockAll){t.next=31;break}for(f="",p=a.unStockList.length,m=0;m<p;m++)f+="<p>【".concat(a.unStockList[m].ptiPartHdName,"】").concat(a.unStockList[m].ptiPartSkuId?"颜色："+a.unStockList[m].colorName+"，尺码："+a.unStockList[m].sizeName:"","</p>");return Object(n["a"])({type:"html",message:'<div class="toast-html"><h2>以下商品库存不足：</h2>'+f+"</div>"}),this.getCartInfo(),this.checkedList=[],t.abrupt("return");case 31:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),showDetail:function(t){t.customDetailFlag=!t.customDetailFlag},clearInvalid:function(){var t=this;this.shopCartList.forEach(function(e){e.sellFlag&&0!==e.sellFlagStatus||t.ids.push(e.id),0===e.orderFlag&&(e.sellFlag&&0===e.inventory||e.sellFlag&&e.amount>e.inventory)&&t.ids.push(e.id),1===e.orderFlag&&(e.stockFlag||!e.sellFlag&&0===e.sellFlagStatus||t.ids.push(e.id))}),this.ids.length>0?r["a"].confirm({message:"确定清空失效商品？"}).then(function(){var e={cookieId:u["a"].get("USER_INFO").cookieId,cartIds:t.ids.join(",")};h["j"].deleteCart(e).then(function(){t.getCartInfo(),t.ids=[],Object(n["a"])("清空成功~")},function(t){})},function(t){}):Object(n["a"])("暂无失效商品")},navigate:function(t){t?this.$router.push(t):Object(n["a"])("敬请期待~")}},created:function(){this.getCartInfo(),this.getUser()},mounted:function(){/Android/gi.test(navigator.userAgent)&&window.addEventListener("resize",function(){"INPUT"===document.activeElement.tagName&&document.activeElement.scrollIntoView({behavior:"smooth"})}),window.scroll(0,0)}},g=m,C=(o("c936"),o("2877")),b=Object(C["a"])(g,i,s,!1,null,"1428d336",null);e["default"]=b.exports},c936:function(t,e,o){"use strict";var i=o("52c2"),s=o.n(i);s.a},d127:function(t,e,o){o("0a0a")("asyncIterator")},d24f:function(t,e,o){o("0a0a")("observable")},d256:function(t,e,o){"use strict";var i=o("da3c"),s=o("43c8"),r=o("7d95"),n=o("d13f"),a=o("2312"),c=o("6277").KEY,l=o("d782"),d=o("7772"),u=o("c0d8"),h=o("7b00"),f=o("1b55"),p=o("fda1"),m=o("0a0a"),g=o("d2d6"),C=o("b5aa"),b=o("0f89"),v=o("6f8a"),_=o("0185"),I=o("6a9b"),k=o("2ea1"),L=o("f845"),y=o("7108"),S=o("565d"),D=o("626e"),P=o("31c2"),w=o("3adc"),N=o("7633"),E=D.f,O=w.f,F=S.f,z=i.Symbol,x=i.JSON,j=x&&x.stringify,A="prototype",U=f("_hidden"),R=f("toPrimitive"),H={}.propertyIsEnumerable,T=d("symbol-registry"),M=d("symbols"),$=d("op-symbols"),B=Object[A],V="function"==typeof z&&!!P.f,K=i.QObject,W=!K||!K[A]||!K[A].findChild,G=r&&l(function(){return 7!=y(O({},"a",{get:function(){return O(this,"a",{value:7}).a}})).a})?function(t,e,o){var i=E(B,e);i&&delete B[e],O(t,e,o),i&&t!==B&&O(B,e,i)}:O,J=function(t){var e=M[t]=y(z[A]);return e._k=t,e},Q=V&&"symbol"==typeof z.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof z},X=function(t,e,o){return t===B&&X($,e,o),b(t),e=k(e,!0),b(o),s(M,e)?(o.enumerable?(s(t,U)&&t[U][e]&&(t[U][e]=!1),o=y(o,{enumerable:L(0,!1)})):(s(t,U)||O(t,U,L(1,{})),t[U][e]=!0),G(t,e,o)):O(t,e,o)},Y=function(t,e){b(t);var o,i=g(e=I(e)),s=0,r=i.length;while(r>s)X(t,o=i[s++],e[o]);return t},q=function(t,e){return void 0===e?y(t):Y(y(t),e)},Z=function(t){var e=H.call(this,t=k(t,!0));return!(this===B&&s(M,t)&&!s($,t))&&(!(e||!s(this,t)||!s(M,t)||s(this,U)&&this[U][t])||e)},tt=function(t,e){if(t=I(t),e=k(e,!0),t!==B||!s(M,e)||s($,e)){var o=E(t,e);return!o||!s(M,e)||s(t,U)&&t[U][e]||(o.enumerable=!0),o}},et=function(t){var e,o=F(I(t)),i=[],r=0;while(o.length>r)s(M,e=o[r++])||e==U||e==c||i.push(e);return i},ot=function(t){var e,o=t===B,i=F(o?$:I(t)),r=[],n=0;while(i.length>n)!s(M,e=i[n++])||o&&!s(B,e)||r.push(M[e]);return r};V||(z=function(){if(this instanceof z)throw TypeError("Symbol is not a constructor!");var t=h(arguments.length>0?arguments[0]:void 0),e=function(o){this===B&&e.call($,o),s(this,U)&&s(this[U],t)&&(this[U][t]=!1),G(this,t,L(1,o))};return r&&W&&G(B,t,{configurable:!0,set:e}),J(t)},a(z[A],"toString",function(){return this._k}),D.f=tt,w.f=X,o("d876").f=S.f=et,o("d74e").f=Z,P.f=ot,r&&!o("b457")&&a(B,"propertyIsEnumerable",Z,!0),p.f=function(t){return J(f(t))}),n(n.G+n.W+n.F*!V,{Symbol:z});for(var it="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),st=0;it.length>st;)f(it[st++]);for(var rt=N(f.store),nt=0;rt.length>nt;)m(rt[nt++]);n(n.S+n.F*!V,"Symbol",{for:function(t){return s(T,t+="")?T[t]:T[t]=z(t)},keyFor:function(t){if(!Q(t))throw TypeError(t+" is not a symbol!");for(var e in T)if(T[e]===t)return e},useSetter:function(){W=!0},useSimple:function(){W=!1}}),n(n.S+n.F*!V,"Object",{create:q,defineProperty:X,defineProperties:Y,getOwnPropertyDescriptor:tt,getOwnPropertyNames:et,getOwnPropertySymbols:ot});var at=l(function(){P.f(1)});n(n.S+n.F*at,"Object",{getOwnPropertySymbols:function(t){return P.f(_(t))}}),x&&n(n.S+n.F*(!V||l(function(){var t=z();return"[null]"!=j([t])||"{}"!=j({a:t})||"{}"!=j(Object(t))})),"JSON",{stringify:function(t){var e,o,i=[t],s=1;while(arguments.length>s)i.push(arguments[s++]);if(o=e=i[1],(v(e)||void 0!==t)&&!Q(t))return C(e)||(e=function(t,e){if("function"==typeof o&&(e=o.call(this,t,e)),!Q(e))return e}),i[1]=e,j.apply(x,i)}}),z[A][R]||o("8ce0")(z[A],R,z[A].valueOf),u(z,"Symbol"),u(Math,"Math",!0),u(i.JSON,"JSON",!0)},d2d6:function(t,e,o){var i=o("7633"),s=o("31c2"),r=o("d74e");t.exports=function(t){var e=i(t),o=s.f;if(o){var n,a=o(t),c=r.f,l=0;while(a.length>l)c.call(t,n=a[l++])&&e.push(n)}return e}},d74e:function(t,e){e.f={}.propertyIsEnumerable},d876:function(t,e,o){var i=o("2695"),s=o("0029").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,s)}},e015:function(t,e,o){},e41f:function(t,e,o){"use strict";var i=o("a142"),s=o("6605"),r=Object(i["i"])("popup"),n=r[0],a=r[1];e["a"]=n({mixins:[s["a"]],props:{position:String,transition:String,overlay:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0}},render:function(t){var e,o=this;if(this.shouldRender){var i=this.position,s=function(t){return function(){return o.$emit(t)}},r=this.transition||(i?"van-popup-slide-"+i:"van-fade");return t("transition",{attrs:{name:r},on:{afterEnter:s("opened"),afterLeave:s("closed")}},[t("div",{directives:[{name:"show",value:this.value}],class:a((e={},e[i]=i,e))},[this.slots()])])}}})},f8f0:function(t,e,o){"use strict";var i=o("e015"),s=o.n(i);s.a},fda1:function(t,e,o){e.f=o("1b55")}}]);