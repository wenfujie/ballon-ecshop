(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2cb4b114"],{"1f54":function(e,t,n){"use strict";n("e7e5");var r=n("d399"),o=(n("96cf"),n("3b8d"));n("a481"),n("4917");function a(e){var t=e.match("<appid.*?>([\\s\\S]*)</appid>"),n=t[0].replace("<appid>","").replace("</appid>","").trim();return console.log("appid",n),n}function i(e,t,n){var r=a(e.requestStr);WeixinJSBridge.invoke("getBrandWCPayRequest",{appId:r||"wx45b40e5b82bd74d2",timeStamp:e.timeStamp,nonceStr:e.nonceStr,package:e.prepayId,signType:"MD5",paySign:e.paySign},function(e){"get_brand_wcpay_request:ok"==e.err_msg?t(200):n(-1)})}function c(e){var t=new Promise(function(t,n){0==e.payAmount?t(200):"undefined"==typeof WeixinJSBridge?document.addEventListener?document.addEventListener("WeixinJSBridgeReady",i(e,t,n),!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",i(e,t,n)),document.attachEvent("onWeixinJSBridgeReady",i(e,t,n))):i(e,t,n)});return t}t["a"]=function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t,n,o,a){var i,d,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return i=a||null,d={usrId:t.Storage.get("USER_INFO").usrId,paymentCode:"D_WEIXIN",tradeTypeCode:"JSAPI",paymentTypeCode:"D_FULL",shopCode:t.Storage.get("USER_INFO").shopCode,orderList:n,orderType:i,openId:t.Storage.get("WECHAT_INFO").openid,payAmount:o},console.log("payParam",d),e.next=5,t.$post("payment/orderPayment",d);case 5:if(s=e.sent,console.log("wxPayParam",s),"200"!==s.code){e.next=11;break}return e.abrupt("return",c(s));case 11:Object(r["a"])(s.message);case 12:case"end":return e.stop()}},e)}));return function(t,n,r,o){return e.apply(this,arguments)}}()},2158:function(e,t,n){},"507f":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wait-pay"},[n("div",{staticClass:"overflow-scroll flex-auto ",class:{"padding-top-90":e.paddingTop}},[n("countDown",{attrs:{order:e.order},on:{getOrdInfo:e.getOrdInfo}}),n("pickup-info",{class:{line:e.paddingTop},attrs:{data:e.order}}),n("good-list",{attrs:{pkg:e.order,order:e.order}}),n("order-info",{attrs:{data:e.order}})],1),n("div",{staticClass:"bottom"},[n("div",{staticClass:"price"},[e._v("实付金额:￥"+e._s(e._f("Fix2")(e.order.amountNeedPay)))]),n("button",{staticClass:"btn w30 btn-gray",on:{click:function(t){e.cancelOrder()}}},[e._v("取消订单")]),n("button",{staticClass:"btn w30 btn-blue",on:{click:function(t){e.pay()}}},[e._v("立即付款")])])])},o=[],a=(n("e7e5"),n("d399")),i=(n("a481"),n("96cf"),n("3b8d")),c=n("1fc8"),d=(n("bf3c"),n("46fc")),s=n("1f54"),u={components:c["a"],data:function(){return{paddingTop:!1,discount:{},order:{}}},methods:{getOrdInfo:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:Object(d["c"])(this);case 1:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),cancelOrder:function(){var e=this;Object(d["a"])(this).then(function(){e.$router.replace({name:"orderClosed",query:{billCode:e.order.billCode}})},function(t){t&&e.$router.replace({name:"orderClosed",query:{billCode:e.order.billCode}})})},pay:function(){var e=this,t=this.order.billCode,n=this.order.amountUnPay;Object(s["a"])(this,t,n).then(function(t){e.$router.replace({name:"waitShip",query:{billCode:e.order.billCode}})},function(t){500==t.statusCode&&(Object(a["a"])(t.errorMsg),e.getOrdInfo())})}},mounted:function(){var e=this;setTimeout(function(){e.$nextTick(function(){window.scrollTo(0,1)})},0)},created:function(){this.getOrdInfo()}},p=u,l=(n("98eb"),n("2877")),f=Object(l["a"])(p,r,o,!1,null,"31b005a1",null);t["default"]=f.exports},"98eb":function(e,t,n){"use strict";var r=n("2158"),o=n.n(r);o.a}}]);